System.register(["./mui-legacy-BDTphHaF.js","./reactVendor-legacy-CtYIj4Ma.js","./lang-legacy-C2M9M2Og.js","./react-setup-legacy-Bwwh9_Jr.js","../index-legacy.BPYbSXo1.js","./payment-legacy-Do1XG_-V.js","./router-legacy-CCJEjNy7.js","./eReact-legacy-BRtOBtIF.js","./intl-legacy-DG3cM9-L.js","./eCache-legacy-BoIqTPuc.js","./eStyled-legacy-D59194a7.js","./redux-legacy-Dls004SH.js","./toolkit-legacy-6OFItfV5.js","./lodashEs-legacy-Da1qF4L1.js","./muiIcon-legacy-BXgwC5sb.js","./dateFns-legacy-DV9BM4UY.js","./dropzone-legacy-B_7NAEdu.js","./b3Logger-legacy-C5y5ZQF8.js","./b3checkout-legacy-BteG3BdS.js"],(function(e,l){"use strict";var n,t,c,a,s,i,r,o,u,y,g,j;return{setters:[e=>{n=e.j,t=e.B},e=>{c=e.r},e=>{a=e.u},e=>{s=e.u,i=e.aq,r=e._,o=e.a5},null,e=>{u=e.f,y=e.g},e=>{g=e.c,j=e.u},null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",(function(){const e=s((({global:e})=>e.storeInfo.platform)),l=s((({company:e})=>e.tokens.B2BToken)),[d,f]=c.useState(!1),[h,m]=c.useState(!1),x=g(),p=j(),k=a();return c.useEffect((()=>{(async()=>{if(f(!0),!l)return m(!0),void f(!1);if(x?.id||o.error(k("payment.errorInvoiceCantBeBlank")),x?.id)try{const{invoice:{openBalance:{code:l="",value:n=""}}}=await u(+x.id);l&&n||o.error(k("payment.errorOpenBalanceIsIncorrect"));const t={lineItems:[{invoiceId:+x.id,amount:n}],currency:l};await y(t,e,!0)}catch(n){o.error(n?.message||k("payment.invoiceDoesntExist"))}finally{f(!1)}})()}),[e,x.id]),n.jsxs(t,{children:[d&&n.jsx(i,{backColor:"#FFFFFF"}),n.jsx(r,{isOpen:h,fullWidth:!0,title:"",rightSizeBtn:"ok",showLeftBtn:!1,handRightClick:()=>{p("/login")},children:n.jsx(t,{sx:{height:"200px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:n.jsxs(t,{children:[n.jsx(t,{sx:{mb:"10px"},children:k("payment.firstLoginToPay")}),n.jsx(t,{children:k("payment.clickToLandingPage")})]})})})]})}))}}}));
