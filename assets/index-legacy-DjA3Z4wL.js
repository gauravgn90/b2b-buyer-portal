System.register(["./mui-legacy-BDTphHaF.js","./reactVendor-legacy-CtYIj4Ma.js","./lang-legacy-C2M9M2Og.js","./react-setup-legacy-Bwwh9_Jr.js","../index-legacy.BPYbSXo1.js","./b3Logger-legacy-C5y5ZQF8.js","./address-legacy-BgusQrfm.js","./OrderStatus-legacy-DoDjKweg.js","./router-legacy-CCJEjNy7.js","./eStyled-legacy-D59194a7.js","./lodashEs-legacy-Da1qF4L1.js","./form-legacy-CAo5v63e.js","./B3CustomForm-legacy-BVFdU8az.js","./B3LinkTipContent-legacy-xZsV5ITn.js","./b3TriggerCartNumber-legacy-BWWQUXa7.js","./CreateShoppingList-legacy-ChXbCw_T.js","./OrderShoppingList-legacy-BTH5txts.js","./dateFns-legacy-DV9BM4UY.js","./muiIcon-legacy-BXgwC5sb.js","./eReact-legacy-BRtOBtIF.js","./intl-legacy-DG3cM9-L.js","./eCache-legacy-BoIqTPuc.js","./redux-legacy-Dls004SH.js","./toolkit-legacy-6OFItfV5.js","./dropzone-legacy-B_7NAEdu.js","./useCustomCallbacks-legacy-BXYZnszm.js","./b3ShoppingList-legacy-DBoBTyhL.js"],(function(e,t){"use strict";var r,n,u,i,a,o,s,c,l,p,h,m,d,f,w,g,y,_,v,b,x,S,P,k,C,j,A,I,T,D,E,O,L,N,R,M,B,U,z,G,q,F,W,K,Z,$,V,H,Q,J,Y,X,ee,te,re,ne,ue,ie,ae,oe,se,ce,le,pe,he,me,de,fe,we,ge,ye,_e;return{setters:[e=>{r=e.j,n=e.o,u=e.B,i=e.T,a=e.I,o=e.w,s=e.v,c=e.g,l=e.ae,p=e.J,h=e.ab,m=e.af,d=e.Z,f=e.G},e=>{w=e.r,g=e.a,y=e.e},e=>{_=e.u},e=>{v=e.ah,b=e.aD,x=e.r,S=e.u,P=e.p,k=e.a,C=e.aE,j=e.an,A=e.a5,I=e._,T=e.aF,D=e.aG,E=e.aH,O=e.aI,L=e.aJ,N=e.U,R=e.a0,M=e.a1,B=e.R,U=e.al,z=e.aK,G=e.a3,q=e.aL,F=e.aM,W=e.aN,K=e.G,Z=e.C,$=e.k,V=e.a2,H=e.W},null,e=>{Q=e.b},e=>{J=e.i},e=>{Y=e.g,X=e.a,ee=e.O,te=e.o,re=e.b,ne=e.c,ue=e.d,ie=e.e},e=>{ae=e.a,oe=e.u,se=e.c},e=>{ce=e.n},e=>{le=e.b},e=>{pe=e.u},e=>{he=e.B},e=>{me=e.s},e=>{de=e.b},e=>{fe=e.default},e=>{we=e.default},e=>{ge=e.i,ye=e.g},e=>{_e=e.A},null,null,null,null,null,null,null,null],execute:function(){e("default",(function(){return r.jsx(Se,{children:r.jsx(Qs,{})})}));const t=async(e,t)=>{await fetch(`/account.php?action=print_invoice&order_id=${e}`).then((e=>{if(e.ok)return e.text();throw new Error("Network response was not ok.")})).then((e=>{((e,t)=>{let r=document.getElementById(t);r||(r=document.createElement("iframe"),r.src="about:blank",r.id=t,r.style.display="none",document.body.appendChild(r));const n=r.contentWindow?.document;n&&(n.open(),n.write(e),n.close()),r.style.display="block"})(e,t)})).catch((e=>{Q.error("Error Invoice:",e)}))},ve={shippings:[],billings:[],history:[],poNumber:"",status:"",statusCode:"",currencyCode:"",currency:"",orderSummary:{createAt:"",name:"",priceData:{}},customStatus:"",money:{currency_location:"left",currency_token:"$",decimal_token:".",decimal_places:2,thousands_token:",",currency_exchange_rate:"1.0000000000"},payment:{},orderComments:"",products:[],orderId:"",orderStatus:[],ipStatus:0,invoiceId:0,addressLabelPermission:!1,canReturn:!1,createdEmail:"",orderIsDigital:!1,variantImages:[]},be=w.createContext({state:ve,dispatch:()=>{}}),xe=(e,t)=>{switch(t.type){case"all":return{...e,...t.payload};case"statusType":return{...e,orderStatus:t.payload.orderStatus};case"addressLabel":return{...e,addressLabelPermission:t.payload.addressLabelPermission};case"variantImages":return{...e,variantImages:t.payload.variantImages};default:return e}};function Se(e){const[t,n]=w.useReducer(xe,ve),{children:u}=e,i=w.useMemo((()=>({state:t,dispatch:n})),[t]);return r.jsx(be.Provider,{value:i,children:u})}const Pe=e=>{const{shipments:t,shippingAddress:r=[],products:n=[]}=e,u=(t||[]).map((e=>{const{items:t}=e,r=[];return t.forEach((e=>{const t=n.find((t=>t.id===e.order_product_id));t&&r.push({...t,current_quantity_shipped:e.quantity,not_shipping_number:t.quantity-t.quantity_shipped})})),{...e,itemsInfo:r}})),i=r.map((e=>({...e,shipmentItems:[...u.filter((t=>t.order_address_id===e.id))],notShip:{itemsInfo:n.filter((t=>(t.not_shipping_number=t.quantity-t.quantity_shipped,t.quantity>t.quantity_shipped&&e.id===t.order_address_id)))}})));return i},ke=e=>{const{billingAddress:t,products:r}=e;return[{billingAddress:t,products:r}]},Ce=e=>{const{decimal_places:t=2}=b();try{return(parseFloat(e.toString())||0).toFixed(t)}catch(r){return"0.00"}},je=(e,t)=>{const{dateCreated:r,firstName:n,lastName:u,totalTax:i,subtotalExTax:a,subtotalIncTax:o,totalExTax:s,totalIncTax:c,handlingCostExTax:l,handlingCostIncTax:p,shippingCostExTax:h,shippingCostIncTax:m}=e,{global:{showInclusiveTaxPrice:d}}=v.getState(),f=t("orderDetail.summary.subTotal"),w=t("orderDetail.summary.shipping"),g=t("orderDetail.summary.handingFee"),y=t("orderDetail.summary.tax"),_=t("orderDetail.summary.grandTotal");return{createAt:r,name:`${n} ${u}`,priceData:{[f]:Ce(d?o:a),[w]:Ce(d?m:h),[g]:Ce(p||l||""),[y]:Ce(i||""),[_]:Ce(c||s||"")}}},Ae=e=>{const{updatedAt:t,billingAddress:r,paymentMethod:n,dateCreated:u}=e,i=new Date(u).getTime()/1e3;return{updatedAt:t,billingAddress:r,paymentMethod:n,dateCreateAt:JSON.stringify(i)}},Ie=e=>{const{products:t}=e,r=[];return t.forEach((e=>{const t=r.findIndex((t=>+t.variant_id==+e.variant_id));if(-1===t)r.push(e);else{const n=r[t];r[t]={...n,quantity:+n.quantity+ +e.quantity}}})),r},Te=(e,t)=>({shippings:e.orderIsDigital?[]:Pe(e),billings:e.orderIsDigital?ke(e):[],history:e.orderHistoryEvent||[],poNumber:e.poNumber||"",status:e.status,statusCode:e.statusId,currencyCode:e.currencyCode,currency:e.money?.currency_token||"$",money:e.money,orderSummary:je(e,t),payment:Ae(e),orderComments:e.customerMessage,products:Ie(e),orderId:+e.id,customStatus:e.customStatus,ipStatus:+e.ipStatus||0,invoiceId:+(e.invoiceId||0),canReturn:e.canReturn,createdEmail:e.createdEmail,orderIsDigital:e.orderIsDigital});var De={},Ee=n;Object.defineProperty(De,"__esModule",{value:!0});var Oe=De.default=void 0,Le=Ee(x()),Ne=r;Oe=De.default=(0,Le.default)((0,Ne.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");var Re={},Me=n;Object.defineProperty(Re,"__esModule",{value:!0});var Be=Re.default=void 0,Ue=Me(x()),ze=r;Be=Re.default=(0,Ue.default)((0,ze.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");const Ge=1e8;function qe({onChange:e,color:t}){const n=_(),o=S(P),[s,c]=w.useState(Ge),[l,p]=w.useState(""),[h,m]=w.useState(!1),[d,f]=w.useState({rightId:"",leftId:""}),g=ae(),[y]=k();let v=0,b=0,x=null,C=null,j={offset:0};if(g?.state){const e=g.state;v=e?.currentIndex||0,b=e?.totalCount||0,x=e?.beginDateAt||null,C=e?.endDateAt||null,j=e?.searchParams||{offset:0}}if(w.useEffect((()=>{if(b>0&&c(v),s===Ge)return;const e=v+(j.offset||0);c(e)}),[j]),w.useEffect((()=>{s!==Ge&&(async()=>{m(!0);const e={...j,first:3,offset:s?s-1:0,beginDateAt:x||null,endDateAt:C||null,orderBy:"-createdAt"},{edges:t,totalCount:r}=o?await Y(e):await X(e);let n="",u="",i="";s===r-1?(n="toRight",i=t[t.length-2]?.node.orderId||0):0===s?(n="toLeft",u=t[1]?.node.orderId||0):(i=t[0]?.node.orderId||0,u=t[2]?.node.orderId||0),f({leftId:i,rightId:u}),p(n),m(!1)})()}),[s]),"{}"===JSON.stringify(j))return null;const A=s+1;return r.jsxs(u,{sx:{display:"flex",color:`${t}`},children:[!y&&r.jsxs(u,{sx:{display:"flex",alignItems:"center"},children:[n("orderDetail.pagination.order"),r.jsx(i,{sx:{m:1},children:A}),n("orderDetail.pagination.of"),r.jsx(u,{sx:{ml:1},children:b})]}),r.jsx(a,{onClick:()=>{c(s-1),e(d.leftId)},disabled:b<=1||"toLeft"===l||h,children:r.jsx(Oe,{sx:{color:`${t}`}})}),r.jsx(a,{onClick:()=>{c(s+1),e(d.rightId)},disabled:b<=1||"toRight"===l||h,children:r.jsx(Be,{sx:{color:`${t}`}})})]})}const Fe=()=>[{name:"return_reason",label:"Return reason",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Received Wrong Product",value:"Received wrong product"},{label:"Wrong Product Ordered",value:"Wrong product ordered"},{label:"Not Satisfied With The Product",value:"Not satisfied with the product"},{label:"There Was A Problem With The Product",value:"There was a problem with the product"}]},{name:"return_action",label:"Return action",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Repair",value:"Repair"},{label:"Replacement",value:"Replacement"},{label:"Store Credit",value:"Store credit"}]},{name:"return_comments",label:"Comment",required:!1,xs:12,rows:5,variant:"filled",size:"small",fieldType:"multiline",default:""}],We=ce("div")((({isHeader:e,isMobile:t})=>({display:"flex",wordBreak:"break-word",padding:"8px 0 0",gap:"8px",flexWrap:t?"wrap":"initial",...e?{borderBottom:"1px solid #D9DCE9",paddingBottom:"8px",alignItems:"center"}:{alignItems:"flex-start"},...t?{borderTop:"1px solid #D9DCE9",padding:"12px 0 12px","&:first-of-type":{marginTop:"12px"}}:{}}))),Ke=ce("div")((({width:e,padding:t="0",flexBasis:r,textAlignLocation:n})=>({display:"flex",flexGrow:e?0:1,flexShrink:e?0:1,alignItems:"flex-start",justifyContent:"right"===n?"flex-end":"flex-start",flexBasis:r,width:e,padding:t}))),Ze=ce("div")((()=>({fontSize:"0.875rem",lineHeight:"1.5",color:"#263238"}))),$e=ce("img")((()=>({width:"60px",borderRadius:"4px",flexShrink:0}))),Ve=ce("div")((()=>({fontSize:"0.75rem",lineHeight:"1.5",color:"#455A64"}))),He={default:{width:"15%"},qty:{width:"80px"}},Qe={default:{width:"100%",padding:"0 0 0 128px"},qty:{width:"100%",padding:"0 0 0 128px"}};function Je(e){const{products:t,getProductQuantity:n=(e=>e.editQuantity),onProductChange:a=(()=>{}),setCheckedArr:l=(()=>{}),setReturnArr:p=(()=>{}),textAlign:h="left",type:m}=e,d=_(),[f]=k(),[g,y]=w.useState([]),[v,b]=w.useState([]),x=(e,t)=>{const r=parseFloat(t.toString())||0;return(parseInt(e.toString(),10)||0)*r},S=f?Qe:He,P=()=>{if([...g].length===t.length)y([]),b([]);else{const e=t.map((e=>e.variant_id)),r=[];t.forEach(((e,t)=>{r[t]={returnId:e.id,returnQty:+e.editQuantity}})),y(e),b(r)}},I=e=>r=>{const n=e,u=r.target.value;+u>=0&&+u<=1e6&&(n.editQuantity=u,"return"===m&&(+u>+e.quantity?(n.editQuantity=e.quantity,A.error(d("purchasedProducts.error.returnedQuantityShouldBeWithinThePurchase"))):(v.forEach((t=>{const r=t;r.returnId===e.id&&(r.returnQty=+u)})),p(v))),a([...t]))},T=e=>{["KeyE","Equal","Minus"].indexOf(e.code)>-1&&e.preventDefault()},D=e=>()=>{const r=e;e.editQuantity&&0!=+e.editQuantity||(r.editQuantity="1",a([...t]))};return w.useEffect((()=>{l(g)}),[g]),w.useEffect((()=>{p(v)}),[v]),t.length>0?r.jsxs(u,{children:[!f&&r.jsxs(We,{isHeader:!0,isMobile:f,children:[r.jsx(o,{checked:g.length===t.length,onChange:P}),r.jsx(Ke,{children:r.jsx(Ze,{children:d("orderDetail.reorder.product")})}),r.jsx(Ke,{textAlignLocation:h,...S.default,children:r.jsx(Ze,{children:d("orderDetail.reorder.price")})}),r.jsx(Ke,{textAlignLocation:h,...S.default,children:r.jsx(Ze,{children:d("orderDetail.reorder.qty")})}),r.jsx(Ke,{textAlignLocation:h,...S.default,children:r.jsx(Ze,{children:d("orderDetail.reorder.total")})})]}),f&&r.jsx(s,{label:"Select all products",control:r.jsx(o,{checked:g.length===t.length,onChange:P}),sx:{paddingLeft:"0.6rem"}}),t.map((e=>{return r.jsxs(We,{isMobile:f,children:[r.jsx(o,{checked:(t=e.variant_id,g.includes(t)),onChange:()=>((e,t,r)=>{const n=[...g],u=[...v],i=n.findIndex((t=>t===e)),a=u.findIndex((e=>e.returnId===t));-1!==i?(n.splice(i,1),u.splice(a,1)):(n.push(e),u.push({returnId:t,returnQty:r})),y(n),b(u)})(e.variant_id,e.id,+e.editQuantity)}),r.jsxs(Ke,{children:[r.jsx($e,{src:e.imageUrl||C}),r.jsxs(u,{sx:{marginLeft:"16px"},children:[r.jsx(i,{variant:"body1",color:"#212121",children:e.name}),r.jsx(i,{variant:"body1",color:"#616161",children:e.sku}),(e.product_options||[]).map((e=>r.jsx(Ve,{children:`${e.display_name}: ${e.display_value}`},e.display_name)))]})]}),r.jsxs(Ke,{textAlignLocation:h,padding:"10px 0 0",...S.default,children:[f&&r.jsxs("span",{children:[d("orderDetail.reorder.price")," "]}),`${j(e.base_price)}`]}),r.jsx(Ke,{textAlignLocation:h,...S.default,children:r.jsx(c,{type:"number",variant:"filled",hiddenLabel:!f,label:f?d("orderDetail.reorder.qty"):"",value:n(e),onChange:I(e),onKeyDown:T,onBlur:D(e),size:"small",sx:{width:f?"60%":"80px","& .MuiFormHelperText-root":{marginLeft:"0",marginRight:"0"}},error:!!e.helperText,helperText:e.helperText})}),r.jsxs(Ke,{textAlignLocation:h,padding:"10px 0 0",...S.default,children:[f&&r.jsxs("span",{children:[d("orderDetail.reorder.total")," "]}),`${j(x(n(e),e.base_price))}`]})]},e.sku);var t}))]}):null}const Ye=()=>{const e=M.get("XSRF-TOKEN");if(e)return decodeURIComponent(e)};function Xe({open:e,products:t=[],type:n,currentDialogData:a,setOpen:o,itemKey:s,orderId:c}){const l=S(P),{state:{variantImages:p=[]}}=w.useContext(be),[h,m]=w.useState(!1),[d,f]=w.useState(!1),[g,y]=w.useState([]),[v,b]=w.useState([]),[x,C]=w.useState(!1),[j,M]=w.useState([]),[B,U]=w.useState([]),[z]=w.useState(Fe()),[G]=k(),{control:q,handleSubmit:F,getValues:W,formState:{errors:K},setValue:Z}=pe({mode:"all"}),$=_(),V=()=>{o(!1)},H=()=>{F((e=>{(async(e,t,r)=>{if(!Object.keys(e).length||!t.length)return void A.error($("purchasedProducts.error.selectOneItem"));const n=t.reduce(((e,t)=>(e[`return_qty[${t.returnId}]`]=t.returnQty,e)),e);n.authenticity_token=Ye(),n.order_id=r;const u=new URLSearchParams(n),i={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},referrer:`${R}/account.php?action=new_return&order_id=${r}`,body:u,mode:"no-cors"};try{C(!0);const e=await fetch(`${R}/account.php?action=save_new_return`,i);200===e.status&&e.url.includes("saved_new_return")?A.success($("purchasedProducts.success.successfulApplication")):A.error("purchasedProducts.error.failedApplication"),C(!1),V()}catch(a){Q.error(a)}})(e,B,c)}))()},J=async()=>{C(!0);try{const e=[],t=[];if(g.forEach((r=>{j.includes(r.variant_id)&&(e.push({quantity:parseInt(`${r.editQuantity}`,10)||1,productId:r.product_id,variantId:r.variant_id,optionSelections:(r.product_options||[]).map((e=>({optionId:e.product_option_id,optionValue:e.value}))),allOptions:r.product_options}),t.push(r.sku))})),t.length<=0)return;if(!((e,t)=>{let r=!0;return t.forEach((t=>{const n=(e||[]).find((e=>e.variantSku.toUpperCase()===t.toUpperCase())),u=g.find((e=>e.sku===t));if(!n||!u)return;const{maxQuantity:i=0,minQuantity:a=0,stock:o=0,isStock:s="0"}=n,c=u?.editQuantity||1;"1"===s&&c>o?(u.helperText=$("purchasedProducts.outOfStock"),r=!1):0!==a&&c<a?(u.helperText=$("purchasedProducts.minQuantity",{minQuantity:a}),r=!1):0!==i&&c>i?(u.helperText=$("purchasedProducts.maxQuantity",{maxQuantity:i}),r=!1):u.helperText=""})),r||y([...g]),r})(v,t))return void A.error($("purchasedProducts.error.fillCorrectQuantity"));const r=await L(e);r&&(r.data.cart.createCart||r.data.cart.addCartLineItems)?(o(!1),A.success("",{jsx:me({message:$("orderDetail.reorder.productsAdded"),link:N,linkText:$("orderDetail.viewCart"),isOutLink:!0,isCustomEvent:!0}),isClose:!0}),de()):r.errors&&A.error(r.errors[0].message,{isClose:!0})}catch(e){A.error(e?.detail,{isClose:!0})}finally{C(!1)}};return w.useEffect((()=>{e&&(y(t.map((e=>{const t=p.find((t=>e.sku===t?.variantSku||+e.variant_id==+t.variantId));return{...e,editQuantity:e.quantity,imageUrl:t?.variantImage||e.imageUrl}}))),(async()=>{const e=t.map((e=>e.sku)),{variantSku:r=[]}=l?await E({skus:e}):await O({skus:e});b(r)})())}),[l,e,t,p]),r.jsxs(r.Fragment,{children:[r.jsx(u,{sx:{ml:3,width:"50%"},children:r.jsxs(I,{isOpen:e,fullWidth:!0,handleLeftClick:V,handRightClick:()=>{if(0===j.length&&A.error($("purchasedProducts.error.selectOneItem")),"shoppingList"===n){if(0===j.length)return;V(),f(!0)}"reOrder"===n&&J(),"return"===n&&H()},title:a?.dialogTitle||"",rightSizeBtn:a?.confirmText||"Save",maxWidth:"md",loading:x,children:[r.jsx(i,{sx:{margin:G?"0 0 1rem":"1rem 0"},children:a?.description||""}),r.jsx(Je,{products:g,onProductChange:e=>{y(e)},setCheckedArr:M,setReturnArr:U,textAlign:G?"left":"right",type:n}),"return"===n&&r.jsxs(r.Fragment,{children:[r.jsx(i,{variant:"body1",sx:{margin:"20px 0"},children:$("purchasedProducts.orderDialog.aditionalInformation")}),r.jsx(he,{formFields:z,errors:K,control:q,getValues:W,setValue:Z})]})]})}),"order-summary"===s&&r.jsx(we,{isOpen:d,dialogTitle:$("purchasedProducts.orderDialog.addToShoppingList"),onClose:()=>{f(!1)},onConfirm:async e=>{C(!0);try{const t=g.map((e=>{const{product_id:t,variant_id:r,editQuantity:n,product_options:u}=e;return{productId:+t,variantId:r,quantity:+n,optionList:u.map((e=>{const{product_option_id:t,value:r}=e;return{optionId:`attribute[${t}]`,optionValue:r}}))}})),r=t.filter((e=>j.includes(+e.variantId))),n=l?T:D;await n({shoppingListId:+e,items:r}),A.success("",{jsx:me({message:$("orderDetail.addToShoppingList.productsAdded"),link:`/shoppingList/${e}`,linkText:$("orderDetail.viewShoppingList")}),isClose:!0}),f(!1)}finally{C(!1)}},onCreate:()=>{f(!1),m(!0)},isLoading:x,setLoading:C}),"order-summary"===s&&r.jsx(fe,{open:h,onChange:()=>{m(!1),f(!0)},onClose:()=>{m(!1),f(!0)}})]})}const et=ce("div")((()=>({}))),tt=ce("div")((e=>({flexWrap:"wrap",padding:e.isShowButtons?"0 1rem 1rem 1rem":0,"& button":{marginLeft:"0",marginRight:"8px",margin:"8px 8px 0 0"}}))),rt=ce("div")((e=>({display:"flex",justifyContent:"space-between",fontWeight:"Grand total"===e.nameKey?700:400,"& p":{marginTop:0,marginBottom:"Grand total"===e.nameKey?"0":"12px",lineHeight:1}}))),nt=ce("div")((()=>({display:"flex",justifyContent:"space-between",fontWeight:400})));function ut(e){const{header:n,subtitle:a,buttons:o,infos:s,products:c,itemKey:m,orderId:d,role:f,invoiceId:g,ipStatus:y}=e,v=_(),b=S((({b2bFeatures:e})=>e.masqueradeCompany.isAgenting)),x=[{dialogTitle:v("orderDetail.orderCard.reorder"),type:"reOrder",description:v("orderDetail.orderCard.reorderDescription"),confirmText:v("orderDetail.orderCard.reorderConfirmText")},{dialogTitle:v("orderDetail.orderCard.return"),type:"return",description:v("orderDetail.orderCard.returnDescription"),confirmText:v("orderDetail.orderCard.returnConfirmText")},{dialogTitle:v("orderDetail.orderCard.addToShoppingList"),type:"shoppingList",description:v("orderDetail.orderCard.addToShoppingListDescription"),confirmText:v("orderDetail.orderCard.addToShoppingListConfirmText")}],P=oe(),[k,C]=w.useState(!1),[I,T]=w.useState(""),[D,E]=w.useState(),O=o.filter((e=>e.isCanShow)).length>0;let L=[],N=[];if("string"!=typeof s){const{info:e}=s;L=Object.keys(e),N=Object.values(e)}let R=N?.map((e=>r.jsx(nt,{children:e},e)));return"string"==typeof s?R=s:s?.money&&(R=L?.map(((e,t)=>r.jsxs(w.Fragment,{children:["Grand total"===e&&r.jsx(l,{sx:{marginBottom:"1rem",marginTop:"0.5rem"}}),r.jsxs(rt,{nameKey:e,children:[r.jsx("p",{children:e}),r.jsx("p",{children:s?.money?`${z(s.money,N[t])}`:j(N[t])})]},e)]},e)))),r.jsxs(p,{sx:{marginBottom:"1rem"},children:[r.jsxs(u,{sx:{padding:"1rem 1rem 0 1rem"},children:[r.jsx(i,{variant:"h5",children:n}),a&&r.jsx("div",{children:a})]}),r.jsx(h,{children:r.jsx(u,{children:R})}),r.jsx(tt,{isShowButtons:O,children:o&&o.map((e=>r.jsx(w.Fragment,{children:e.isCanShow&&r.jsx(G,{value:e.value,name:e.name,variant:e.variant,onClick:le((()=>{(e=>{if("viewInvoice"===e)0!==y?P(`/invoice?invoiceId=${g}`):t(d,"b2b_print_invoice");else if("printInvoice"===e)window.open(`/account.php?action=print_invoice&order_id=${d}`);else{if(!b&&3==+f)return void A.error(v("orderDetail.orderCard.errorMasquerade"));C(!0),T(e);const t=x.find((t=>t.type===e));E(t)}})(e.name)}),2e3),children:e.value},e.key)},e.key)))}),r.jsx(Xe,{open:k,products:c,currentDialogData:D,type:I,setOpen:C,itemKey:m,orderId:+d})]})}function it(e){const{detailsData:t}=e,n=_(),u=S(P),i=S((({company:e})=>e.customer.emailAddress)),a=S((({company:e})=>e.customer.role)),o=S(B),{state:{addressLabelPermission:s,createdEmail:c}}=w.useContext(be),{money:l,orderSummary:{createAt:p,name:h,priceData:m}={},payment:{billingAddress:d,paymentMethod:f,dateCreateAt:g}={},orderComments:y="",products:v,orderId:b,ipStatus:x=0,invoiceId:k}=t;if(!b)return null;const{purchasabilityPermission:C,shoppingListActionsPermission:j,getInvoicesPermission:A}=o,I=e=>{if(s)return e;const t=e.indexOf("/");return e.substring(t+1,e.length)},T=[{value:n("orderDetail.reorder"),key:"Re-Order",name:"reOrder",variant:"outlined",isCanShow:!u||C},{value:n("orderDetail.return"),key:"Return",name:"return",variant:"outlined",isCanShow:!1},{value:n("orderDetail.addToShoppingList"),key:"add-to-shopping-list",name:"shoppingList",variant:"outlined",isCanShow:!u||j}],D=0!=+x||c===i,E=[{header:n("orderDetail.summary"),key:"order-summary",subtitle:g&&h?n("orderDetail.purchaseDetails",{name:h,updatedAt:U(+g)}):"",buttons:T,infos:{money:l,info:m||{}}},{header:n("orderDetail.payment"),key:"payment",subtitle:p?n("orderDetail.paidInFull",{paidDate:U(p,!0)}):"",buttons:[{value:n(u?"orderDetail.viewInvoice":"orderDetail.printInvoice"),key:"aboutInvoice",name:u?"viewInvoice":"printInvoice",variant:"outlined",isCanShow:u?D&&A:D}],infos:{info:(e=>{if(!e)return{};const{first_name:t,last_name:r,company:u,street_1:i,state:a,zip:o,country:s,city:c}=e||{};return{paymentMethod:n("orderDetail.paymentMethod",{paymentMethod:f??""}),name:n("orderDetail.customerName",{firstName:t,lastName:r}),company:I(u),street:i,address:n("orderDetail.customerAddress",{city:c,state:a,zip:o,country:s})}})(d)}},{header:n("orderDetail.comments"),key:"order-comments",subtitle:"",buttons:[],infos:{info:(e=>{const t=e.split(/\n/g),r={},u=["-------------------------------------"];return t.forEach(((e,t)=>{if(e.trim().length>0){let i=e.trim().includes(":")?e:n("orderDetail.itemComments",{item:e});u.includes(e)&&(i=e),r[`mes${t}`]=i}})),r})(y)}}];return r.jsx(et,{children:E&&E.map((e=>w.createElement(ut,{products:v,orderId:b.toString(),...e,itemKey:e.key,role:a,ipStatus:x,invoiceId:k,key:e.key})))})}function at(){const{state:{billings:e=[],addressLabelPermission:t,orderId:n,orderIsDigital:a}}=w.useContext(be),[o]=k(),s=e=>{const{billingAddress:t}=e;if(t){const{first_name:e,last_name:r}=t;return`${e} ${r}`}return""},c=e=>{const{billingAddress:t}=e;if(t){const{street_1:e,city:r,state:n,zip:u,country:i}=t;return`${e}, ${r}, ${n} ${u}, ${i}`}return""},l=e=>{if(t)return e;const r=e.indexOf("/");return e.substring(r+1,e.length)};return a?r.jsx(m,{spacing:2,children:e.map((e=>r.jsx(p,{children:r.jsxs(h,{children:[r.jsxs(u,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[r.jsxs(i,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[s(e)," – ",l(e.billingAddress.company||"")]}),r.jsx(i,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:c(e)})]}),r.jsx(q,{products:e.products,totalText:"Total",canToProduct:!0,textAlign:o?"left":"right"})]})},`billing-${n}`)))}):null}const ot=ce("div")((()=>({"& > .MuiPaper-root":{boxShadow:"none"},"& table":{"& td, & th":{"&:first-of-type":{paddingLeft:0}}}})));function st(){const e=_(),{state:{history:t=[],orderStatus:n=[],customStatus:u}}=w.useContext(be),[a]=k(),o=t=>{const r=n.find((e=>e.systemLabel===t));let i=r?.customLabel||u;if(r){const t=te[r.systemLabel];i=t&&e(t)!==r.systemLabel?e(t):i}return i},s=[{key:"time",title:e("orderDetail.history.dateHeader"),render:e=>{return t=e.createdAt,ge(new Date(1e3*t),new Date,{locale:W});var t},width:a?" 100px":"150px"},{key:"code",title:e("orderDetail.history.statusHeader"),render:e=>r.jsx(ee,{code:e.status,text:o(e.status)})}];return t.length>0?r.jsx(p,{children:r.jsxs(h,{sx:{paddingBottom:"50px"},children:[r.jsx(i,{variant:"h5",children:e("orderDetail.history.title")}),r.jsx(ot,{children:r.jsx(F,{columnItems:s,listItems:t,showPagination:!1})})]})}):null}var ct={};const lt={name:"Amazon",courier_code:"amazon",tracking_numbers:[{name:"Amazon Logistics",id:"amazon_logistics",regex:["\\s*T\\s*B\\s*A\\s*(?<SerialNumber>([0-9]\\s*){12,12})\\s*"],validation:{},test_numbers:{valid:["TBA000000000000","TBA010000000000","TBA 000000000000","TBA502887274000"],invalid:["TBA50288727400A","000000000000000","000000000000","TBB000000000000"]}},{name:"Amazon International",id:"amazon_international",regex:["\\s*[AFC]\\s*(?<SerialNumber>([0-9]\\s*){10,10})\\s*"],validation:{},test_numbers:{valid:["C1004444443","C1004444444"],invalid:["D1234567890"]}}]},pt={name:"DHL",courier_code:"dhl",tracking_numbers:[{name:"DHL Express",id:"dhl_express",regex:"\\s*(?<SerialNumber>([0-9]\\s*){9,10})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod7"}},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["3318810025","73891051146","8487135506","1099255990","3821724944","3318810036","3318810014"],invalid:["3318810010","3318810034","3318810011"]}},{name:"DHL Express (Piece ID)",id:"dhl_express_piece_id",regex:"\\s*(J[A-Z]{2,3})(?<SerialNumber>([0-9]\\s*){9,10})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["JJD0099999999","JVGL0999999990"],invalid:["XJD0099999998"]}},{name:"DHL E-Commerce",id:"dhl_ecommerce",regex:"\\s*((GM)|(LX)|(RX)|(UV)|(CN)|(SG)|(TH)|(IN)|(HK)|(MY))\\s*(?<SerialNumber>([0-9]\\s*){10,39})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["GM2951173225174494","GM 2 9 5 117 32 25 1 7 44 9 4","GM295117494011169042"],invalid:["GS295117494011169041","GR295117494011169045"]}}]},ht={name:"FedEx",courier_code:"fedex",tracking_numbers:[{name:"FedEx Express (12)",id:"fedex_12",regex:"\\s*(?<SerialNumber>([0-9]\\s*){11})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["986578788855","477179081230","799531274483","790535312317"," 7 9 0 5 3 5 3 1 2 3 1 7 ","974367662710"],invalid:["996578788855"]}},{name:"FedEx Express (34)",id:"fedex_34",regex:["\\s*1\\s*0\\s*[0-9]\\s*[0-9]\\s*[0-9]\\s*","([0-9]\\s*){10}","(?<DestinationZip>([0-9]\\s*){5})","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["1001921334250001000300779017972697","1001921380360001000300639585804382","1001901781990001000300617767839437"," 1 0 0 1 9 0 1 7 8 1 9 9 0 0 0 1 0 0 0 3 0 0 6 1 7 7 6 7 8 3 9 4 3 7 ","1002297871540001000300790695517286","1027590111820004833500785458233610"],invalid:["1001901781990001000300617767839438"]}},{name:"FedEx SmartPost",id:"fedex_smartpost",description:"Shipped by FedEx, Delivered by USPS",regex:["\\s*(?:","(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<ApplicationIdentifier>9\\s*2\\s*)",")?","(?<SerialNumber>","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>2\\s*9\\s*)","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>([0-9]\\s*))"],additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches_regex:".",name:"Delivered by USPS"}]}],partners:[{partner_id:"usps_91",partner_type:"carrier",description:"FedEx SmartPost is a shipping service that utilizes FedEx for the initial transport and the United States Postal Service for final delivery."}],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!92).+",content:"92"}}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["61299998820821171811","9261292700768711948021","420 11213 92 6129098349792366623 8","92 6129098349792366623 8","6129098349792366623 8"],invalid:["9261292700768711948020","92001903060085300042901077","420 11213 61290983497923666231","92 6129098349792366623 5","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95"]}},{name:"FedEx Ground",id:"fedex_ground",regex:"\\s*(?<SerialNumber>([0-9]\\s*){14})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["0414 4176 0228 964","5682 8361 0012 000"," 5 6 8 2   8 3 6 1   0 0 1 2   0 0 0 ","5682 8361 0012 734"],invalid:["5682 8361 0012 732"]}},{name:"FedEx Ground (SSCC-18)",id:"fedex_ground_sscc_18",regex:"\\s*(?<ShippingContainerType>([0-9]\\s*){2})(?<SerialNumber>([0-9]\\s*){15})(?<CheckDigit>[0-9]\\s*)",tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["00 0123 4500 0000 0027"," 0 0   0 1 2 3   4 5 0 0   0 0 0 0   0 0 2 7 "],invalid:["000000000000000001"]},additional:[{name:"Container Type",regex_group_name:"ShippingContainerType",lookup:[{matches:"00",name:"case/carton"},{matches:"01",name:"pallet"},{matches:"02",name:"larger than a pallet"},{matches:"04",name:"internally defined for intra-company use"}]}]},{name:"FedEx Ground 96 (22)",id:"fedex_ground_96",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){3})","(?<SerialNumber>(?<ShipperId>([0-9]\\s*){7})(?<PackageId>([0-9]\\s*){7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9611020987654312345672"," 9 6 1 1 0 2 0 9 8 7 6 5 4 3 1 2 3 4 5 6 7 2 "],invalid:["9600000000000000000001"]}},{name:"FedEx Ground GSN",id:"fedex_ground_gsn",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","([0-9]\\s*){5}","(?<GSN>([0-9]\\s*){10})","[0-9]\\s*","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9622001900000000000000776632517510","9622001560000000000000794808390594","9622001560001234567100794808390594"," 9 6 2 2 0 0 1 5 6 0 0 0 1 2 3 4 5 6 7 1 0 0 7 9 4 8 0 8 3 9 0 5 9 4 ","9632001560123456789900794808390594"],invalid:["9622001560001234567100794808390595","9622001560001234567100794808390597"]}}]},mt={name:"OnTrac",courier_code:"ontrac",tracking_numbers:[{name:"OnTrac",id:"ontrac_c",regex:"\\s*C\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!4).+$",content:"4"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["C11031500001879","C 110 31 500 00187 9","C10999911320231","C11121552953069","C11121553156000","C11121552829468"],invalid:["C10000000000000","C11031500001889"]}},{name:"OnTrac D",id:"ontrac_d",regex:"\\s*D\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!5).+$",content:"5"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["D10011354453707","D10011345983010","D 100 113 459 830 10","D10011342332145"],invalid:["D10011345983012","D10011342332144"]}}]},dt={name:"S10 International Standard",courier_code:"s10",tracking_numbers:[{id:"s10",name:"S10",validation:{checksum:{name:"s10"},additional:{exists:["Courier"]}},regex:"\\s*(?<ServiceType>([A-Z]\\s*){2})(?<SerialNumber>([0-9]\\s*){8})(?<CheckDigit>([0-9]\\s*))(?<CountryCode>([A-Z]\\s*){2})",tracking_url:null,test_numbers:{valid:["RB123456785GB","RB123456785US","RB123456785CV","RB123456785CF"],invalid:["RB123456786US","RB123456785XX"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{name:"EMS",matches_regex:"E[A-Z]",description:"International Express Mail Service"},{name:"Letter Post Express",matches_regex:"L[A-Z]",description:""},{name:"Letter Post M-bag",matches_regex:"M[A-Z]",description:"Direct sacks of printed matter sent to a single foreign addressee at a single address"},{name:"Letter Post IBRS",matches_regex:"Q[A-M]",description:"International Business Reply Service"},{name:"Letter Post Registered",matches_regex:"R[A-Z]",description:"Prepaid first-class mail that is recorded by the post office before being sent and at each point along its route to safeguard against loss, theft, or damage."},{name:"Letter Post Misc",matches_regex:"U[A-Z]",description:""},{name:"Letter Post Insured",matches_regex:"V[A-Z]",description:""},{name:"Parcel Post",matches_regex:"C[A-Z]",description:""},{name:"Parcel Post (e-commerce)",matches_regex:"H[A-Z]",description:""},{name:"Domestic",matches_regex:"([BDNPZ][A-Z]|A[V-Z]|G[AD])",description:"Mail designated for domestic, bilateral, or multilateral use"}]},{name:"Courier",regex_group_name:"CountryCode",lookup:[{matches:"AF",country:"Afghanistan",courier:"Afghan Post",courier_url:"http://postalcode.afghanpost.gov.af/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/afghanistan.html"},{matches:"AL",country:"Albania",courier:"Posta Shqiptare",courier_url:"http://www.postashqiptare.al/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/albania.html"},{matches:"DZ",country:"Algeria",courier:"Algérie Poste",courier_url:"http://www.poste.dz/codepostal/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/algeria.html"},{matches:"AO",country:"Angola",courier:"Correios de Angola",courier_url:"http://www.correiosdeangola.co.ao/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/angola.html"},{country:"Antigua and Barbuda",matches:"AG",courier:"Antigua Postal Services",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/antigua-and-barbuda.html"},{matches:"AR",country:"Argentina",courier:"Correo Argentino",courier_url:"http://www.correoargentino.com.ar/formularios/cpa",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/argentina.html"},{matches:"AM",country:"Armenia",courier:"Haypost - Armenian Postal Service",courier_url:"http://www.haypost.am/view-lang-eng-page-25.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/armenia.html"},{matches:"AU",country:"Australia",courier:"Australia Post",courier_url:"http://www1.auspost.com.au/postcodes/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/australia.html"},{matches:"AT",country:"Austria",courier:"Österreichische Post AG",courier_url:"http://www.post.at/en/index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/austria.html"},{matches:"AZ",country:"Azerbaijan",courier:"Azarpoçt",courier_url:"http://www.azerpost.az/?options=content&id=188&language=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/azerbaijan.html"},{matches:"BS",country:"Bahamas",courier:"Bahamas Postal Service",courier_url:"http://www.bahamas.gov.bs/postalservice",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/bahamas.html"},{matches:"BH",country:"Bahrain",courier:"Bahrain Post",courier_url:"http://www.transportation.gov.bh/en/modules.php?name=Content&pa=showpage&pid=97",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bahrain.html"},{matches:"BD",country:"Bangladesh",courier:"Bangladesh Post Office",courier_url:"http://www.bangladeshpost.gov.bd/PostCode.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bangladesh.html"},{matches:"BB",country:"Barbados",courier:"Barbados Postal Service",courier_url:"http://www.bps.gov.bb/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/barbados.html"},{matches:"BY",country:"Belarus",courier:"Belpochta",courier_url:"http://zip.belpost.by/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/belarus.html"},{matches:"BE",country:"Belgium",courier:"bpost",courier_url:"http://www.bpost.be/site/fr/residential/customerservice/search/postal_codes.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/belgium.html"},{matches:"BZ",country:"Belize",courier:"Belize Postal Service",courier_url:"http://www.belizepostalservice.gov.bz/site/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/belize.html"},{matches:"BJ",country:"Benin",courier:"La Poste du Bénin",courier_url:"http://www.laposte.bj/index1.php?id_page=1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/benin.html"},{matches:"BT",country:"Bhutan",courier:"Bhutan Post",courier_url:"http://www.bhutanpost.com.bt/postcode/postcode.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bhutan.html"},{matches:"BO",country:"Bolivia",courier:"ECOBOL – Empresa de Correos de Bolivia",courier_url:"http://www.correosbolivia.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/bolivia.html"},{matches:"BA",country:"Bosnia and Herzegovina",courier:"JP BH POŠTA d.o.o. Sarajevo",courier_url:"http://www.post.ba/postanski_brojevi_bih.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bosnia-and-herzegovina.html"},{matches:"BW",country:"Botswana",courier:"BotswanaPost",courier_url:"http://www.botspost.co.bw/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/botswana.html"},{matches:"BR",country:"Brazil",courier:"CORREIOS",courier_url:"http://www.buscacep.correios.com.br/servicos/dnec/index.do",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/brazil.html"},{matches:"BN",country:"Brunei Darussalam",courier:"Brunei Postal Services",courier_url:"http://www.post.gov.bn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/brunei-darussalam.html"},{matches:"BG",country:"Bulgaria (Rep.)",courier:"Bulgarian Posts",courier_url:"http://www.bgpost.bg/?cid=131",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bulgaria-rep.html"},{matches:"BF",country:"Burkina Faso",courier:"SONAPOST",courier_url:"http://www.sonapost.bf/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/burkina-faso.html"},{matches:"BI",country:"Burundi",courier:"RNP – Régie nationale des postes",courier_url:"http://www.poste.bi/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/burundi.html"},{matches:"KH",country:"Cambodia",courier:"Ministry of Posts and Telecommunications",courier_url:"http://www.mptc.gov.kh/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/cambodia.html"},{matches:"CM",country:"Cameroon",courier:"CAMPOST – Cameroon Postal Services",courier_url:"http://campostonline.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cameroon.html"},{matches:"CA",country:"Canada",courier:"Canada Post",courier_url:"http://www.canadapost.ca/cpotools/apps/fpc/personal/findByCity?execution=e1s1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/canada.html"},{country:"Cape Verde",matches:"CV",courier:"Correios de Cabo Verde",courier_url:"http://www.correios.cv/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cape-verde.html"},{country:"Central African Rep.",matches:"CF",courier:"Direction des services postaux de l'Office National des Postes et de l'Épargne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/central-african-rep.html"},{matches:"TD",country:"Chad",courier:"Société tchadienne des postes et de l'épargne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/chad.html"},{matches:"CL",country:"Chile",courier:"Correos de Chile",courier_url:"http://www.correos.cl/SitePages/home.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/chile.html"},{matches:"CN",country:"China (People's Rep.)",courier:"China Post",courier_url:"http://www.cpdc.com.cn/web/index.php?m=postsearch&c=index&a=init&t=addr",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/china-peoples-rep.html"},{matches:"HK",country:"China",courier:"Hong Kong Post",courier_url:"http://www.hongkongpost.hk",upu_reference_url:""},{matches:"CO",country:"Colombia",courier:"4-72 La Red Postal de Colombia",courier_url:"http://visor.codigopostal.gov.co/472/visor/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/colombia.html"},{matches:"KM",country:"Comoros",courier:"Societé Nationale des Postes et des Services Financiers",courier_url:"http://www.lapostecomores.com/bureaux.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/comoros.html"},{matches:"CG",country:"Congo (Rep.)",courier:"Congolese Posts and Savings Company",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/congo-rep.html"},{country:"Costa Rica",matches:"CR",courier:"Correos de Costa Rica",courier_url:"https://www.correos.go.cr/nosotros/codigopostal/busqueda.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/costa-rica.html"},{matches:"HR",country:"Croatia",courier:"Hrvatska Posta - Croatian Post",courier_url:"http://www.posta.hr/default.aspx?pretpum&id=3417",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/croatia.html"},{matches:"CU",country:"Cuba",courier:"Ministerio de la Informática y las comunicaciones de Cuba",courier_url:"http://www.mic.gov.cu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/cuba.html"},{matches:"CY",country:"Cyprus",courier:"Cyprus Post",courier_url:"http://www.mcw.gov.cy/mcw/dps/dps.nsf/index_en/index_en?OpenDocument",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/cyprus.html"},{matches:"CZ",country:"Czech Rep.",courier:"Česká Pošta",courier_url:"http://psc.cpost.cz/CleanForm.action?request_locale=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/czech-rep.html"},{matches:"CI",country:"Côte d'Ivoire (Rep.)",courier:"La Poste de Côte d’Ivoire",courier_url:"http://www.laposte.ci/bureau.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cote-divoire-rep.html"},{matches:"KP",country:"Dem People's Rep. of Korea",courier:"Korea Post and Telecommunications Corporation",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/dem-peoples-rep-of-korea.html"},{matches:"CD",country:"Democratic Republic of the Congo",courier:"Congolese Posts and Telecommunications Corporation",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/democratic-republic-of-the-congo.html"},{matches:"DK",country:"Denmark",courier:"Post Danmark",courier_url:"http://www.postdanmark.dk/en/find_postcode/Pages/home.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/denmark.html"},{matches:"DJ",country:"Djibouti",courier:"La Poste de Djibouti",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/djibouti.html"},{matches:"DM",country:"Dominica",courier:"General Post Office",courier_url:"http://publicworks.gov.dm/index.php/divisions/general-post-office/20-gpo-about-us",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/dominica.html"},{matches:"DO",country:"Dominican Republic",courier:"INPOSDOM – Instituto Postal Dominicano",courier_url:"http://www.inposdom.gob.do/servicios/codigo-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/dominican-republic.html"},{matches:"EC",country:"Ecuador",courier:"Correos del Ecuador",courier_url:"http://www.codigopostal.gob.ec/#",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/ecuador.html"},{matches:"EG",country:"Egypt",courier:"Egypt Post",courier_url:"http://www.egyptpost.org/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/egypt.html"},{matches:"SV",country:"El Salvador",courier:"Correos de El Salvador",courier_url:"http://www.correos.gob.sv/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/el-salvador.html"},{matches:"GQ",country:"Equatorial Guinea",courier:"Equatorial Guinea Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/equatorial-guinea.html"},{matches:"ER",country:"Eritrea",courier:"Eritrean Postal Service",courier_url:"http://www.eriposta.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/eritrea.html"},{matches:"EE",country:"Estonia",courier:"Eesti Post",courier_url:"http://www.post.ee/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/estonia.html"},{matches:"ET",country:"Ethiopia",courier:"Ethiopian postal service",courier_url:"http://www.ethiopostal.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/ethiopia.html"},{matches:"FJ",country:"Fiji",courier:"Post Fiji",courier_url:"http://www.postfiji.com.fj/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/fiji.html"},{matches:"FI",country:"Finland (including the Åland Islands)",courier:"Posti Ltd",courier_url:"http://www.verkkoposti.com/e3/english/postalcodecatalog",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/finland-including-the-aaland-islands.html"},{matches:"FR",country:"France",courier:"La Poste",courier_url:"http://www.laposte.fr/Entreprise/Outils-Indispensables/Outils/Trouvez-un-code-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/france.html"},{matches:"GA",country:"Gabon",courier:"La Poste SA",courier_url:"http://www.laposte.ga/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/gabon.html"},{matches:"GM",country:"Gambia",courier:"Gambia Postal services Corporation",courier_url:"http://www.gampost.gm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/gambia.html"},{matches:"GE",country:"Georgia",courier:"Georgian Post",courier_url:"http://www.georgianpost.ge/?site-lang=en&site-path=help/zipcodes/&letter=A",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/georgia.html"},{matches:"DE",country:"Germany",courier:"Deutsche Post",courier_url:"http://www.postdirekt.de/plzserver/PlzSearchServlet?lang=en_GB&id=viewstreet",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/germany.html"},{matches:"GH",country:"Ghana",courier:"Ghana Post",courier_url:"http://www.ghanapostgh.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/ghana.html"},{country:"Great Britain",matches:"GB",courier:"Royal Mail Group plc",courier_url:"http://www.royalmail.com/postcode-finder?gear=postcode&campaignid=postcodefinder_redirect",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/great-britain.html"},{matches:"GR",country:"Greece",courier:"Hellenic Post ELTA",courier_url:"http://www.elta.gr/en-us/findapostcode.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/greece.html"},{matches:"GD",country:"Grenada",courier:"Grenada Postal Corporation",courier_url:"http://www.grenadapostal.com/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/grenada.html"},{matches:"GT",country:"Guatemala",courier:"El Correo",courier_url:"http://www.elcorreo.com.gt/cdgcorreo/index.php?option=com_content&view=article&id=104&Itemid=233",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/guatemala.html"},{matches:"GN",country:"Guinea",courier:"Office de la poste guinéenne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/guinea.html"},{country:"Guinea-Bissau",matches:"GW",courier:"Correios da Guiné-Bissau",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/guinea-bissau.html"},{matches:"GY",country:"Guyana",courier:"Guyana Post Office Corporation",courier_url:"http://guypost.gy/gpoc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/guyana.html"},{matches:"HT",country:"Haiti",courier:"Office des Postes d’Haiti",courier_url:"http://postehaiti.gouv.ht/notre-reseau-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/haiti.html"},{matches:"HN",country:"Honduras (Rep.)",courier:"Honducor",courier_url:"http://honducor.gob.hn/codpost/consulta.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/honduras-rep.html"},{matches:"HU",country:"Hungary",courier:"Magyar Posta",courier_url:"http://www.posta.hu/ugyfelszolgalat/iranyitoszam_kereso",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/hungary.html"},{matches:"IS",country:"Iceland",courier:"Íslandspóstur hf",courier_url:"http://www.postur.is/en/desktopdefault.aspx/tabid-450/700_read-1715/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/iceland.html"},{matches:"IN",country:"India",courier:"India Post",courier_url:"http://www.indiapost.gov.in/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/india.html"},{matches:"ID",country:"Indonesia",courier:"Pos Indonesia",courier_url:"http://kodepos.indonesiaweb.info/en/street/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/indonesia.html"},{matches:"IR",country:"Iran (Islamic Rep.)",courier:"Islamic Republic of Iran Post Co.",courier_url:"http://www.post.ir/Homepage.aspx?site=PostPortal&lang=fa-IR&tabid=0",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iran-islamic-rep.html"},{matches:"IQ",country:"Iraq",courier:"Iraqi Post",courier_url:"http://www.iraqipost.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iraq.html"},{matches:"IE",country:"Ireland",courier:"AN Post - regulatory and International affairs Unit",courier_url:"http://locator.anpost.ie/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/ireland.html"},{matches:"IL",country:"Israel",courier:"Israel Post",courier_url:"http://www.israelpost.co.il/zipcode.nsf/demozip?openform",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/israel.html"},{matches:"IT",country:"Italy",courier:"Poste Italiane",courier_url:"http://www.poste.it/online/cercacap/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/italy.html"},{matches:"JM",country:"Jamaica",courier:"Jamaica Post",courier_url:"http://www.jamaicapost.gov.jm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/jamaica.html"},{matches:"JP",country:"Japan",courier:"Japan Post",courier_url:"http://www.post.japanpost.jp/zipcode/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/japan.html"},{matches:"JO",country:"Jordan",courier:"Jordan Post",courier_url:"http://www.jordanpost.com.jo/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/jordan.html"},{matches:"KZ",country:"Kazakhstan",courier:"Kazpost",courier_url:"http://www.kazpost.kz/ru/poisk-pochtovogo-indeksa-0",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kazakhstan.html"},{matches:"KE",country:"Kenya",courier:"Posta Kenya",courier_url:"http://www.posta.co.ke/postOfficeFind.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/kenya.html"},{matches:"KI",country:"Kiribati",courier:"Kiribati Public Service Public",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kiribati.html"},{matches:"KR",country:"Korea (Rep.)",courier:"Korea Post",courier_url:"http://www.epost.go.kr/roadAreaCdEng.retrieveRdEngAreaCdList.comm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/korea-rep.html"},{matches:"KW",country:"Kuwait",courier:"Kuwait Ministry of Communications",courier_url:"http://moc.kw/English/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kuwait.html"},{matches:"KG",country:"Kyrgyzstan",courier:"Kyrgyz Post",courier_url:"http://kyrgyzpost.kg/ru/news.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kyrgyzstan.html"},{matches:"LA",country:"Laos",courier:"Entreprise des Postes Lao",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lao-peoples-dem-rep.html"},{matches:"LV",country:"Latvia",courier:"Latvia Post",courier_url:"http://www.pasts.lv/lv/uzzinas/parbaudit-adresi/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/latvia.html"},{matches:"LB",country:"Lebanon",courier:"LibanPost",courier_url:"http://www.libanpost.com.lb/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lebanon.html"},{matches:"LS",country:"Lesotho",courier:"Lesotho Post",courier_url:"http://lesothopost.org.ls/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/lesotho.html"},{matches:"LR",country:"Liberia",courier:"Ministry of Posts and Telecommunications",courier_url:"http://www.mopt.gov.lr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/liberia.html"},{matches:"LY",country:"Libya",courier:"Libya Post",courier_url:"http://libyapost.ly/en/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/libya.html"},{matches:"LI",country:"Liechtenstein",courier:"Liechtensteinische Post AG",courier_url:"http://www.post.li/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/liechtenstein.html"},{matches:"LT",country:"Lithuania",courier:"Lietuvos Pastas",courier_url:"http://www.post.lt/en/help/postal-code-search",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/lithuania.html"},{matches:"LU",country:"Luxembourg",courier:"Post",courier_url:"http://www.post.lu/en/particuliers/courrier/rechercher-un-code-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/luxembourg.html"},{matches:"MG",country:"Madagascar",courier:"PAOSITRA MALAGASY",courier_url:"http://www.mtpc.gov.mg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/madagascar.html"},{matches:"MW",country:"Malawi",courier:"Malawi Posts Corporation",courier_url:"http://www.malawiposts.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/malawi.html"},{matches:"MY",country:"Malaysia",courier:"Pos Malaysia",courier_url:"http://www.pos.com.my/pos/homepage.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/malaysia.html"},{matches:"MV",country:"Maldives",courier:"Maldives Post",courier_url:"http://www.maldivespost.com/index.php?lid=10",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/maldives.html"},{matches:"ML",country:"Mali",courier:"Office national des postes",courier_url:"http://www.laposte.ml/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mali.html"},{matches:"MT",country:"Malta",courier:"Malta Post",courier_url:"http://postcodes.maltapost.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/malta.html"},{matches:"MR",country:"Mauritania",courier:"MAURIPOST – Société Mauritanienne des Postes",courier_url:"http://www.mauripost.mr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mauritania.html"},{matches:"MU",country:"Mauritius",courier:"Mauritius Post",courier_url:"http://www.mauritiuspost.mu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mauritius.html"},{matches:"MX",country:"Mexico",courier:"Correos de México",courier_url:"http://www.correosdemexico.gob.mx/ServiciosLinea/Paginas/ccpostales.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/mexico.html"},{matches:"MD",country:"Moldova",courier:"Posta Moldovei",courier_url:"http://www.posta.md/ro/postal_code.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/moldova.html"},{matches:"MC",country:"Monaco",courier:"La Poste Monaco",courier_url:"http://www.lapostemonaco.mc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/monaco.html"},{matches:"MN",country:"Mongolia",courier:"Mongol Post - Монгол шуудан компани",courier_url:"http://www.zipcode.mn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/mongolia.html"},{country:"Montenegro (Rep.)",matches:"ME",courier:"Pošta Crne Gore",courier_url:"http://www.postacg.me/main.php?idstr=177",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/montenegro-rep.html"},{matches:"MA",country:"Morocco",courier:"Barid Al-Maghrib – Poste Maroc",courier_url:"http://www.codepostal.ma/search_mot.aspx?keyword=",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/morocco.html"},{matches:"MZ",country:"Mozambique",courier:"Correios de Moçambique",courier_url:"http://www.correios.co.mz/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mozambique.html"},{matches:"MM",country:"Myanmar",courier:"Myanmar Post and Telecommunications Department",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/myanmar.html"},{matches:"NA",country:"Namibia",courier:"NAM Post",courier_url:"https://www.nampost.com.na/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/namibia.html"},{matches:"NR",country:"Nauru",courier:"Nauru General Post Office",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nauru.html"},{matches:"NP",country:"Nepal",courier:"Nepal Postal Services",courier_url:"http://www.gpo.gov.np/postalcode.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nepal.html"},{matches:"NL",country:"Netherlands",courier:"PostNL",courier_url:"http://www.postnl.nl/voorthuis/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/netherlands.html"},{matches:"NZ",country:"New Zealand (including the Ross Dependency)",courier:"New Zealand Post",courier_url:"http://www.nzpost.co.nz/Cultures/en-NZ/OnlineTools/PostCodeFinder/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/new-zealand-including-the-ross-dependency.html"},{matches:"NI",country:"Nicaragua",courier:"Correos de Nicaragua",courier_url:"http://www.correos.gob.ni/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/nicaragua.html"},{matches:"NE",country:"Niger",courier:"Niger Poste",courier_url:"http://www.nigerposte.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/niger.html"},{matches:"NG",country:"Nigeria",courier:"Nigerian Postal Service",courier_url:"http://www.nigeriapostcodes.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/nigeria.html"},{matches:"NO",country:"Norway",courier:"Posten",courier_url:"http://adressesok.posten.no/en/postal_codes/search",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/norway.html"},{matches:"OM",country:"Oman",courier:"Oman Post",courier_url:"http://www.omanpost.om/Portals/2/Skins/skins//tabid/64/Default.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/oman.html"},{matches:"PK",country:"Pakistan",courier:"Pakistan Post",courier_url:"http://www.pakpost.gov.pk/postcode/postcode.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/pakistan.html"},{matches:"PA",country:"Panama (Rep.)",courier:"Correos de Panamá",courier_url:"http://www.correospanama.gob.pa/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/panama-rep.html"},{matches:"PG",country:"Papua New Guinea",courier:"Post PNG",courier_url:"http://www.postpng.com.pg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/papua-new-guinea.html"},{matches:"PY",country:"Paraguay",courier:"Correo Paraguayo",courier_url:"http://www.correoparaguayo.gov.py/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/paraguay.html"},{matches:"PE",country:"Peru",courier:"SERPOST – Servicios Postales del Perú",courier_url:"http://www.mtc.gob.pe/portal/CPOSTAL/Listado_codigo_postal.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/peru.html"},{matches:"PH",country:"Philippines",courier:"PHLPOST – Philippine Postal Corporation",courier_url:"https://www.phlpost.gov.ph/zip-code-search.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/philippines.html"},{matches:"PL",country:"Poland",courier:"Poczta Polska",courier_url:"http://kody.poczta-polska.pl/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/poland.html"},{matches:"PT",country:"Portugal",courier:"CTT - Correios",courier_url:"http://www.ctt.pt/feapl_2/app/open/tools.jspx?tool=1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/portugal.html"},{matches:"QA",country:"Qatar",courier:"Qatar Post",courier_url:"http://www.qpost.com.qa/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/qatar.html"},{matches:"RO",country:"Romania",courier:"Posta Romana",courier_url:"http://www.posta-romana.ro/postal_codes",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/romania.html"},{matches:"RU",country:"Russian Federation",courier:"Russian Post",courier_url:"http://www.russianpost.ru/rp/servise/ru/home/postuslug/searchops",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/russian-federation.html"},{matches:"RW",country:"Rwanda",courier:"National Post Office (Iposita)",courier_url:"http://i-posita.rw/spip.php?article1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/rwanda.html"},{matches:"KN",country:"Saint Christopher (Saint Kitts) and Nevis",courier:"St. Kitts & Nevis Postal Services",courier_url:"http://www.post.gov.kn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-christopher-saint-kitts-and-nevis.html"},{matches:"LC",country:"Saint Lucia",courier:"Saint Lucia Postal Service",courier_url:"http://www.stluciapostal.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-lucia.html"},{matches:"VC",country:"Saint Vincent and the Grenadines",courier:"SVG Postal Corporation",courier_url:"http://www.svgpost.gov.vc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-vincent-and-the-grenadines.html"},{matches:"WS",country:"Samoa",courier:"Samoa Post",courier_url:"http://www.samoapost.ws/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/samoa.html"},{matches:"SM",country:"San Marino",courier:"Poste San Marino",courier_url:"http://www.poste.sm/on-line/home.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/san-marino.html"},{matches:"ST",country:"Sao Tome and Principe",courier:"Correios de São Tomé e Príncipe",courier_url:"http://www.inh.st/correios.st.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sao-tome-and-principe.html"},{matches:"SA",country:"Saudi Arabia",courier:"Saudi Post",courier_url:"http://maps.address.gov.sa",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/saudi-arabia.html"},{matches:"SN",country:"Senegal",courier:"La Poste Senegal",courier_url:"http://www.laposte.sn/laposte/trouver_codepostal.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/senegal.html"},{matches:"RS",country:"Serbia (Rep.)",courier:'PTT Communications "Srbija"',courier_url:"http://www.posta.rs/struktura/eng/aplikacije/pronadji/nadji-pak-rezultat.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/serbia-rep.html"},{matches:"SC",country:"Seychelles",courier:"Seychelles Postal Service",courier_url:"http://www.seychellespost.gov.sc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/seychelles.html"},{matches:"SL",country:"Sierra Leone",courier:"Sierra Leone Postal Services",courier_url:"http://www.salpost.sl/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sierra-leone.html"},{matches:"SG",country:"Singapore",courier:"SingPost",courier_url:"http://www.singpost.com.sg/quick_services/index.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/singapore.html"},{matches:"SK",country:"Slovakia",courier:"Slovenská Posta",courier_url:"http://psc.posta.sk/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/slovakia.html"},{matches:"SI",country:"Slovenia",courier:"Posta Slovenije d.o.o.",courier_url:"http://www.posta.si/postne-stevilke-doma",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/slovenia.html"},{matches:"SB",country:"Solomon Islands",courier:"Solomon Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/solomon-islands.html"},{matches:"SO",country:"Somalia",courier:"Somali Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/somalia.html"},{matches:"ZA",country:"South Africa",courier:"South African Post Office",courier_url:"http://www.postoffice.co.za/ContactUs/postalcode.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/south-africa.html"},{matches:"SS",country:"South Sudan (Rep.)",courier:"Minister of Telecommunication and Postal Services",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/south-sudan-rep.html"},{matches:"ES",country:"Spain",courier:"Correos y Telégrafos",courier_url:"http://www.correos.es/ss/Satellite/site/pagina-buscador_codigos_postales/sidioma=es_ES",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/spain.html"},{matches:"LK",country:"Sri Lanka",courier:"Sri Lanka Post",courier_url:"http://www.slpost.gov.lk/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/sri-lanka.html"},{matches:"SD",country:"Sudan",courier:"Sudapost",courier_url:"http://sudapost.sd/index.php/en/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sudan.html"},{matches:"SR",country:"Suriname",courier:"SURPOST",courier_url:"http://www.surpost.com/surpost2/index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/suriname.html"},{matches:"SZ",country:"Swaziland",courier:"Swaziland Posts & Telecommunications Corporation",courier_url:"http://www.sptc.co.sz/swazipost/codes.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/swaziland.html"},{matches:"SE",country:"Sweden",courier:"Posten Sweden Post",courier_url:"http://www.posten.se/oldurls/old_postnummersok.jspv",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/sweden.html"},{matches:"CH",country:"Switzerland",courier:"La Poste Suisse",courier_url:"http://www.swisspost.ch/post-startseite.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/switzerland.html"},{matches:"SY",country:"Syrian Arab Rep.",courier:"Syrian Post",courier_url:"http://www.syrianpost.gov.sy/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/syrian-arab-rep.html"},{matches:"TJ",country:"Tajikistan",courier:"Tajikistan’s communications service agency",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/tajikistan.html"},{matches:"TZ",country:"Tanzania (United Rep.)",courier:"Tanzania Posts Corporation",courier_url:"http://www.posta.co.tz/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/tanzania-united-rep.html"},{matches:"TH",country:"Thailand",courier:"Thailand Post",courier_url:"http://www.thailandpost.com/search.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/thailand.html"},{matches:"MK",country:"The former Yugoslav Republic of Macedonia",courier:"Macedonian Post & Telecommunications",courier_url:"http://www.posta.mk/pravilno_adresiranje.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/the-former-yugoslav-republic-of-macedonia.html"},{matches:"TL",country:"Timor-Leste (Dem. Rep.)",courier:"Correios de Timor Leste",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/timor-leste-dem-rep.html"},{matches:"TG",country:"Togo",courier:"La Poste du Togo",courier_url:"http://www.laposte.tg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/togo.html"},{matches:"TO",country:"Tonga (including Niuafo'ou)",courier:"Tonga Post",courier_url:"http://tongapost.to/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tonga-including-niuafoou.html"},{matches:"TT",country:"Trinidad and Tobago",courier:"Trinidad and Tobago Postal Corporation",courier_url:"http://www.ttpost.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/trinidad-and-tobago.html"},{matches:"TN",country:"Tunisia",courier:"La Poste Tunisienne",courier_url:"http://www.poste.tn/codes.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/tunisia.html"},{matches:"TR",country:"Turkey",courier:"Turkey Post",courier_url:"http://postakodu.ptt.gov.tr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/turkey.html"},{matches:"TM",country:"Turkmenistan",courier:"Turkmenpost",courier_url:"http://www.turkmenpost.gov.tm/about_index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/turkmenistan.html"},{matches:"TV",country:"Tuvalu",courier:"Tuvalu Philatelic Bureau",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tuvalu.html"},{matches:"UG",country:"Uganda",courier:"Posta Uganda",courier_url:"http://www.ugapost.co.ug/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/uganda.html"},{matches:"UA",country:"Ukraine",courier:"Ukrposhta",courier_url:"http://services.ukrposhta.com/postindex_new/default.aspx?lang=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/ukraine.html"},{matches:"AE",country:"United Arab Emirates",courier:"Emirates Post",courier_url:"http://www.emiratespost.com/content/english/index.jsp;jsessionid=35fbe352a6c441a491929d81d54fa0c6",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/united-arab-emirates.html"},{matches:"US",country:"United States of America",courier:"United States Postal Service",courier_url:"http://zip4.usps.com/zip4/welcome.jsp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/united-states-of-america.html"},{matches:"UY",country:"Uruguay",courier:"Correo Uruguayo",courier_url:"http://www.correo.com.uy/index.asp?codPag=codPost&switchMapa=codPost",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/uruguay.html"},{matches:"UZ",country:"Uzbekistan",courier:"Post of Uzbekistan",courier_url:"http://www.pochta.uz/index.php/en/postal-indexes/9",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/uzbekistan.html"},{matches:"VU",country:"Vanuatu",courier:"Vanuatu Post",courier_url:"http://www.vanuatupost.vu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/vanuatu.html"},{matches:"VA",country:"Vatican",courier:"Vatican post",courier_url:"http://www.vaticanstate.va/EN/Services/Philatelic_and_Numismatic_Office/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/vatican.html"},{matches:"VE",country:"Venezuela",courier:"IPOSTEL – Instituto Postal Telegráfico de Venezuela",courier_url:"http://www.ipostel.gob.ve/nlinea/codigo_postal.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/venezuela.html"},{matches:"VN",country:"Viet Nam",courier:"VNPT – Vietnam Posts and Telecommunications Group",courier_url:"http://postcode.vnpost.vn/services/search.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/viet-nam.html"},{matches:"YE",country:"Yemen",courier:"Yemen Post",courier_url:"http://www.post.ye/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/yemen.html"},{matches:"ZM",country:"Zambia",courier:"Zambia Postal Services Corporation (ZAMPOST)",courier_url:"http://www.zampost.com.zm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/zambia.html"},{matches:"ZW",country:"Zimbabwe",courier:"Zimpost – Zimbabwe Posts",courier_url:"http://www.zimpost.co.zw/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/zimbabwe.html"}]}]}]},ft={name:"UPS",courier_code:"ups",tracking_numbers:[{name:"UPS",id:"ups",regex:["\\s*1\\s*Z\\s*(?<SerialNumber>","(?<ShipperId>(?:[A-Z0-9]\\s*){6,6})","(?<ServiceType>(?:[A-Z0-9]\\s*){2,2})","(?<PackageId>(?:[A-Z0-9]\\s*){7,7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"01",name:"UPS United States Next Day Air (Red)"},{matches:"02",name:"UPS United States Second Day Air (Blue)"},{matches:"03",name:"UPS United States Ground"},{matches:"12",name:"UPS United States Third Day Select"},{matches:"13",name:"UPS United States Next Day Air Saver (Red Saver)"},{matches:"15",name:"UPS United States Next Day Air Early A.M."},{matches:"22",name:"UPS United States Ground - Returns Plus - Three Pickup Attempts"},{matches:"32",name:"UPS United States Next Day Air Early A.M. - COD"},{matches:"33",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, COD"},{matches:"41",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery"},{matches:"42",name:"UPS United States Ground - Signature Required"},{matches:"44",name:"UPS United States Next Day Air - Saturday Delivery"},{matches:"66",name:"UPS United States Worldwide Express"},{matches:"72",name:"UPS United States Ground - Collect on Delivery"},{matches:"78",name:"UPS United States Ground - Returns Plus - One Pickup Attempt"},{matches:"90",name:"UPS United States Ground - Returns - UPS Prints and Mails Label"},{matches:"A0",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required"},{matches:"A1",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required"},{matches:"A2",name:"UPS United States Next Day Air - Adult Signature Required"},{matches:"A8",name:"UPS United States Ground - Adult Signature Required"},{matches:"A9",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required, COD"},{matches:"AA",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required, COD"},{matches:"YW",name:"UPS SurePost - Delivered by the USPS"}]}],test_numbers:{valid:["1Z5R89390357567127","1Z879E930346834440","1Z410E7W0392751591","1Z8V92A70367203024"," 1 Z 8 V 9 2 A 7 0 3 6 7 2 0 3 0 2 4 ","1ZXX3150YW44070023"],invalid:["2Z5R89390357567127","1A5R89390357567127","1Z1111111111111111"]}},{name:"UPS Waybill",regex:["\\s*(?<ServiceType>([AHJKTV]\\s*){1})","(?<SerialNumber>(?:[0-9]\\s*){9})","(?<CheckDigit>[0-9]\\s*){1}"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"J",name:"UPS Next Day Express"},{matches:"K",name:"UPS Ground"},{matches:"V",name:"UPS WorldWide Express Saver"}]}],tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",test_numbers:{valid:["K1506235620","K 150 623 562 0","K2479825491","J4603636537","V0490119172","V0431105627"],invalid:["K1506235622","K2479825492","J4603636538","V0411335627","V0423305841"]}}]},wt={name:"United States Postal Service",courier_code:"usps",tracking_numbers:[{tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",name:"USPS 20",id:"usps_20",description:"20 digit USPS numbers",regex:["\\s*(?<SerialNumber>","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){9})","(?<PackageId>([0-9]\\s*){8})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["0307 1790 0005 2348 3741"," 0 3 0 7   1 7 9 0   0 0 0 5   2 3 4 8   3 7 4 1 ","7112 3456 7891 2345 6787"],invalid:["0307 1790 0005 2348 3742"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"71",name:"Certified Mail"},{matches:"73",name:"Insured Mail"},{matches:"77",name:"Registered Mail"},{matches:"81",name:"Return Receipt For Merchanise"}]}]},{name:"USPS 34v2",id:"usps_32V2",description:"variation on 34 digit USPS IMpd numbers",regex:["\\s*(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5})","(?<RoutingNumber>([0-9]\\s*){4})","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[2345]\\s*)?","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["4201002334249200190132607600833457","4201028200009261290113185417468510"," 4 2 0 1 0 2 8 2 0 0 0 0 9 2 6 1 2 9 0 1 1 3 1 8 5 4 1 7 4 6 8 5 1 0 "],invalid:["4201028200009261290113185417468511"]}},{name:"USPS 91",id:"usps_91",description:"USPS now calls this the IMpd barcode format",regex:["\\s*(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[12345]\\s*)?","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!9[1-5]).+",content:"91"}}},partners:[{description:"FedEx SmartPost uses USPS for last mile delivery, but not all USPS91 numbers are SmartPosts",partner_type:"shipper",partner_id:"fedex_smartpost",validation:{matches_all:[{regex_group_name:"ServiceType",matches:"29"},{matches:"61",regex_group_name:"SCNC"}]}}],tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["420 22153 9101026837331000039521","7196 9010 7560 0307 7385","9505 5110 6960 5048 6006 24","9101 1234 5678 9000 0000 13","92748931507708513018050063","92001903060085300042901077","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95","9405803699300124287899"],invalid:["61299998820821171811","9200000000000000000000","420000000000000000000000000000","420000009200000000000000000000"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"11",name:"First Class (R)"},{matches:"29",name:"Fedex Smart Post"}]}]}]},gt=function(){return!1},yt=function(){return!0};function _t(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function vt(e){return function t(r){return 0===arguments.length||_t(r)?t:e.apply(this,arguments)}}function bt(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return _t(r)?t:vt((function(t){return e(r,t)}));default:return _t(r)&&_t(n)?t:_t(r)?vt((function(t){return e(t,n)})):_t(n)?vt((function(t){return e(r,t)})):e(r,n)}}}const xt=bt((function(e,t){return Number(e)+Number(t)}));function St(e,t){var r;t=t||[];var n=(e=e||[]).length,u=t.length,i=[];for(r=0;r<n;)i[i.length]=e[r],r+=1;for(r=0;r<u;)i[i.length]=t[r],r+=1;return i}function Pt(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,u){return t.apply(this,arguments)};case 5:return function(e,r,n,u,i){return t.apply(this,arguments)};case 6:return function(e,r,n,u,i,a){return t.apply(this,arguments)};case 7:return function(e,r,n,u,i,a,o){return t.apply(this,arguments)};case 8:return function(e,r,n,u,i,a,o,s){return t.apply(this,arguments)};case 9:return function(e,r,n,u,i,a,o,s,c){return t.apply(this,arguments)};case 10:return function(e,r,n,u,i,a,o,s,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function kt(e,t,r){return function(){for(var n=[],u=0,i=e,a=0;a<t.length||u<arguments.length;){var o;a<t.length&&(!_t(t[a])||u>=arguments.length)?o=t[a]:(o=arguments[u],u+=1),n[a]=o,_t(o)||(i-=1),a+=1}return i<=0?r.apply(this,n):Pt(i,kt(e,n,r))}}var Ct=bt((function(e,t){return 1===e?vt(t):Pt(e,kt(e,[],t))}));const jt=Ct;var At=vt((function(e){return jt(e.length,(function(){var t=0,r=arguments[0],n=arguments[arguments.length-1],u=Array.prototype.slice.call(arguments,0);return u[0]=function(){var e=r.apply(this,St(arguments,[t,n]));return t+=1,e},e.apply(this,u)}))}));const It=At;function Tt(e){return function t(r,n,u){switch(arguments.length){case 0:return t;case 1:return _t(r)?t:bt((function(t,n){return e(r,t,n)}));case 2:return _t(r)&&_t(n)?t:_t(r)?bt((function(t,r){return e(t,n,r)})):_t(n)?bt((function(t,n){return e(r,t,n)})):vt((function(t){return e(r,n,t)}));default:return _t(r)&&_t(n)&&_t(u)?t:_t(r)&&_t(n)?bt((function(t,r){return e(t,r,u)})):_t(r)&&_t(u)?bt((function(t,r){return e(t,n,r)})):_t(n)&&_t(u)?bt((function(t,n){return e(r,t,n)})):_t(r)?vt((function(t){return e(t,n,u)})):_t(n)?vt((function(t){return e(r,t,u)})):_t(u)?vt((function(t){return e(r,n,t)})):e(r,n,u)}}}const Dt=Tt((function(e,t,r){if(e>=r.length||e<-r.length)return r;var n=(e<0?r.length:0)+e,u=St(r);return u[n]=t(r[n]),u})),Et=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function Ot(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function Lt(e,t,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),u=n.pop();if(!Et(u)){for(var i=0;i<e.length;){if("function"==typeof u[e[i]])return u[e[i]].apply(u,n);i+=1}if(Ot(u))return t.apply(null,n)(u)}return r.apply(this,arguments)}}function Nt(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}const Rt={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};var Mt=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=Nt(this.xf["@@transducer/step"](e,!1))),e},e}();const Bt=bt(Lt(["all"],bt((function(e,t){return new Mt(e,t)})),(function(e,t){for(var r=0;r<t.length;){if(!e(t[r]))return!1;r+=1}return!0}))),Ut=bt((function(e,t){return t>e?t:e}));function zt(e,t){for(var r=0,n=t.length,u=Array(n);r<n;)u[r]=e(t[r]),r+=1;return u}function Gt(e){return"[object String]"===Object.prototype.toString.call(e)}var qt=vt((function(e){return!!Et(e)||!!e&&"object"==typeof e&&!Gt(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))})),Ft=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function Wt(e){return new Ft(e)}var Kt=bt((function(e,t){return Pt(e.length,(function(){return e.apply(t,arguments)}))}));const Zt=Kt;function $t(e,t,r){for(var n=r.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function Vt(e,t,r,n){return e["@@transducer/result"](r[n](Zt(e["@@transducer/step"],e),t))}var Ht="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Qt(e,t,r){if("function"==typeof e&&(e=Wt(e)),qt(r))return function(e,t,r){for(var n=0,u=r.length;n<u;){if((t=e["@@transducer/step"](t,r[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}(e,t,r);if("function"==typeof r["fantasy-land/reduce"])return Vt(e,t,r,"fantasy-land/reduce");if(null!=r[Ht])return $t(e,t,r[Ht]());if("function"==typeof r.next)return $t(e,t,r);if("function"==typeof r.reduce)return Vt(e,t,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Jt=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),Yt=bt((function(e,t){return new Jt(e,t)}));function Xt(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var er=Object.prototype.toString,tr=function(){return"[object Arguments]"===er.call(arguments)?function(e){return"[object Arguments]"===er.call(e)}:function(e){return Xt("callee",e)}}(),rr=!{toString:null}.propertyIsEnumerable("toString"),nr=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ur=function(){return arguments.propertyIsEnumerable("length")}(),ir=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},ar="function"!=typeof Object.keys||ur?vt((function(e){if(Object(e)!==e)return[];var t,r,n=[],u=ur&&tr(e);for(t in e)!Xt(t,e)||u&&"length"===t||(n[n.length]=t);if(rr)for(r=nr.length-1;r>=0;)Xt(t=nr[r],e)&&!ir(n,t)&&(n[n.length]=t),r-=1;return n})):vt((function(e){return Object(e)!==e?[]:Object.keys(e)}));const or=ar;var sr=bt(Lt(["fantasy-land/map","map"],Yt,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return jt(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return Qt((function(r,n){return r[n]=e(t[n]),r}),{},or(t));default:return zt(e,t)}})));const cr=Number.isInteger||function(e){return(0|e)===e};var lr=bt((function(e,t){var r=e<0?t.length+e:e;return Gt(t)?t.charAt(r):t[r]}));const pr=bt((function(e,t){return e.map((function(e){for(var r,n=t,u=0;u<e.length;){if(null==n)return;r=e[u],n=cr(r)?lr(r,n):n[r],u+=1}return n}))})),hr=bt((function(e,t){return pr([e],t)[0]})),mr=bt((function(e,t){return hr([e],t)})),dr=bt((function(e,t){return sr(mr(e),t)}));var fr=Tt(Qt),wr=vt((function(e){return jt(fr(Ut,0,dr("length",e)),(function(){for(var t=0,r=e.length;t<r;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0}))}));const gr=wr,yr=vt((function(e){return function(){return e}})),_r=bt((function(e,t){return e&&t}));var vr=function(){function e(e,t){this.xf=t,this.f=e,this.any=!1}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=Nt(this.xf["@@transducer/step"](e,!0))),e},e}();const br=bt(Lt(["any"],bt((function(e,t){return new vr(e,t)})),(function(e,t){for(var r=0;r<t.length;){if(e(t[r]))return!0;r+=1}return!1})));var xr=vt((function(e){return jt(fr(Ut,0,dr("length",e)),(function(){for(var t=0,r=e.length;t<r;){if(e[t].apply(this,arguments))return!0;t+=1}return!1}))}));const Sr=xr,Pr=bt((function(e,t){return"function"==typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"==typeof e.ap?e.ap(t):"function"==typeof e?function(r){return e(r)(t(r))}:Qt((function(e,r){return St(e,sr(r,t))}),[],e)}));function kr(e,t){for(var r=0,n=t.length-(e-1),u=new Array(n>=0?n:0);r<n;)u[r]=Array.prototype.slice.call(t,r,r+e),r+=1;return u}var Cr=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e.prototype.getCopy=function(){return St(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},e}();const jr=bt(Lt([],bt((function(e,t){return new Cr(e,t)})),kr)),Ar=bt((function(e,t){return St(t,[e])})),Ir=bt((function(e,t){return e.apply(this,t)}));var Tr=vt((function(e){for(var t=or(e),r=t.length,n=[],u=0;u<r;)n[u]=e[t[u]],u+=1;return n}));const Dr=Tr;function Er(e,t){return or(t).reduce((function(r,n){return r[n]=e(t[n]),r}),{})}var Or=vt((function e(t){return t=Er((function(t){return"function"==typeof t?t:e(t)}),t),jt(fr(Ut,0,dr("length",Dr(t))),(function(){var e=arguments;return Er((function(t){return Ir(t,e)}),t)}))}));const Lr=Or,Nr=bt((function(e,t){return t(e)})),Rr=Tt((function(e,t,r){var n=e(t),u=e(r);return n<u?-1:n>u?1:0}));var Mr=Tt((function(e,t,r){var n={};for(var u in r)n[u]=r[u];return n[e]=t,n}));const Br=Mr,Ur=vt((function(e){return null==e}));var zr=Tt((function e(t,r,n){if(0===t.length)return r;var u=t[0];if(t.length>1){var i=!Ur(n)&&Xt(u,n)?n[u]:cr(t[1])?[]:{};r=e(Array.prototype.slice.call(t,1),r,i)}if(cr(u)&&Et(n)){var a=[].concat(n);return a[u]=r,a}return Br(u,r,n)}));const Gr=zr,qr=bt((function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,r){return t.call(this,e,r)};case 3:return function(e,r,n){return t.call(this,e,r,n)};case 4:return function(e,r,n,u){return t.call(this,e,r,n,u)};case 5:return function(e,r,n,u,i){return t.call(this,e,r,n,u,i)};case 6:return function(e,r,n,u,i,a){return t.call(this,e,r,n,u,i,a)};case 7:return function(e,r,n,u,i,a,o){return t.call(this,e,r,n,u,i,a,o)};case 8:return function(e,r,n,u,i,a,o,s){return t.call(this,e,r,n,u,i,a,o,s)};case 9:return function(e,r,n,u,i,a,o,s,c){return t.call(this,e,r,n,u,i,a,o,s,c)};case 10:return function(e,r,n,u,i,a,o,s,c,l){return t.call(this,e,r,n,u,i,a,o,s,c,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})),Fr=vt((function(e){return qr(2,e)}));function Wr(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t}var Kr=bt((function(e,t){var r=jt(e,t);return jt(e,(function(){return Qt(Pr,sr(r,arguments[0]),Array.prototype.slice.call(arguments,1))}))}));const Zr=Kr;var $r=vt((function(e){return Zr(e.length,e)})),Vr=bt((function(e,t){return Wr(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:$r(_r)(e,t)}));const Hr=Vr;var Qr=vt((function(e){return jt(e.length,e)})),Jr=Qr((function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))}));const Yr=Jr;function Xr(e){return function t(r){for(var n,u,i,a=[],o=0,s=r.length;o<s;){if(qt(r[o]))for(i=0,u=(n=e?t(r[o]):r[o]).length;i<u;)a[a.length]=n[i],i+=1;else a[a.length]=r[o];o+=1}return a}}var en=function(e){var t=function(e){return{"@@transducer/init":Rt.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,r){var n=e["@@transducer/step"](t,r);return n["@@transducer/reduced"]?{"@@transducer/value":n,"@@transducer/reduced":!0}:n}}}(e);return{"@@transducer/init":Rt.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,r){return qt(r)?Qt(t,e,r):Qt(t,e,[r])}}};const tn=bt(Lt(["fantasy-land/chain","chain"],bt((function(e,t){return sr(e,en(t))})),(function(e,t){return"function"==typeof t?function(r){return e(t(r))(r)}:Xr(!1)(sr(e,t))})));var rn=Tt((function(e,t,r){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return r<e?e:r>t?t:r}));const nn=rn;function un(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}const an=vt((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function on(e,t,r,n){var u=function(u){for(var i=t.length,a=0;a<i;){if(e===t[a])return r[a];a+=1}for(var o in t[a+1]=e,r[a+1]=u,e)u[o]=n?on(e[o],t,r,!0):e[o];return u};switch(an(e)){case"Object":return u({});case"Array":return u([]);case"Date":return new Date(e.valueOf());case"RegExp":return un(e);default:return e}}const sn=vt((function(e){return null!=e&&"function"==typeof e.clone?e.clone():on(e,[],[],!0)})),cn=vt((function(e){return function(t,r){return e(t,r)?-1:e(r,t)?1:0}})),ln=vt((function(e){return!e})),pn=$r(ln);function hn(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function mn(e,t){return function(){var r=arguments.length;if(0===r)return t();var n=arguments[r-1];return Et(n)||"function"!=typeof n[e]?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var dn=Tt(mn("slice",(function(e,t,r){return Array.prototype.slice.call(r,e,t)}))),fn=vt(mn("tail",dn(1,1/0)));function wn(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Pt(arguments[0].length,fr(hn,arguments[0],fn(arguments)))}var gn=vt((function(e){return Gt(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}));function yn(){if(0===arguments.length)throw new Error("compose requires at least one argument");return wn.apply(this,gn(arguments))}function _n(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var e=Array.prototype.slice.call(arguments),t=e.pop();return yn(yn.apply(this,sr(tn,e)),t)}function vn(e,t){return function(){var r=this;return e.apply(r,arguments).then((function(e){return t.call(r,e)}))}}function bn(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return Pt(arguments[0].length,fr(vn,arguments[0],fn(arguments)))}const xn=lr(0);function Sn(e){return e}const Pn=vt(Sn);var kn=bt((function(e,t){if(t.length<=0)return Pn;var r=xn(t),n=fn(t);return Pt(r.length,(function(){return Qt((function(t,r){return e.call(this,r,t)}),r.apply(this,arguments),n)}))}));const Cn=kn,jn=bt((function(e,t){return Cn.apply(this,[e,gn(t)])}));function An(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function In(e,t,r){for(var n=0,u=r.length;n<u;){if(e(t,r[n]))return!0;n+=1}return!1}const Tn="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};function Dn(e,t,r,n){var u=An(e);function i(e,t){return En(e,t,r.slice(),n.slice())}return!In((function(e,t){return!In(i,t,e)}),An(t),u)}function En(e,t,r,n){if(Tn(e,t))return!0;var u=an(e);if(u!==an(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!Tn(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Tn(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var i=r.length-1;i>=0;){if(r[i]===e)return n[i]===t;i-=1}switch(u){case"Map":return e.size===t.size&&Dn(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&Dn(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=or(e);if(a.length!==or(t).length)return!1;var o=r.concat([e]),s=n.concat([t]);for(i=a.length-1;i>=0;){var c=a[i];if(!Xt(c,t)||!En(t[c],e[c],o,s))return!1;i-=1}return!0}const On=bt((function(e,t){return En(e,t,[],[])}));function Ln(e,t,r){var n,u;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(n=1/t;r<e.length;){if(0===(u=e[r])&&1/u===n)return r;r+=1}return-1}if(t!=t){for(;r<e.length;){if("number"==typeof(u=e[r])&&u!=u)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(null===t)return e.indexOf(t,r)}for(;r<e.length;){if(On(e[r],t))return r;r+=1}return-1}function Nn(e,t){return Ln(t,e,0)>=0}function Rn(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var Mn=function(e){return(e<10?"0":"")+e},Bn="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+Mn(e.getUTCMonth()+1)+"-"+Mn(e.getUTCDate())+"T"+Mn(e.getUTCHours())+":"+Mn(e.getUTCMinutes())+":"+Mn(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function Un(e){return function(){return!e.apply(this,arguments)}}function zn(e,t){for(var r=0,n=t.length,u=[];r<n;)e(t[r])&&(u[u.length]=t[r]),r+=1;return u}function Gn(e){return"[object Object]"===Object.prototype.toString.call(e)}var qn=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}();const Fn=bt(Lt(["filter"],bt((function(e,t){return new qn(e,t)})),(function(e,t){return Gn(t)?Qt((function(r,n){return e(t[n])&&(r[n]=t[n]),r}),{},or(t)):zn(e,t)}))),Wn=bt((function(e,t){return Fn(Un(e),t)}));function Kn(e,t){var r=function(r){var n=t.concat([e]);return Nn(r,n)?"<Circular>":Kn(r,n)},n=function(e,t){return zt((function(t){return Rn(t)+": "+r(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+zt(r,e).join(", ")+"))";case"[object Array]":return"["+zt(r,e).concat(n(e,Wn((function(e){return/^\d+$/.test(e)}),or(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):Rn(Bn(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+r(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+r(e.valueOf())+")":Rn(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var u=e.toString();if("[object Object]"!==u)return u}return"{"+n(e,or(e)).join(", ")+"}"}}const Zn=vt((function(e){return Kn(e,[])})),$n=bt((function(e,t){if(Et(e)){if(Et(t))return e.concat(t);throw new TypeError(Zn(t)+" is not an array")}if(Gt(e)){if(Gt(t))return e+t;throw new TypeError(Zn(t)+" is not a string")}if(null!=e&&Wr(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&Wr(e.concat))return e.concat(t);throw new TypeError(Zn(e)+' does not have a method named "concat" or "fantasy-land/concat"')}));var Vn=vt((function(e){var t=fr(Ut,0,sr((function(e){return e[0].length}),e));return Pt(t,(function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}}))}));const Hn=Vn;var Qn=bt((function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return 0===e?function(){return new t}:Qr(qr(e,(function(e,r,n,u,i,a,o,s,c,l){switch(arguments.length){case 1:return new t(e);case 2:return new t(e,r);case 3:return new t(e,r,n);case 4:return new t(e,r,n,u);case 5:return new t(e,r,n,u,i);case 6:return new t(e,r,n,u,i,a);case 7:return new t(e,r,n,u,i,a,o);case 8:return new t(e,r,n,u,i,a,o,s);case 9:return new t(e,r,n,u,i,a,o,s,c);case 10:return new t(e,r,n,u,i,a,o,s,c,l)}})))}));const Jn=Qn,Yn=vt((function(e){return Jn(e.length,e)})),Xn=bt(Nn);var eu=bt((function(e,t){return jt(fr(Ut,0,dr("length",t)),(function(){var r=arguments,n=this;return e.apply(n,zt((function(e){return e.apply(n,r)}),t))}))}));const tu=eu;var ru=function(){function e(e,t,r,n){this.valueFn=e,this.valueAcc=t,this.keyFn=r,this.xf=n,this.inputs={}}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(Xt(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var r=this.keyFn(t);return this.inputs[r]=this.inputs[r]||[r,this.valueAcc],this.inputs[r][1]=this.valueFn(this.inputs[r][1],t),e},e}(),nu=kt(4,[],Lt([],kt(4,[],(function(e,t,r,n){return new ru(e,t,r,n)})),(function(e,t,r,n){return Qt((function(n,u){var i=r(u);return n[i]=e(Xt(i,n)?n[i]:on(t,[],[],!1),u),n}),{},n)})));const uu=nu((function(e,t){return e+1}),0),iu=xt(-1),au=bt((function(e,t){return null==t||t!=t?e:t})),ou=Tt((function(e,t,r){var n=e(t),u=e(r);return n>u?-1:n<u?1:0}));var su=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!cu(e,!0,this)},e.prototype.has=function(e){return cu(e,!1,this)},e}();function cu(e,t,r){var n,u=typeof e;switch(u){case"string":case"number":return 0===e&&1/e==-1/0?!!r._items["-0"]||(t&&(r._items["-0"]=!0),!1):null!==r._nativeSet?t?(n=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===n):r._nativeSet.has(e):u in r._items?e in r._items[u]||(t&&(r._items[u][e]=!0),!1):(t&&(r._items[u]={},r._items[u][e]=!0),!1);case"boolean":if(u in r._items){var i=e?1:0;return!!r._items[u][i]||(t&&(r._items[u][i]=!0),!1)}return t&&(r._items[u]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==r._nativeSet?t?(n=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===n):r._nativeSet.has(e):u in r._items?!!Nn(e,r._items[u])||(t&&r._items[u].push(e),!1):(t&&(r._items[u]=[e]),!1);case"undefined":return!!r._items[u]||(t&&(r._items[u]=!0),!1);case"object":if(null===e)return!!r._items.null||(t&&(r._items.null=!0),!1);default:return(u=Object.prototype.toString.call(e))in r._items?!!Nn(e,r._items[u])||(t&&r._items[u].push(e),!1):(t&&(r._items[u]=[e]),!1)}}const lu=bt((function(e,t){for(var r=[],n=0,u=e.length,i=t.length,a=new su,o=0;o<i;o+=1)a.add(t[o]);for(;n<u;)a.add(e[n])&&(r[r.length]=e[n]),n+=1;return r})),pu=Tt((function(e,t,r){for(var n=[],u=0,i=t.length;u<i;)In(e,t[u],r)||In(e,t[u],n)||n.push(t[u]),u+=1;return n}));var hu=bt((function(e,t){var r={};for(var n in t)r[n]=t[n];return delete r[e],r}));const mu=hu,du=Tt((function(e,t,r){var n=Array.prototype.slice.call(r,0);return n.splice(e,t),n})),fu=Tt((function(e,t,r){return Dt(e,yr(t),r)}));var wu=bt((function e(t,r){switch(t.length){case 0:return r;case 1:return cr(t[0])&&Et(r)?du(t[0],1,r):mu(t[0],r);default:var n=t[0],u=Array.prototype.slice.call(t,1);return null==r[n]?r:cr(n)&&Et(r)?fu(n,e(u,r[n]),r):Br(n,e(u,r[n]),r)}}));const gu=wu,yu=bt((function(e,t){return e/t}));var _u=function(){function e(e,t){this.xf=t,this.n=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},e}();const vu=bt(Lt(["drop"],bt((function(e,t){return new _u(e,t)})),(function(e,t){return dn(Math.max(0,e),1/0,t)})));var bu=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var r=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?Nt(r):r},e}();const xu=bt(Lt(["take"],bt((function(e,t){return new bu(e,t)})),(function(e,t){return dn(0,e<0?1/0:e,t)})));function Su(e,t){return xu(e<t.length?t.length-e:0,t)}var Pu=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}();const ku=bt(Lt([],bt((function(e,t){return new Pu(e,t)})),Su));function Cu(e,t){for(var r=t.length-1;r>=0&&e(t[r]);)r-=1;return dn(0,r+1,t)}var ju=function(){function e(e,t){this.f=e,this.retained=[],this.xf=t}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},e.prototype.flush=function(e,t){return e=Qt(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},e.prototype.retain=function(e,t){return this.retained.push(t),e},e}();const Au=bt(Lt([],bt((function(e,t){return new ju(e,t)})),Cu));var Iu=function(){function e(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){var r=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(r=!0):this.seenFirstValue=!0,this.lastValue=t,r?e:this.xf["@@transducer/step"](e,t)},e}(),Tu=bt((function(e,t){return new Iu(e,t)}));const Du=lr(-1),Eu=bt(Lt([],Tu,(function(e,t){var r=[],n=1,u=t.length;if(0!==u)for(r[0]=t[0];n<u;)e(Du(r),t[n])||(r[r.length]=t[n]),n+=1;return r}))),Ou=vt(Lt([],Tu(On),Eu(On)));var Lu=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},e}();const Nu=bt(Lt(["dropWhile"],bt((function(e,t){return new Lu(e,t)})),(function(e,t){for(var r=0,n=t.length;r<n&&e(t[r]);)r+=1;return dn(r,1/0,t)}))),Ru=bt((function(e,t){return e||t}));var Mu=bt((function(e,t){return Wr(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:$r(Ru)(e,t)}));const Bu=Mu;var Uu=vt((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():Et(e)?[]:Gt(e)?"":Gn(e)?{}:tr(e)?function(){return arguments}():void 0}));const zu=Uu,Gu=bt((function(e,t){return vu(e>=0?t.length-e:0,t)})),qu=bt((function(e,t){return On(Gu(e.length,t),e)})),Fu=Tt((function(e,t,r){return On(e(t),e(r))}));var Wu=Tt((function(e,t,r){return On(t[e],r[e])}));const Ku=Wu;var Zu=bt((function e(t,r){var n,u,i,a=r instanceof Array?[]:{};for(u in r)i=typeof(n=t[u]),a[u]="function"===i?n(r[u]):n&&"object"===i?e(n,r[u]):r[u];return a}));const $u=Zu;var Vu=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=Nt(this.xf["@@transducer/step"](e,t))),e},e}();const Hu=bt(Lt(["find"],bt((function(e,t){return new Vu(e,t)})),(function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return t[r];r+=1}})));var Qu=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=Nt(this.xf["@@transducer/step"](e,this.idx))),e},e}();const Ju=bt(Lt([],bt((function(e,t){return new Qu(e,t)})),(function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return r;r+=1}return-1})));var Yu=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e},e}();const Xu=bt(Lt([],bt((function(e,t){return new Yu(e,t)})),(function(e,t){for(var r=t.length-1;r>=0;){if(e(t[r]))return t[r];r-=1}})));var ei=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},e}();const ti=bt(Lt([],bt((function(e,t){return new ei(e,t)})),(function(e,t){for(var r=t.length-1;r>=0;){if(e(t[r]))return r;r-=1}return-1}))),ri=vt(Xr(!0));var ni=vt((function(e){return jt(e.length,(function(t,r){var n=Array.prototype.slice.call(arguments,0);return n[0]=r,n[1]=t,e.apply(this,n)}))}));const ui=ni,ii=bt(mn("forEach",(function(e,t){for(var r=t.length,n=0;n<r;)e(t[n]),n+=1;return t}))),ai=bt((function(e,t){for(var r=or(t),n=0;n<r.length;){var u=r[n];e(t[u],u,t),n+=1}return t})),oi=vt((function(e){for(var t={},r=0;r<e.length;)t[e[r][0]]=e[r][1],r+=1;return t})),si=bt(mn("groupBy",nu((function(e,t){return null==e&&(e=[]),e.push(t),e}),null))),ci=bt((function(e,t){for(var r=[],n=0,u=t.length;n<u;){for(var i=n+1;i<u&&e(t[i-1],t[i]);)i+=1;r.push(t.slice(n,i)),n=i}return r})),li=bt((function(e,t){return e>t})),pi=bt((function(e,t){return e>=t})),hi=bt((function(e,t){if(0===e.length||Ur(t))return!1;for(var r=t,n=0;n<e.length;){if(Ur(r)||!Xt(e[n],r))return!1;r=r[e[n]],n+=1}return!0}));var mi=bt((function(e,t){return hi([e],t)}));const di=mi;var fi=bt((function(e,t){return e in t}));const wi=fi,gi=bt(Tn);var yi=Tt((function(e,t,r){return jt(Math.max(e.length,t.length,r.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):r.apply(this,arguments)}))}));const _i=yi,vi=xt(1),bi=bt(Nn),xi=nu((function(e,t){return t}),null),Si=bt((function(e,t){return"function"!=typeof t.indexOf||Et(t)?Ln(t,e,0):t.indexOf(e)})),Pi=dn(0,-1),ki=Tt((function(e,t,r){return zn((function(t){return In(e,t,r)}),t)})),Ci=Tt((function(e,t,r){e=e<r.length&&e>=0?e:r.length;var n=Array.prototype.slice.call(r,0);return n.splice(e,0,t),n})),ji=Tt((function(e,t,r){return e=e<r.length&&e>=0?e:r.length,[].concat(Array.prototype.slice.call(r,0,e),t,Array.prototype.slice.call(r,e))}));var Ai=bt((function(e,t){for(var r,n,u=new su,i=[],a=0;a<t.length;)r=e(n=t[a]),u.add(r)&&i.push(n),a+=1;return i}));const Ii=Ai(Pn),Ti=bt((function(e,t){var r,n;return e.length>t.length?(r=e,n=t):(r=t,n=e),Ii(zn(ui(Nn)(r),n))}));var Di=bt(mn("intersperse",(function(e,t){for(var r=[],n=0,u=t.length;n<u;)n===u-1?r.push(t[n]):r.push(t[n],e),n+=1;return r})));const Ei=Di,Oi="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,n=arguments.length;r<n;){var u=arguments[r];if(null!=u)for(var i in u)Xt(i,u)&&(t[i]=u[i]);r+=1}return t},Li=bt((function(e,t){var r={};return r[e]=t,r}));var Ni={"@@transducer/init":Array,"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":Sn},Ri={"@@transducer/init":String,"@@transducer/step":function(e,t){return e+t},"@@transducer/result":Sn},Mi={"@@transducer/init":Object,"@@transducer/step":function(e,t){return Oi(e,qt(t)?Li(t[0],t[1]):t)},"@@transducer/result":Sn};const Bi=Tt((function(e,t,r){return Ot(e)?Qt(t(e),e["@@transducer/init"](),r):Qt(t(function(e){if(Ot(e))return e;if(qt(e))return Ni;if("string"==typeof e)return Ri;if("object"==typeof e)return Mi;throw new Error("Cannot create transformer for "+e)}(e)),on(e,[],[],!1),r)}));var Ui=vt((function(e){for(var t=or(e),r=t.length,n=0,u={};n<r;){var i=t[n],a=e[i],o=Xt(a,u)?u[a]:u[a]=[];o[o.length]=i,n+=1}return u}));const zi=Ui;var Gi=vt((function(e){for(var t=or(e),r=t.length,n=0,u={};n<r;){var i=t[n];u[e[i]]=i,n+=1}return u}));const qi=Gi;var Fi=bt((function(e,t){return jt(e+1,(function(){var r=arguments[e];if(null!=r&&Wr(r[t]))return r[t].apply(r,Array.prototype.slice.call(arguments,0,e));throw new TypeError(Zn(r)+' does not have a method named "'+t+'"')}))}));const Wi=Fi,Ki=bt((function(e,t){return null!=t&&t.constructor===e||t instanceof e})),Zi=vt((function(e){return null!=e&&On(e,zu(e))})),$i=Wi(1,"join");var Vi=vt((function(e){return tu((function(){return Array.prototype.slice.call(arguments,0)}),e)}));const Hi=Vi;var Qi=vt((function(e){var t,r=[];for(t in e)r[r.length]=t;return r}));const Ji=Qi,Yi=bt((function(e,t){if("function"!=typeof t.lastIndexOf||Et(t)){for(var r=t.length-1;r>=0;){if(On(t[r],e))return r;r-=1}return-1}return t.lastIndexOf(e)}));function Xi(e){return"[object Number]"===Object.prototype.toString.call(e)}const ea=vt((function(e){return null!=e&&Xi(e.length)?e.length:NaN})),ta=bt((function(e,t){return function(r){return function(n){return sr((function(e){return t(e,n)}),r(e(n)))}}})),ra=vt((function(e){return ta(lr(e),fu(e))})),na=vt((function(e){return ta(hr(e),Gr(e))})),ua=vt((function(e){return ta(mr(e),Br(e))})),ia=bt((function(e,t){return e<t})),aa=bt((function(e,t){return e<=t})),oa=Tt((function(e,t,r){for(var n=0,u=r.length,i=[],a=[t];n<u;)a=e(a[0],r[n]),i[n]=a[1],n+=1;return[a[0],i]})),sa=Tt((function(e,t,r){for(var n=r.length-1,u=[],i=[t];n>=0;)i=e(i[0],r[n]),u[n]=i[1],n-=1;return[i[0],u]})),ca=bt((function(e,t){return Qt((function(r,n){return r[n]=e(t[n],n,t),r}),{},or(t))})),la=bt((function(e,t){return t.match(e)||[]})),pa=bt((function(e,t){return cr(e)?!cr(t)||t<1?NaN:(e%t+t)%t:NaN})),ha=Tt((function(e,t,r){return e(r)>e(t)?r:t})),ma=fr(xt,0),da=vt((function(e){return ma(e)/e.length})),fa=vt((function(e){var t=e.length;if(0===t)return NaN;var r=2-t%2,n=(t-r)/2;return da(Array.prototype.slice.call(e,0).sort((function(e,t){return e<t?-1:e>t?1:0})).slice(n,n+r))}));var wa=bt((function(e,t){var r={};return Pt(t.length,(function(){var n=e.apply(this,arguments);return Xt(n,r)||(r[n]=t.apply(this,arguments)),r[n]}))}));const ga=wa,ya=bt((function(e,t){return Oi({},e,t)})),_a=vt((function(e){return Oi.apply(null,[{}].concat(e))})),va=Tt((function(e,t,r){var n,u={};for(n in t)Xt(n,t)&&(u[n]=Xt(n,r)?e(n,t[n],r[n]):t[n]);for(n in r)Xt(n,r)&&!Xt(n,u)&&(u[n]=r[n]);return u})),ba=Tt((function e(t,r,n){return va((function(r,n,u){return Gn(n)&&Gn(u)?e(t,n,u):t(r,n,u)}),r,n)})),xa=bt((function(e,t){return ba((function(e,t,r){return t}),e,t)})),Sa=bt((function(e,t){return ba((function(e,t,r){return r}),e,t)})),Pa=Tt((function(e,t,r){return ba((function(t,r,n){return e(r,n)}),t,r)})),ka=bt((function(e,t){return Oi({},t,e)})),Ca=bt((function(e,t){return Oi({},e,t)})),ja=Tt((function(e,t,r){return va((function(t,r,n){return e(r,n)}),t,r)})),Aa=bt((function(e,t){return t<e?t:e})),Ia=Tt((function(e,t,r){return e(r)<e(t)?r:t})),Ta=bt((function(e,t){return e%t}));var Da=Tt((function(e,t,r){var n=r.length,u=r.slice(),i=e<0?n+e:e,a=t<0?n+t:t,o=u.splice(i,1);return i<0||i>=r.length||a<0||a>=r.length?r:[].concat(u.slice(0,a)).concat(o).concat(u.slice(a,r.length))}));const Ea=Da,Oa=bt((function(e,t){return e*t})),La=vt((function(e){return-e})),Na=bt((function(e,t){return Bt(Un(e),t)}));var Ra=vt((function(e){return jt(e<0?1:e+1,(function(){return lr(e,arguments)}))}));const Ma=Ra,Ba=Tt((function(e,t,r){return e(t(r))}));function Ua(e){return[e]}const za=vt(Ua);var Ga=bt((function(e,t){for(var r={},n={},u=0,i=e.length;u<i;)n[e[u]]=1,u+=1;for(var a in t)n.hasOwnProperty(a)||(r[a]=t[a]);return r}));const qa=Ga;var Fa=vt((function(e){var t,r=!1;return Pt(e.length,(function(){return r?t:(r=!0,t=e.apply(this,arguments))}))}));const Wa=Fa;function Ka(e,t){if(null==t||!Wr(t.then))throw new TypeError("`"+e+"` expected a Promise, received "+Kn(t,[]))}const Za=bt((function(e,t){return Ka("otherwise",t),t.then(null,e)}));var $a=function(e){return{value:e,map:function(t){return $a(t(e))}}},Va=Tt((function(e,t,r){return e((function(e){return $a(t(e))}))(r).value}));const Ha=Va,Qa=bt((function(e,t){return[e,t]}));function Ja(e){return bt((function(t,r){return Pt(Math.max(0,t.length-r.length),(function(){return t.apply(this,e(r,arguments))}))}))}const Ya=Ja(St),Xa=Ja(ui(St)),eo=Hi([Fn,Wn]),to=Tt((function(e,t,r){return On(hr(e,r),t)})),ro=Tt((function(e,t,r){return au(e,hr(t,r))})),no=Tt((function(e,t,r){return e(hr(t,r))})),uo=bt((function(e,t){for(var r={},n=0;n<e.length;)e[n]in t&&(r[e[n]]=t[e[n]]),n+=1;return r}));var io=bt((function(e,t){for(var r={},n=0,u=e.length;n<u;){var i=e[n];r[i]=t[i],n+=1}return r}));const ao=io;var oo=bt((function(e,t){var r={};for(var n in t)e(t[n],n,t)&&(r[n]=t[n]);return r}));const so=oo,co=bt((function(e,t){return St([e],t)})),lo=fr(Oa,1);var po=bt((function(e,t){return jt(t.length,(function(){for(var r=[],n=0;n<t.length;)r.push(t[n].call(this,arguments[n])),n+=1;return e.apply(this,r.concat(Array.prototype.slice.call(arguments,t.length)))}))}));const ho=po(zt,[ao,Pn]);var mo=Tt((function(e,t,r){return On(t,r[e])}));const fo=mo;var wo=Tt((function(e,t,r){return Ki(e,r[t])}));const go=wo,yo=Tt((function(e,t,r){return ro(e,[t],r)}));var _o=Tt((function(e,t,r){return e(r[t])}));const vo=_o,bo=bt((function(e,t){return e.map((function(e){return hr([e],t)}))})),xo=bt((function(e,t){if(!Xi(e)||!Xi(t))throw new TypeError("Both arguments to range must be numbers");for(var r=[],n=e;n<t;)r.push(n),n+=1;return r})),So=Tt((function(e,t,r){for(var n=r.length-1;n>=0;)t=e(r[n],t),n-=1;return t})),Po=kt(4,[],(function(e,t,r,n){return Qt((function(r,n){return e(r,n)?t(r,n):Nt(r)}),r,n)})),ko=vt(Nt),Co=bt((function(e,t){var r,n=Number(t),u=0;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(r=new Array(n);u<n;)r[u]=e(u),u+=1;return r})),jo=bt((function(e,t){return Co(yr(e),t)})),Ao=Tt((function(e,t,r){return r.replace(e,t)})),Io=Tt((function(e,t,r){for(var n=0,u=r.length,i=[t];n<u;)t=e(t,r[n]),i[n+1]=t,n+=1;return i}));var To=bt((function(e,t){return"function"==typeof t.sequence?t.sequence(e):So((function(e,t){return Pr(sr(co,e),t)}),e([]),t)}));const Do=To;var Eo=Tt((function(e,t,r){return Ha(e,yr(t),r)}));const Oo=Eo;var Lo=bt((function(e,t){return Array.prototype.slice.call(t,0).sort(e)}));const No=Lo,Ro=bt((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,r){var n=e(t),u=e(r);return n<u?-1:n>u?1:0}))})),Mo=bt((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,r){for(var n=0,u=0;0===n&&u<e.length;)n=e[u](t,r),u+=1;return n}))})),Bo=Wi(1,"split"),Uo=bt((function(e,t){return[dn(0,e,t),dn(e,ea(t),t)]})),zo=bt((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var r=[],n=0;n<t.length;)r.push(dn(n,n+=e,t));return r})),Go=bt((function(e,t){for(var r=0,n=t.length,u=[];r<n&&!e(t[r]);)u.push(t[r]),r+=1;return[u,Array.prototype.slice.call(t,r)]})),qo=bt((function(e,t){return On(xu(e.length,t),e)})),Fo=bt((function(e,t){return Number(e)-Number(t)})),Wo=bt((function(e,t){return $n(lu(e,t),lu(t,e))})),Ko=Tt((function(e,t,r){return $n(pu(e,t,r),pu(e,r,t))})),Zo=bt((function(e,t){for(var r=t.length-1;r>=0&&e(t[r]);)r-=1;return dn(r+1,1/0,t)}));var $o=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):Nt(e)},e}();const Vo=bt(Lt(["takeWhile"],bt((function(e,t){return new $o(e,t)})),(function(e,t){for(var r=0,n=t.length;r<n&&e(t[r]);)r+=1;return dn(0,r,t)})));var Ho=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},e}();const Qo=bt(Lt([],bt((function(e,t){return new Ho(e,t)})),(function(e,t){return e(t),t}))),Jo=bt((function(e,t){if(r=e,"[object RegExp]"!==Object.prototype.toString.call(r))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+Zn(e));var r;return un(e).test(t)})),Yo=bt((function(e,t){return Ka("andThen",t),t.then(e)})),Xo=Wi(0,"toLowerCase");var es=vt((function(e){var t=[];for(var r in e)Xt(r,e)&&(t[t.length]=[r,e[r]]);return t}));const ts=es;var rs=vt((function(e){var t=[];for(var r in e)t[t.length]=[r,e[r]];return t}));const ns=rs,us=Wi(0,"toUpperCase"),is=jt(4,(function(e,t,r,n){return Qt(e("function"==typeof t?Wt(t):t),r,n)})),as=vt((function(e){for(var t=0,r=[];t<e.length;){for(var n=e[t],u=0;u<n.length;)void 0===r[u]&&(r[u]=[]),r[u].push(n[u]),u+=1;t+=1}return r}));var os=Tt((function(e,t,r){return"function"==typeof r["fantasy-land/traverse"]?r["fantasy-land/traverse"](t,e):Do(e,sr(t,r))}));const ss=os;var cs="\t\n\v\f\r                　\u2028\u2029\ufeff";const ls=vt("function"==typeof String.prototype.trim&&!cs.trim()&&"​".trim()?function(e){return e.trim()}:function(e){var t=new RegExp("^["+cs+"]["+cs+"]*"),r=new RegExp("["+cs+"]["+cs+"]*$");return e.replace(t,"").replace(r,"")});var ps=bt((function(e,t){return Pt(e.length,(function(){try{return e.apply(this,arguments)}catch(r){return t.apply(this,St([r],arguments))}}))}));const hs=ps;var ms=vt((function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}}));const ds=ms,fs=vt((function(e){return qr(1,e)}));var ws=bt((function(e,t){return jt(e,(function(){for(var r,n=1,u=t,i=0;n<=e&&"function"==typeof u;)r=n===e?arguments.length:i+u.length,u=u.apply(this,Array.prototype.slice.call(arguments,i,r)),n+=1,i=r;return u}))}));const gs=ws;var ys=bt((function(e,t){for(var r=e(t),n=[];r&&r.length;)n[n.length]=r[0],r=e(r[1]);return n}));const _s=ys,vs=bt(yn(Ii,St)),bs=bt((function(e,t){for(var r,n=0,u=t.length,i=[];n<u;)In(e,r=t[n],i)||(i[i.length]=r),n+=1;return i})),xs=Tt((function(e,t,r){return bs(e,St(t,r))})),Ss=Tt((function(e,t,r){return e(r)?r:t(r)})),Ps=tn(Sn);var ks=Tt((function(e,t,r){for(var n=r;!e(n);)n=t(n);return n}));const Cs=ks;var js=vt((function(e){var t,r=[];for(t in e)r[r.length]=e[t];return r}));const As=js;var Is=function(e){return{value:e,"fantasy-land/map":function(){return this}}},Ts=bt((function(e,t){return e(Is)(t).value}));const Ds=Ts,Es=Tt((function(e,t,r){return e(r)?t(r):r}));var Os=bt((function(e,t){for(var r in e)if(Xt(r,e)&&!e[r](t[r]))return!1;return!0}));const Ls=Os,Ns=bt((function(e,t){return Ls(sr(On,e),t)})),Rs=bt((function(e,t){return Wn(ui(Nn)(e),t)})),Ms=bt((function(e,t){return Boolean(!e^!t)})),Bs=bt((function(e,t){for(var r,n=0,u=e.length,i=t.length,a=[];n<u;){for(r=0;r<i;)a[a.length]=[e[n],t[r]],r+=1;n+=1}return a})),Us=bt((function(e,t){for(var r=[],n=0,u=Math.min(e.length,t.length);n<u;)r[n]=[e[n],t[n]],n+=1;return r}));var zs=bt((function(e,t){for(var r=0,n=Math.min(e.length,t.length),u={};r<n;)u[e[r]]=t[r],r+=1;return u}));const Gs=zs,qs=Tt((function(e,t,r){for(var n=[],u=0,i=Math.min(t.length,r.length);u<i;)n[u]=e(t[u],r[u]),u+=1;return n}));var Fs=vt((function(e){return jt(e.length,(function(){var t=arguments;return function(){return e.apply(this,t)}}))}));const Ws=Fs,Ks=Object.freeze(Object.defineProperty({__proto__:null,F:gt,T:yt,__:{"@@functional/placeholder":!0},add:xt,addIndex:It,adjust:Dt,all:Bt,allPass:gr,always:yr,and:_r,andThen:Yo,any:br,anyPass:Sr,ap:Pr,aperture:jr,append:Ar,apply:Ir,applySpec:Lr,applyTo:Nr,ascend:Rr,assoc:Br,assocPath:Gr,binary:Fr,bind:Zt,both:Hr,call:Yr,chain:tn,clamp:nn,clone:sn,comparator:cn,complement:pn,compose:yn,composeK:_n,composeP:function(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return bn.apply(this,gn(arguments))},composeWith:jn,concat:$n,cond:Hn,construct:Yn,constructN:Jn,contains:Xn,converge:tu,countBy:uu,curry:Qr,curryN:jt,dec:iu,defaultTo:au,descend:ou,difference:lu,differenceWith:pu,dissoc:mu,dissocPath:gu,divide:yu,drop:vu,dropLast:ku,dropLastWhile:Au,dropRepeats:Ou,dropRepeatsWith:Eu,dropWhile:Nu,either:Bu,empty:zu,endsWith:qu,eqBy:Fu,eqProps:Ku,equals:On,evolve:$u,filter:Fn,find:Hu,findIndex:Ju,findLast:Xu,findLastIndex:ti,flatten:ri,flip:ui,forEach:ii,forEachObjIndexed:ai,fromPairs:oi,groupBy:si,groupWith:ci,gt:li,gte:pi,has:di,hasIn:wi,hasPath:hi,head:xn,identical:gi,identity:Pn,ifElse:_i,inc:vi,includes:bi,indexBy:xi,indexOf:Si,init:Pi,innerJoin:ki,insert:Ci,insertAll:ji,intersection:Ti,intersperse:Ei,into:Bi,invert:zi,invertObj:qi,invoker:Wi,is:Ki,isEmpty:Zi,isNil:Ur,join:$i,juxt:Hi,keys:or,keysIn:Ji,last:Du,lastIndexOf:Yi,length:ea,lens:ta,lensIndex:ra,lensPath:na,lensProp:ua,lift:$r,liftN:Zr,lt:ia,lte:aa,map:sr,mapAccum:oa,mapAccumRight:sa,mapObjIndexed:ca,match:la,mathMod:pa,max:Ut,maxBy:ha,mean:da,median:fa,memoizeWith:ga,merge:ya,mergeAll:_a,mergeDeepLeft:xa,mergeDeepRight:Sa,mergeDeepWith:Pa,mergeDeepWithKey:ba,mergeLeft:ka,mergeRight:Ca,mergeWith:ja,mergeWithKey:va,min:Aa,minBy:Ia,modulo:Ta,move:Ea,multiply:Oa,nAry:qr,negate:La,none:Na,not:ln,nth:lr,nthArg:Ma,o:Ba,objOf:Li,of:za,omit:qa,once:Wa,or:Ru,otherwise:Za,over:Ha,pair:Qa,partial:Ya,partialRight:Xa,partition:eo,path:hr,pathEq:to,pathOr:ro,pathSatisfies:no,paths:pr,pick:uo,pickAll:ao,pickBy:so,pipe:wn,pipeK:function(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return _n.apply(this,gn(arguments))},pipeP:bn,pipeWith:Cn,pluck:dr,prepend:co,product:lo,project:ho,prop:mr,propEq:fo,propIs:go,propOr:yo,propSatisfies:vo,props:bo,range:xo,reduce:fr,reduceBy:nu,reduceRight:So,reduceWhile:Po,reduced:ko,reject:Wn,remove:du,repeat:jo,replace:Ao,reverse:gn,scan:Io,sequence:Do,set:Oo,slice:dn,sort:No,sortBy:Ro,sortWith:Mo,split:Bo,splitAt:Uo,splitEvery:zo,splitWhen:Go,startsWith:qo,subtract:Fo,sum:ma,symmetricDifference:Wo,symmetricDifferenceWith:Ko,tail:fn,take:xu,takeLast:Gu,takeLastWhile:Zo,takeWhile:Vo,tap:Qo,test:Jo,thunkify:Ws,times:Co,toLower:Xo,toPairs:ts,toPairsIn:ns,toString:Zn,toUpper:us,transduce:is,transpose:as,traverse:ss,trim:ls,tryCatch:hs,type:an,unapply:ds,unary:fs,uncurryN:gs,unfold:_s,union:vs,unionWith:xs,uniq:Ii,uniqBy:Ai,uniqWith:bs,unless:Ss,unnest:Ps,until:Cs,update:fu,useWith:po,values:Dr,valuesIn:As,view:Ds,when:Es,where:Ls,whereEq:Ns,without:Rs,xor:Ms,xprod:Bs,zip:Us,zipObj:Gs,zipWith:qs},Symbol.toStringTag,{value:"Module"})),Zs=g(Ks);!function(e){var t=y&&y.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=y&&y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=y&&y.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var u in e)"default"!==u&&Object.hasOwnProperty.call(e,u)&&t(n,e,u);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.findTracking=e.getTracking=e.allCouriers=e.usps=e.ups=e.s10=e.ontrac=e.fedex=e.dhl=e.amazon=void 0;const u=n(lt);e.amazon=u;const i=n(pt);e.dhl=i;const a=n(ht);e.fedex=a;const o=n(mt);e.ontrac=o;const s=n(dt);e.s10=s;const c=n(ft);e.ups=c;const l=n(wt);e.usps=l;const p=Zs;e.allCouriers=[u,i,a,o,s,c,l];const h=(e,t)=>{const r=p.is(String,t)?t:t.join(""),n=new RegExp(`\\b${r}\\b`).exec(e.replace(/[^a-zA-Z\d]/g,""));return n&&{serial:n.groups.SerialNumber.replace(/\s/g,""),checkDigit:n.groups.CheckDigit,groups:n.groups}||{}},m=(e,t)=>!t.additional||t.additional.every((e=>t=>"ServiceType"===t.regex_group_name?t.lookup.some((r=>!r.matches_regex||new RegExp(r.matches_regex).test(e.groups[t.regex_group_name]))):"CountryCode"!==t.regex_group_name&&"ShippingContainerType"!==t.regex_group_name||t.lookup.some((r=>r.matches===e.groups[t.regex_group_name])))(h(e,t.regex))),d=e=>!0,f=e=>Object.assign({},e),w=(e,t)=>t%2==0,g=p.complement(w),_=(e,t)=>p.pipe(f,p.pickBy(e),p.values,p.sum)(t),v=({serial:e,checkDigit:t,checksum:r})=>{const n=(u=e.replace(/[^\da-zA-Z]/g,""),p.pipe(p.split(""),p.map((e=>isNaN(e)?(e.charCodeAt(0)-3)%10:parseInt(e))))(u));var u;return(10-p.sum([_(w,n)*(r.evens_multiplier||1),_(g,n)*(r.odds_multiplier||1)])%10)%10===parseInt(t)},b=({serial:e,checkDigit:t})=>parseInt(e)%7===parseInt(t),x=(e,t)=>p.sum(p.zip(t.split("").map((e=>parseInt(e))),e||[]).map((e=>e.reduce(p.multiply)))),S=({serial:e,checkDigit:t})=>{const r=x([8,6,4,2,3,5,9,7],e)%11;return(1===r?0:0===r?5:11-r)===parseInt(t)},P=({serial:e,checkDigit:t,checksum:r})=>x(r.weightings,e)%r.modulo1%r.modulo2===parseInt(t),k=(e,t)=>t.map(p.pipe(p.prop("tracking_numbers"),p.chain(p.pipe((e=>t=>p.pipe(p.prop("regex"),p.ifElse(p.is(String),p.identity,p.join("")),(e=>new RegExp(e,"g")),p.flip(p.match)(e),p.map(p.replace(/[^a-zA-Z\d\n\r]/g,"")),p.uniq)(t))(e),p.flatten)))),C=e=>p.reduce(((t,r)=>t||p.reduce(((t,n)=>{const u=((e,{regex:t,validation:{serial_number_format:r,checksum:n}})=>{const u=h(e,t);return u&&u.serial?{serial:r?(i=u.serial,a=r,a.prepend_if&&new RegExp(a.prepend_if.matches_regex).test(i)?`${a.prepend_if.content}${i}`:i):u.serial,checkDigit:u.checkDigit,checksum:n}:null;var i,a})(e,n);return u&&(({validation:{checksum:e}})=>"mod10"===(null==e?void 0:e.name)?v:"sum_product_with_weightings_and_modulo"===(null==e?void 0:e.name)?P:"mod7"===(null==e?void 0:e.name)?b:"s10"===(null==e?void 0:e.name)?S:d)(n)(u)&&m(e,n)?p.reduced(((e,t,r)=>({name:e.name,trackingUrl:e.tracking_url||null,description:e.description||null,trackingNumber:r.replace(/[^a-zA-Z\d]/g,""),courier:{name:t.name,code:t.courier_code}}))(n,r,e)):void 0}),void 0,r.tracking_numbers)),void 0);e.getTracking=(t,r=e.allCouriers)=>C(t)(r),e.findTracking=(t,r)=>((e,t)=>p.pipe(p.flatten,p.uniq,(e=>p.filter((t=>p.none(p.test(new RegExp(`([a-zA-Z0-9 ]+)${t}$`)),e)))(e)),(e=>p.filter((t=>p.none(p.test(new RegExp(`^${t}([a-zA-Z0-9 ]+)`)),e)))(e)))(k(e,t)))(t,r||e.allCouriers).map((t=>e.getTracking(t,r||e.allCouriers))).filter(p.complement(p.isNil))}(ct);const $s=ce("span")((()=>({fontWeight:"bold",color:"#313440"})));function Vs(){const{state:{shippings:e=[],addressLabelPermission:t,orderIsDigital:n,money:a,variantImages:o=[]}}=w.useContext(be),[s]=k(),c=_(),[l,f]=w.useState([]);w.useEffect((()=>{e.length&&(e.forEach((e=>{const{shipmentItems:t,notShip:{itemsInfo:r=[]}}=e;if(o.length>0&&r.length>0){const t=r.map((e=>{const t=o.find((t=>e.sku===t?.variantSku||+e.variant_id==+t.variantId));return{...e,imageUrl:t?.variantImage||e.imageUrl}}));e.notShip.itemsInfo=t}t.length&&t.forEach((e=>{const{itemsInfo:t}=e;if(o.length>0){const r=t.map((e=>{const t=o.find((t=>e.sku===t?.variantSku||+e.variant_id==+t.variantId));return{...e,imageUrl:t?.variantImage||e.imageUrl}}));e.itemsInfo=r}const r=e.tracking_number;if(e?.generated_tracking_link&&r)return void(e.tracking_link=e.generated_tracking_link);const n=ct.getTracking(r);if(n){const{trackingUrl:t="",trackingNumber:r}=n;t&&(e.tracking_link=t.includes("=%s")?t.replace("=%s",`=${r}`):t)}}))})),f([...e]))}),[e,o]);const g=e=>{const{first_name:t,last_name:r}=e;return`${t} ${r}`},y=e=>{const{street_1:t,city:r,state:n,zip:u,country:i}=e;return`${t}, ${r}, ${n} ${u}, ${i}`};let v=0;const b=e=>{const{date_created:t,shipping_method:r,shipping_provider:n}=e;return`shipped on ${ye(new Date(t),"LLLL, d")}, by ${n}, ${r}`},x=e=>{if(t)return e;const r=e.indexOf("/");return e.substring(r+1,e.length)};return n?null:r.jsx(m,{spacing:2,children:l.map((e=>r.jsx(p,{children:r.jsxs(h,{children:[r.jsxs(u,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[r.jsxs(i,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[g(e)," – ",x(e.company||"")]}),r.jsx(i,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:y(e)})]}),(e.shipmentItems||[]).map((e=>e.itemsInfo.length>0?r.jsxs(w.Fragment,{children:[r.jsxs(u,{sx:{margin:"20px 0 2px"},children:[r.jsx(i,{variant:"body1",children:r.jsxs(r.Fragment,{children:[r.jsx($s,{children:`${c("orderDetail.shipment.shipment")} ${v+=1,v} – `}),b(e)]})}),e.tracking_link?r.jsx(d,{href:e.tracking_link,target:"_blank",children:e.tracking_number}):r.jsx(i,{variant:"body1",children:e.tracking_number})]}),r.jsx(q,{quantityKey:"current_quantity_shipped",products:e.itemsInfo,money:a,totalText:"Total",canToProduct:!0,textAlign:"right"})]},`shipment-${e.id}`):null)),e.notShip.itemsInfo.length>0?r.jsxs(w.Fragment,{children:[r.jsx(u,{sx:{margin:"20px 0 2px"},children:r.jsx(i,{variant:"body1",children:r.jsx($s,{children:c("orderDetail.shipment.notShippedYet")})})}),r.jsx(q,{quantityKey:"not_shipping_number",products:e.notShip.itemsInfo,money:a,totalText:"Total",canToProduct:!0,textAlign:s?"left":"right"})]},`shipment-notShip-${e.id}`):null]})},`shipping-${e.id}`)))})}const Hs=Te;function Qs(){const e=S(P),t=se(),n=oe(),a=_(),{state:{addressConfig:o},dispatch:s}=w.useContext(K),{state:{poNumber:c,status:l="",customStatus:p,orderSummary:h,orderStatus:d=[],variantImages:g=[]},state:y,dispatch:v}=w.useContext(be),{state:{portalStyle:{backgroundColor:b="#FEF9F5"}}}=w.useContext(Z),x=$(b),C=ae(),[j]=k(),[A,I]=w.useState(""),[T,D]=w.useState(""),[L,N]=w.useState(""),[R,M]=w.useState(!1),[B,U]=w.useState(!1);return w.useEffect((()=>{N(t.id||"")}),[t]),w.useEffect((()=>{if(L){const t=async()=>{const t=e?await ue():await ie();v({type:"statusType",payload:{orderStatus:t}})};(async()=>{const t=parseInt(L,10);if(t){M(!0);try{const r=e?await re(t):await ne(t);if(console.log(r),r){const t=e?Te(r,a):Hs(r,a);v({type:"all",payload:t}),I(L),D(t.createdEmail),v({type:"variantImages",payload:{variantImages:[]}}),U(!0)}}catch(r){"order does not exist"===r&&setTimeout((()=>{window.location.hash=`/orderDetail/${A}`}),1e3)}finally{M(!1)}}})(),t()}}),[e,L,A,T]),w.useEffect((()=>{(async()=>{try{let e=o;if(!e){const{addressConfig:t}=await J();e=t,s({type:"common",payload:{addressConfig:e}})}const t="1"===(e||[]).find((e=>"address_label"===e.key))?.isEnabled;v({type:"addressLabel",payload:{addressLabelPermission:t}})}catch(e){Q.error(e)}})()}),[]),w.useEffect((()=>{0===g.length&&B&&(async()=>{const t=(y.products||[]).map((e=>e.sku));if(t.length>0){const r=e?E:O,{variantSku:n=[]}=await r({skus:t}),u=n.map((e=>({variantId:e.variantId,variantSku:e.variantSku,variantImage:e.imageUrl})));v({type:"variantImages",payload:{variantImages:u}}),U(!1)}})()}),[B]),r.jsx(V,{isSpinning:R,background:"rgba(255,255,255,0.2)",children:r.jsxs(u,{sx:{overflow:"auto",flex:1},children:[r.jsx(u,{sx:{marginBottom:"10px",width:"fit-content"},children:r.jsx(u,{sx:{color:"primary.main",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center"},onClick:()=>{n(C.state.isCompanyOrder?"/company-orders":"/orders")},children:null!==C.state?r.jsxs(r.Fragment,{children:[r.jsx(_e,{sx:{fontSize:"13px",margin:"0 8px"}}),r.jsx("span",{children:a("orderDetail.backToOrders")})]}):""})}),r.jsxs(f,{container:!0,spacing:2,children:[r.jsxs(f,{item:!0,xs:j?12:8,sx:{display:"flex",alignItems:"center",gap:"15px",order:j?1:0},children:[r.jsxs(i,{variant:"h4",sx:{color:H(x,.87)||"#263238"},children:[a("orderDetail.orderId",{orderId:L}),a("orderDetail.purchaseOrderNumber",{purchaseOrderNumber:c??""})]}),r.jsx(i,{children:a("orderDetail.erpOrderId",{erpOrderId:T})}),r.jsx(ee,{code:l,text:(e=>{const t=d.find((t=>t.systemLabel===e));let r=t?.customLabel||p;if(t){const e=te[t.systemLabel];r=e&&a(e)!==t.systemLabel?a(e):r}return r})(l)})]}),r.jsx(f,{container:!0,item:!0,xs:j?12:4,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:C?.state&&r.jsx(qe,{onChange:e=>(e=>{N(e.toString())})(e),color:x})})]}),r.jsxs(f,{container:!0,spacing:2,sx:{marginTop:"0",overflow:"auto",flexWrap:j?"wrap":"nowrap",paddingBottom:"20px"},children:[r.jsx(f,{item:!0,sx:j?{flexBasis:"100%"}:{flexBasis:"690px",flexGrow:1},children:r.jsxs(m,{spacing:3,children:[r.jsx(Vs,{}),r.jsx(at,{}),r.jsx(st,{})]})}),r.jsx(f,{item:!0,sx:j?{flexBasis:"100%"}:{flexBasis:"340px"},children:"{}"===JSON.stringify(h)?null:r.jsx(it,{detailsData:y})})]})]})})}}}}));
