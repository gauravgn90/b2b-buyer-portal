System.register(["./mui-legacy-BDTphHaF.js","./reactVendor-legacy-CtYIj4Ma.js","./lang-legacy-C2M9M2Og.js","./react-setup-legacy-Bwwh9_Jr.js","../index-legacy.BPYbSXo1.js","./router-legacy-CCJEjNy7.js","./useCustomCallbacks-legacy-BXYZnszm.js","./b3TriggerCartNumber-legacy-BWWQUXa7.js","./eStyled-legacy-D59194a7.js","./useBlockPendingAccountViewPrice-legacy-BzhXnI3Y.js","./muiIcon-legacy-BXgwC5sb.js","./eReact-legacy-BRtOBtIF.js","./intl-legacy-DG3cM9-L.js","./eCache-legacy-BoIqTPuc.js","./redux-legacy-Dls004SH.js","./toolkit-legacy-6OFItfV5.js","./lodashEs-legacy-Da1qF4L1.js","./dateFns-legacy-DV9BM4UY.js","./dropzone-legacy-B_7NAEdu.js","./b3Logger-legacy-C5y5ZQF8.js"],(function(e,t){"use strict";var n,i,o,s,a,l,r,c,d,x,p,g,u,h,m,f,j,y,b,C,w,F,k,v,S,M,D,B,I,L,W,P,z,O,T,E,R,H,N,A,q,V,_,G,U,$,K,Q,J,X,Y,Z,ee,te;return{setters:[e=>{n=e.j,i=e.B,o=e.$,s=e.a3,a=e.o,l=e.a4,r=e.a5,c=e.V,d=e.W,x=e.e,p=e.T,g=e.x,u=e.a6,h=e.a7,m=e.a8,f=e.a9},e=>{j=e.r},e=>{y=e.u},e=>{b=e.j,C=e.u,w=e.J,F=e.a,k=e.G,v=e.K,S=e.L,M=e.M,D=e.S,B=e.r,I=e.i,L=e.N,W=e.O,P=e.P,z=e.Q,O=e.p,T=e.C,E=e.R,R=e.k,H=e.U,N=e.V,A=e.W,q=e.X,V=e.Y,_=e.Z,G=e._},null,e=>{U=e.u,$=e.a},e=>{K=e.u,Q=e.C},e=>{J=e.b},e=>{X=e.n},e=>{Y=e.u},e=>{Z=e.a,ee=e.S,te=e.C},null,null,null,null,null,null,null,null,null],execute:function(){e("default",(function({children:e}){const[t]=F(),o=f("(min-width:1775px)"),s=$(),[a,l]=j.useState(""),r=y(),c=C((({company:e})=>e.customer.emailAddress)),d=C((({company:e})=>e.customer.id)),{state:{globalMessageDialog:x},dispatch:p}=j.useContext(N),g=U();return j.useEffect((()=>{c&&d||V(s.pathname)||g("/login")}),[c,d,s]),j.useEffect((()=>{const e=_.find((e=>e.path===s.pathname));if(e&&"/quoteDraft"!==s.pathname){const t=Object.entries(Fe).find((([e])=>e===s.pathname));l(r(t?t[1]:e.idLang))}else l("");p({type:"common",payload:{tipMessage:{msgs:[]}}})}),[s]),n.jsxs(i,{children:[t?n.jsx(we,{title:a,children:e}):n.jsxs(i,{id:"app-mainPage-layout",sx:{display:"flex",minHeight:"100vh",margin:"auto",width:o?1775:"100%",minWidth:o?1775:"100%",maxWidth:o?1775:"100%",flexDirection:"row",p:"32px 63px 70px 63px"},children:[n.jsx(ie,{}),n.jsxs(i,{sx:{display:"flex",flexDirection:"column",width:"200px",displayPrint:"none"},children:[n.jsx(oe,{}),n.jsx(i,{sx:{pt:"24px"},children:n.jsx(Ce,{})})]}),n.jsxs(i,{sx:{flex:1,display:"flex",flexDirection:"column",maxWidth:"1450px",width:"100%",p:"0 0px 0px 50px"},children:[n.jsx(be,{title:a}),n.jsx(ne,{}),n.jsx(i,{component:"main",sx:{mt:t||a?"0":"24px"},children:e})]})]}),n.jsx(G,{isOpen:x.open,title:x.title,leftSizeBtn:x.cancelText,rightSizeBtn:x.saveText,handleLeftClick:x.cancelFn||(()=>{p({type:"common",payload:{globalMessageDialog:{open:!1,title:"",message:"",cancelText:"Cancel"}}})}),handRightClick:x.saveFn,showRightBtn:!!x.saveText,children:n.jsx(i,{sx:{display:"flex",justifyContent:t?"center":"start",width:t?"100%":"450px",height:"100%"},children:x.message})})]})}));const t=[0,1,2];function ne(){const e=y(),[s,a]=j.useState(!1),[l,r]=b("sf-isCloseCompanyCredit",!1,sessionStorage),c=C((({company:e})=>e.customer.role)),d=C((({b2bFeatures:e})=>e.masqueradeCompany.isAgenting));return j.useEffect((()=>{(async()=>{if(!l&&(t.includes(+c)||3==+c&&d)){const{companyCreditConfig:{creditHold:e,creditEnabled:t}}=await w();a(e&&t)}})()}),[c,d,l]),s?n.jsx(i,{sx:{margin:"1rem 0"},children:n.jsx(o,{variant:"filled",onClose:()=>(r(!0),void a(!1)),severity:"warning",children:e("global.companyCredit.alert")})}):null}function ie(){const[e]=F(),t=C((({global:e})=>e.setOpenPageFn)),{state:{isCloseGotoBCHome:i}}=j.useContext(k),o=U(),s=e?S:M;return n.jsx(s,{children:n.jsx(v,{sx:{color:"#757371"},onClick:()=>{i?window.location.href="/":(o("/"),t?.({isOpen:!1,openUrl:""})),window.history.replaceState(null,"",window.location.pathname||"/")}})})}function oe(){const{state:{logo:e}}=j.useContext(k),[t]=F();return n.jsx(i,{sx:t?{height:"40px",width:"140px","& li":{height:"40px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"1rem"},"& img":{maxHeight:"40px"}}:{width:"200px",height:"65px",display:"flex",alignItems:"center","& img":{maxHeight:"65px"}},children:n.jsx(s,{sx:{maxWidth:"200px",cursor:"pointer","& .MuiImageListItem-img":{objectFit:"contain",width:"auto"}},onClick:()=>{window.location.href="/"},children:n.jsx("img",{src:e||D,alt:"logo"})})})}var se={},ae=a;Object.defineProperty(se,"__esModule",{value:!0});var le=se.default=void 0,re=ae(B()),ce=n;le=se.default=(0,re.default)((0,ce.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");var de={},xe=a;Object.defineProperty(de,"__esModule",{value:!0});var pe=de.default=void 0,ge=xe(B()),ue=n;function he({width:e,list:t,config:o,title:s,value:a,handleItemClick:x}){const[p]=F(),[g,u]=j.useState(!1),h=j.useRef(null),m=y(),f=()=>{u(!1)},b=o?.name||"name";return n.jsxs(i,{sx:{width:e||"auto"},children:[n.jsxs(l,{ref:h,onClick:()=>u(!0),sx:{pr:0},children:[n.jsx(r,{primary:s,sx:{"& span":{fontWeight:p?400:700,color:"#333333"}}}),g?n.jsx(pe,{}):n.jsx(le,{})]}),n.jsx(c,{anchorEl:h.current,open:g,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},id:"customized-menu",keepMounted:!0,onClose:f,sx:{"& .MuiList-root.MuiList-padding.MuiMenu-list":{pt:p?0:"8px",pb:p?0:"8px"}},children:t.length&&t.map((t=>{const i=t[b],o=a===t.key?"#3385d6":"black";return n.jsx(d,{sx:{color:o,width:p?"auto":e||"155px"},onClick:()=>{f(),x(t)},children:m("global.button.logout")},i)}))})]})}pe=de.default=(0,ge.default)((0,ue.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");const me=[{name:"Log out",key:"logout",type:"button",idLang:"global.button.logout"}];function fe({closeSidebar:e}){const[t]=F(),o=C((({company:e})=>e.customer.firstName)),s=C((({company:e})=>e.customer.lastName)),a=U(),l=`${o}  ${s}`;return n.jsx(i,{sx:{minWidth:"150px",display:"flex",justifyContent:t?"start":"end",mr:"-5px",fontSize:"16px",color:"#333333",textAlign:"center",alignItems:"center"},children:n.jsx(he,{title:l,handleItemClick:async t=>{"logout"===t.key?a("/login?loginFlag=3"):"path"===t.type&&t.key&&a(t.key),e&&e(!1)},list:me})})}const je=X(i)((()=>({"& svg":{color:"#FFFFFF"}})));function ye(e){const{title:t}=e,i=I(),s=y(),a=C((({company:e})=>e.customer.loginType)),l=C((({company:e})=>e.customer.role)),r=C((({company:e})=>e.companyInfo.status)),c=L.get("blockPendingAccountOrderCreation"),[d]=Y(),[x,p]=j.useState(""),[g,u]=j.useState(!1),[h,m]=j.useState("success"),[f,b]=j.useState("#2E7D32"),w=()=>{i(P(z.WAITING_LOGIN)),u(!1)},F={};return 0!=+r&&(F.onClose=w),j.useEffect((()=>{const e=100!==l&&(0==+r||1===a);u(e),e&&(0==+r&&(c&&d&&p(s(W.pendingOrderingAndViewPriceBlocked)),c&&!d&&p(s(W.pendingOrderingBlocked)),!c&&d&&p(s(W.pendingViewPriceBlocked)),c||d||p(s(W.pendingOrderingNotBlocked)),m("info"),b("#0288D1")),1==+r&&(p(W.approvedTip),m("success"),b("#2E7D32")),2==+r&&(p(W.rejectedTip),m("warning"),b("#ED6C02")))}),[c,d,r,a,l,s]),g?n.jsx(je,{sx:{mb:t?"20px":"0"},children:n.jsx(o,{...F,severity:h||"success",sx:{color:"#FFFFFF",backgroundColor:f},children:x})}):null}function be({title:e}){const t=C(O),o=C((({company:e})=>e.customer.role)),s=C((({company:e})=>e.companyInfo)),a=C((({b2bFeatures:e})=>e.masqueradeCompany.companyName)),l=C((({global:e})=>e.cartNumber)),r=U(),c=y(),[d]=F(),{state:{portalStyle:{backgroundColor:g="#FEF9F5"}}}=j.useContext(T),{purchasabilityPermission:u}=C(E),h=!t||u,m=R(g),f=K(Q.OnClickCartButton,((e,t)=>{t()&&(window.location.href=H)}));return j.useEffect((()=>{J()}),[]),n.jsxs(i,{children:[n.jsxs(i,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",height:"70px",alignItems:"center"},children:[n.jsx(i,{component:"h4",sx:{fontSize:"20px",fontWeight:"500",color:m||"#333333"},children:3==+o&&(s?.companyName||a||c("global.B3MainHeader.superAdmin"))}),n.jsxs(i,{sx:{display:"flex",alignItems:"center"},children:[100!==o&&n.jsx(fe,{}),n.jsxs(i,{sx:{marginLeft:"8px"},children:[100===o&&n.jsx(x,{sx:{color:"#333333",fontWeight:700,fontSize:"16px"},onClick:()=>{r("/login")},children:c("global.B3MainHeader.signIn")}),n.jsx(x,{sx:{color:"#333333",fontWeight:700,fontSize:"16px"},onClick:()=>{window.location.href="/"},children:c("global.B3MainHeader.home")}),h&&n.jsxs(x,{sx:{color:"#333333",fontWeight:700,fontSize:"16px"},onClick:f,children:[c("global.B3MainHeader.cart"),l>0?n.jsx(p,{id:"cart-number-icon",sx:{backgroundColor:"#1976D2",minWidth:"21px",height:"20px",color:"#FFFFFF",borderRadius:"64px",fontSize:"12px",fontWeight:"500",lineHeight:"20px",marginLeft:"3px",padding:"0px 6.5px"},children:l}):null]})]})]})]}),e&&n.jsx(i,{component:"h3",sx:{height:"40px",m:"0",fontSize:"34px",fontWeight:400,lineHeight:"42px",display:"flex",alignItems:"end",mb:"24px",mt:d?0:"24px",color:m},children:e}),n.jsx(ye,{title:e})]})}function Ce({closeSidebar:e}){const[t]=F(),i=U(),o=$(),s=y(),{dispatch:a}=j.useContext(N),c=C((({company:e})=>e.customer.role)),{state:d}=j.useContext(k),{quoteDetailHasNewMessages:x,registerEnabled:p}=d,f=g().palette.primary.main,b=()=>{i("/register"),a({type:"common",payload:{globalMessageDialog:{open:!1,title:"",message:"",cancelText:"Cancel"}}})},w=n=>{100!==c?(i(n.path),t&&e&&e(!1)):a({type:"common",payload:{globalMessageDialog:{open:!0,title:"Registration",message:"shoppingLists"===n.configKey?"Please create an account, or login to create a shopping list.":"To receive full access to buyer portal, please register. It will take 2 minutes.",cancelText:"Cancel",saveText:p?"Register":"",saveFn:b}}})},v=q(d).filter((e=>e.isMenuItem)),S=e=>o.pathname===e?(L.set("prevPath",e),!0):!(!o.pathname.includes("orderDetail")||e!==("/company-orders"===L.get("prevPath")?"/company-orders":"/orders"))||(!(!o.pathname.includes("shoppingList")||"/shoppingLists"!==e)||!(!o.pathname.includes("/quoteDetail")&&!o.pathname.includes("/quoteDraft")||"/quotes"!==e));return n.jsx(u,{sx:{width:"100%",maxWidth:360,bgcolor:t?"background.paper":"background.default",color:f||"info.main","& .MuiListItem-root":{"& .MuiButtonBase-root.Mui-selected":{color:R(f)||"#fff",bgcolor:"primary.main",borderRadius:"4px"},"& .MuiButtonBase-root:hover:not(.Mui-selected)":{bgcolor:A(f,.12),borderRadius:"4px"}}},component:"nav","aria-labelledby":"nested-list-subheader",children:v.map((e=>{if("Quotes"===e.name){const{pathname:t}=o;return n.jsx(h,{disablePadding:!0,children:n.jsx(m,{badgeContent:x&&t.includes("quoteDetail")?"":0,variant:"dot",sx:{width:"100%","& .MuiBadge-badge.MuiBadge-dot":{width:8,height:8,bgcolor:"#FFFFFF",right:14,top:22}},children:n.jsx(l,{onClick:()=>w(e),selected:S(e.path),children:n.jsx(r,{primary:s(e.idLang)})})})},e.path)}return n.jsx(h,{disablePadding:!0,children:n.jsx(l,{onClick:()=>w(e),selected:S(e.path),children:n.jsx(r,{primary:s(e.idLang)})})},e.path)}))})}function we({children:e,title:t}){const o=C(O),[s,a]=j.useState(!1),l=C((({global:e})=>e.cartNumber)),r=C((({b2bFeatures:e})=>e.masqueradeCompany.isAgenting)),{purchasabilityPermission:c}=C(E),d=!o||c,{state:{portalStyle:{backgroundColor:x="#FEF9F5"}}}=j.useContext(T),p=R(x);return n.jsxs(i,{sx:{height:"70vh",p:"4vw",display:"flex",flexDirection:"column"},children:[n.jsxs(i,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",mb:"4.5vw"},children:[n.jsx(m,{badgeContent:0,color:"secondary",children:n.jsx(Z,{onClick:()=>{a(!0)},sx:{color:p}})}),n.jsx(oe,{}),n.jsxs(i,{sx:{display:"flex",justifyContent:"space-between","& span":{marginRight:"1.5rem"}},children:[d&&n.jsx(m,{badgeContent:l,max:1e3,sx:{"& .MuiBadge-badge":{color:"#FFFFFF",backgroundColor:"#1976D2",fontWeight:500,fontSize:"12px",minWidth:"18px",height:"18px",top:"8px",right:"3px",marginRight:"-0.5rem"}},children:n.jsx(ee,{sx:{color:"rgba(0, 0, 0, 0.54)",marginRight:"-0.5rem"},onClick:()=>{window.location.href=H}})}),n.jsx(i,{sx:{marginLeft:"2px",height:"24px"},children:n.jsx(ie,{})})]})]}),n.jsx(i,{component:"h1",sx:{p:0,m:0,mb:"6vw",fontSize:"34px",fontWeight:"400",color:p||"#263238"},children:t}),n.jsx(ne,{}),n.jsx(i,{sx:{flex:1,display:"flex",paddingBottom:r?"52px":"0"},children:e}),s&&n.jsxs(i,{sx:{height:"100vh",position:"fixed",width:"92vw",zIndex:1e3,left:0,top:0,p:"4vw",backgroundColor:"white",boxShadow:"0px 7px 8px -4px #00000033, 0px 12px 17px 2px #00000024, 0px 5px 22px 4px #0000001f"},children:[n.jsxs(i,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",pb:"4vw"},children:[n.jsx(fe,{closeSidebar:a}),n.jsx(te,{onClick:()=>a(!1)})]}),n.jsx(Ce,{closeSidebar:a})]})]})}const Fe={"/purchased-products":"global.purchasedProducts.title","/orders":"global.orders.title","/company-orders":"global.companyOrders.title"}}}}));
