import{j as s,o as ur,B as re,T as Q,I as Ft,w as vt,v as kn,g as Cn,ae as An,J as rt,ab as nt,af as Ct,Z as In,G as ke}from"./mui-5MYSBV5R.js";import{r as x,a as $n,e as Ce}from"./reactVendor-BAhb8EbJ.js";import{u as ve}from"./lang-BFcXlKUT.js";import{ah as Tn,aD as Ln,r as or,u as ge,p as it,a as xe,aE as Dn,an as bt,a5 as ce,_ as jn,aF as On,aG as En,aH as sr,aI as cr,aJ as Bn,U as Nn,a0 as Gt,a1 as Rn,R as Wn,al as Kt,aK as Mn,a3 as qn,aL as xt,aM as zn,aN as Un,G as Fn,C as Gn,k as Kn,a2 as Zn,W as Vn}from"./react-setup-B89zJiq4.js";import"../index.CgW3dhwJ.js";import{b as At}from"./b3Logger-CMQiGC3f.js";import{i as Hn}from"./address-ChPJPEAK.js";import{g as Xn,a as Jn,O as lr,o as pr,b as Qn,c as Yn,d as ei,e as ti}from"./OrderStatus-Jt2lwhAk.js";import{a as hr,u as dr,c as ri}from"./router-BbCjXwHs.js";import{n as pe}from"./eStyled-BQSmO2oX.js";import{b as ni}from"./lodashEs-Ck10JMnh.js";import{u as ii}from"./form-Bvi8lP6x.js";import{B as ai}from"./B3CustomForm-DjrjSYXN.js";import{s as Zt}from"./B3LinkTipContent-BVl82U0K.js";import{b as ui}from"./b3TriggerCartNumber-BPwZgbsT.js";import oi from"./CreateShoppingList-1lVs3VDT.js";import si from"./OrderShoppingList-B7KfrOGd.js";import{i as ci,g as li}from"./dateFns-CE3kB2v1.js";import{A as pi}from"./muiIcon-Du0m7JKT.js";import"./eReact-DeS39u1B.js";import"./intl-CIPMD0ue.js";import"./eCache-BQInSoPa.js";import"./redux-B-shcavw.js";import"./toolkit-CHPG993j.js";import"./dropzone-CHkuoC7V.js";import"./useCustomCallbacks-D2SU_LXI.js";import"./b3ShoppingList-B11xUer0.js";const hi=(r,e)=>{var i;let t=document.getElementById(e);t||(t=document.createElement("iframe"),t.src="about:blank",t.id=e,t.style.display="none",document.body.appendChild(t));const n=(i=t.contentWindow)==null?void 0:i.document;n&&(n.open(),n.write(r),n.close()),t.style.display="block"},di=async(r,e)=>{await fetch("/account.php?action=print_invoice&order_id=".concat(r)).then(t=>{if(t.ok)return t.text();throw new Error("Network response was not ok.")}).then(t=>{hi(t,e)}).catch(t=>{At.error("Error Invoice:",t)})},mi={currency_location:"left",currency_token:"$",decimal_token:".",decimal_places:2,thousands_token:",",currency_exchange_rate:"1.0000000000"},mr={shippings:[],billings:[],history:[],poNumber:"",status:"",statusCode:"",currencyCode:"",currency:"",orderSummary:{createAt:"",name:"",priceData:{}},customStatus:"",money:{...mi},payment:{},orderComments:"",products:[],orderId:"",orderStatus:[],ipStatus:0,invoiceId:0,addressLabelPermission:!1,canReturn:!1,createdEmail:"",orderIsDigital:!1,variantImages:[]},Se=x.createContext({state:mr,dispatch:()=>{}}),fi=(r,e)=>{switch(e.type){case"all":return{...r,...e.payload};case"statusType":return{...r,orderStatus:e.payload.orderStatus};case"addressLabel":return{...r,addressLabelPermission:e.payload.addressLabelPermission};case"variantImages":return{...r,variantImages:e.payload.variantImages};default:return r}};function wi(r){const[e,t]=x.useReducer(fi,mr),{children:n}=r,i=x.useMemo(()=>({state:e,dispatch:t}),[e]);return s.jsx(Se.Provider,{value:i,children:n})}const gi=r=>{const{shipments:e,shippingAddress:t=[],products:n=[]}=r,a=(e||[]).map(c=>{const{items:p}=c,m=[];return p.forEach(_=>{const h=n.find(A=>A.id===_.order_product_id);h&&m.push({...h,current_quantity_shipped:_.quantity,not_shipping_number:h.quantity-h.quantity_shipped})}),{...c,itemsInfo:m}});return t.map(c=>({...c,shipmentItems:[...a.filter(p=>p.order_address_id===c.id)],notShip:{itemsInfo:n.filter(p=>{const m=p;return m.not_shipping_number=p.quantity-p.quantity_shipped,p.quantity>p.quantity_shipped&&c.id===p.order_address_id})}}))},vi=r=>{const{billingAddress:e,products:t}=r;return[{billingAddress:e,products:t}]},We=r=>{const{decimal_places:e=2}=Ln();try{return(parseFloat(r.toString())||0).toFixed(e)}catch(t){return"0.00"}},yi=(r,e)=>{const{dateCreated:t,firstName:n,lastName:i,totalTax:a,subtotalExTax:u,subtotalIncTax:c,totalExTax:p,totalIncTax:m,handlingCostExTax:_,handlingCostIncTax:h,shippingCostExTax:A,shippingCostIncTax:T}=r,{global:{showInclusiveTaxPrice:B}}=Tn.getState(),y={subTotal:e("orderDetail.summary.subTotal"),shipping:e("orderDetail.summary.shipping"),handingFee:e("orderDetail.summary.handingFee"),tax:e("orderDetail.summary.tax"),grandTotal:e("orderDetail.summary.grandTotal")};return{createAt:t,name:"".concat(n," ").concat(i),priceData:{[y.subTotal]:We(B?c:u),[y.shipping]:We(B?T:A),[y.handingFee]:We(h||_||""),[y.tax]:We(a||""),[y.grandTotal]:We(m||p||"")}}},_i=r=>{const{updatedAt:e,billingAddress:t,paymentMethod:n,dateCreated:i}=r,a=new Date(i).getTime()/1e3;return{updatedAt:e,billingAddress:t,paymentMethod:n,dateCreateAt:JSON.stringify(a)}},bi=r=>{const{products:e}=r,t=[];return e.forEach(n=>{const i=t.findIndex(a=>+a.variant_id==+n.variant_id);if(i===-1)t.push(n);else{const a=t[i];t[i]={...a,quantity:+a.quantity+ +n.quantity}}}),t},fr=(r,e)=>{var t;return{shippings:r.orderIsDigital?[]:gi(r),billings:r.orderIsDigital?vi(r):[],history:r.orderHistoryEvent||[],poNumber:r.poNumber||"",status:r.status,statusCode:r.statusId,currencyCode:r.currencyCode,currency:((t=r.money)==null?void 0:t.currency_token)||"$",money:r.money,orderSummary:yi(r,e),payment:_i(r),orderComments:r.customerMessage,products:bi(r),orderId:+r.id,customStatus:r.customStatus,ipStatus:+r.ipStatus||0,invoiceId:+(r.invoiceId||0),canReturn:r.canReturn,createdEmail:r.createdEmail,orderIsDigital:r.orderIsDigital}};var It={},xi=ur;Object.defineProperty(It,"__esModule",{value:!0});var wr=It.default=void 0,Si=xi(or()),Pi=s;wr=It.default=(0,Si.default)((0,Pi.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");var $t={},ki=ur;Object.defineProperty($t,"__esModule",{value:!0});var gr=$t.default=void 0,Ci=ki(or()),Ai=s;gr=$t.default=(0,Ci.default)((0,Ai.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");const yt=1e8;function Ii({onChange:r,color:e}){const t=ve(),n=ge(it),[i,a]=x.useState(yt),[u,c]=x.useState(""),[p,m]=x.useState(!1),[_,h]=x.useState({rightId:"",leftId:""}),A=hr(),[T]=xe();let B=0,y=0,k=null,D=null,P={offset:0};if(A!=null&&A.state){const g=A.state;B=(g==null?void 0:g.currentIndex)||0,y=(g==null?void 0:g.totalCount)||0,k=(g==null?void 0:g.beginDateAt)||null,D=(g==null?void 0:g.endDateAt)||null,P=(g==null?void 0:g.searchParams)||{offset:0}}const O=async()=>{var I,N,M,L;m(!0);const j={...P,first:3,offset:i?i-1:0,beginDateAt:k||null,endDateAt:D||null,orderBy:"-createdAt"},{edges:C,totalCount:b}=n?await Xn(j):await Jn(j);let q="",H="",X="";i===b-1?(q="toRight",X=((I=C[C.length-2])==null?void 0:I.node.orderId)||0):i===0?(q="toLeft",H=((N=C[1])==null?void 0:N.node.orderId)||0):(X=((M=C[0])==null?void 0:M.node.orderId)||0,H=((L=C[2])==null?void 0:L.node.orderId)||0),h({leftId:X,rightId:H}),c(q),m(!1)};if(x.useEffect(()=>{if(y>0&&a(B),i===yt)return;const g=B+(P.offset||0);a(g)},[P]),x.useEffect(()=>{i!==yt&&O()},[i]),JSON.stringify(P)==="{}")return null;const W=()=>{a(i-1),r(_.leftId)},U=()=>{a(i+1),r(_.rightId)},f=i+1;return s.jsxs(re,{sx:{display:"flex",color:"".concat(e)},children:[!T&&s.jsxs(re,{sx:{display:"flex",alignItems:"center"},children:[t("orderDetail.pagination.order"),s.jsx(Q,{sx:{m:1},children:f}),t("orderDetail.pagination.of"),s.jsx(re,{sx:{ml:1},children:y})]}),s.jsx(Ft,{onClick:W,disabled:y<=1||u==="toLeft"||p,children:s.jsx(wr,{sx:{color:"".concat(e)}})}),s.jsx(Ft,{onClick:U,disabled:y<=1||u==="toRight"||p,children:s.jsx(gr,{sx:{color:"".concat(e)}})})]})}const $i=()=>[{name:"return_reason",label:"Return reason",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Received Wrong Product",value:"Received wrong product"},{label:"Wrong Product Ordered",value:"Wrong product ordered"},{label:"Not Satisfied With The Product",value:"Not satisfied with the product"},{label:"There Was A Problem With The Product",value:"There was a problem with the product"}]},{name:"return_action",label:"Return action",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Repair",value:"Repair"},{label:"Replacement",value:"Replacement"},{label:"Store Credit",value:"Store credit"}]},{name:"return_comments",label:"Comment",required:!1,xs:12,rows:5,variant:"filled",size:"small",fieldType:"multiline",default:""}],Vt=pe("div")(({isHeader:r,isMobile:e})=>({display:"flex",wordBreak:"break-word",padding:"8px 0 0",gap:"8px",flexWrap:e?"wrap":"initial",...r?{borderBottom:"1px solid #D9DCE9",paddingBottom:"8px",alignItems:"center"}:{alignItems:"flex-start"},...e?{borderTop:"1px solid #D9DCE9",padding:"12px 0 12px","&:first-of-type":{marginTop:"12px"}}:{}})),we=pe("div")(({width:r,padding:e="0",flexBasis:t,textAlignLocation:n})=>({display:"flex",flexGrow:r?0:1,flexShrink:r?0:1,alignItems:"flex-start",justifyContent:n==="right"?"flex-end":"flex-start",flexBasis:t,width:r,padding:e})),Xe=pe("div")(()=>({fontSize:"0.875rem",lineHeight:"1.5",color:"#263238"})),Ti=pe("img")(()=>({width:"60px",borderRadius:"4px",flexShrink:0})),Li=pe("div")(()=>({fontSize:"0.75rem",lineHeight:"1.5",color:"#455A64"})),Di={default:{width:"15%"},qty:{width:"80px"}},ji={default:{width:"100%",padding:"0 0 0 128px"},qty:{width:"100%",padding:"0 0 0 128px"}};function Oi(r){const{products:e,getProductQuantity:t=f=>f.editQuantity,onProductChange:n=()=>{},setCheckedArr:i=()=>{},setReturnArr:a=()=>{},textAlign:u="left",type:c}=r,p=ve(),[m]=xe(),[_,h]=x.useState([]),[A,T]=x.useState([]),B=(f,g)=>{const j=parseFloat(g.toString())||0;return(parseInt(f.toString(),10)||0)*j},y=m?ji:Di,k=()=>{if([..._].length===e.length)h([]),T([]);else{const g=e.map(C=>C.variant_id),j=[];e.forEach((C,b)=>{j[b]={returnId:C.id,returnQty:+C.editQuantity}}),h(g),T(j)}},D=(f,g,j)=>{const C=[..._],b=[...A],q=C.findIndex(X=>X===f),H=b.findIndex(X=>X.returnId===g);q!==-1?(C.splice(q,1),b.splice(H,1)):(C.push(f),b.push({returnId:g,returnQty:j})),h(C),T(b)},P=f=>_.includes(f),O=f=>g=>{const j=f,C=g.target.value;+C>=0&&+C<=1e6&&(j.editQuantity=C,c==="return"&&(+C>+f.quantity?(j.editQuantity=f.quantity,ce.error(p("purchasedProducts.error.returnedQuantityShouldBeWithinThePurchase"))):(A.forEach(b=>{const q=b;q.returnId===f.id&&(q.returnQty=+C)}),a(A))),n([...e]))},W=f=>{["KeyE","Equal","Minus"].indexOf(f.code)>-1&&f.preventDefault()},U=f=>()=>{const g=f;(!f.editQuantity||+f.editQuantity==0)&&(g.editQuantity="1",n([...e]))};return x.useEffect(()=>{i(_)},[_]),x.useEffect(()=>{a(A)},[A]),e.length>0?s.jsxs(re,{children:[!m&&s.jsxs(Vt,{isHeader:!0,isMobile:m,children:[s.jsx(vt,{checked:_.length===e.length,onChange:k}),s.jsx(we,{children:s.jsx(Xe,{children:p("orderDetail.reorder.product")})}),s.jsx(we,{textAlignLocation:u,...y.default,children:s.jsx(Xe,{children:p("orderDetail.reorder.price")})}),s.jsx(we,{textAlignLocation:u,...y.default,children:s.jsx(Xe,{children:p("orderDetail.reorder.qty")})}),s.jsx(we,{textAlignLocation:u,...y.default,children:s.jsx(Xe,{children:p("orderDetail.reorder.total")})})]}),m&&s.jsx(kn,{label:"Select all products",control:s.jsx(vt,{checked:_.length===e.length,onChange:k}),sx:{paddingLeft:"0.6rem"}}),e.map(f=>s.jsxs(Vt,{isMobile:m,children:[s.jsx(vt,{checked:P(f.variant_id),onChange:()=>D(f.variant_id,f.id,+f.editQuantity)}),s.jsxs(we,{children:[s.jsx(Ti,{src:f.imageUrl||Dn}),s.jsxs(re,{sx:{marginLeft:"16px"},children:[s.jsx(Q,{variant:"body1",color:"#212121",children:f.name}),s.jsx(Q,{variant:"body1",color:"#616161",children:f.sku}),(f.product_options||[]).map(g=>s.jsx(Li,{children:"".concat(g.display_name,": ").concat(g.display_value)},g.display_name))]})]}),s.jsxs(we,{textAlignLocation:u,padding:"10px 0 0",...y.default,children:[m&&s.jsxs("span",{children:[p("orderDetail.reorder.price")," "]}),"".concat(bt(f.base_price))]}),s.jsx(we,{textAlignLocation:u,...y.default,children:s.jsx(Cn,{type:"number",variant:"filled",hiddenLabel:!m,label:m?p("orderDetail.reorder.qty"):"",value:t(f),onChange:O(f),onKeyDown:W,onBlur:U(f),size:"small",sx:{width:m?"60%":"80px","& .MuiFormHelperText-root":{marginLeft:"0",marginRight:"0"}},error:!!f.helperText,helperText:f.helperText})}),s.jsxs(we,{textAlignLocation:u,padding:"10px 0 0",...y.default,children:[m&&s.jsxs("span",{children:[p("orderDetail.reorder.total")," "]}),"".concat(bt(B(t(f),f.base_price)))]})]},f.sku))]}):null}const Ei=()=>{const r=Rn.get("XSRF-TOKEN");if(r)return decodeURIComponent(r)};function Bi({open:r,products:e=[],type:t,currentDialogData:n=void 0,setOpen:i,itemKey:a,orderId:u}){const c=ge(it),{state:{variantImages:p=[]}}=x.useContext(Se),[m,_]=x.useState(!1),[h,A]=x.useState(!1),[T,B]=x.useState([]),[y,k]=x.useState([]),[D,P]=x.useState(!1),[O,W]=x.useState([]),[U,f]=x.useState([]),[g]=x.useState($i()),[j]=xe(),{control:C,handleSubmit:b,getValues:q,formState:{errors:H},setValue:X}=ii({mode:"all"}),I=ve(),N=()=>{i(!1)},M=async(G,K,z)=>{if(!Object.keys(G).length||!K.length){ce.error(I("purchasedProducts.error.selectOneItem"));return}const ee=K.reduce((ie,fe)=>{const Ee=ie,Be="return_qty[".concat(fe.returnId,"]");return Ee[Be]=fe.returnQty,ie},G);ee.authenticity_token=Ei(),ee.order_id=z;const J=new URLSearchParams(ee),te={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},referrer:"".concat(Gt,"/account.php?action=new_return&order_id=").concat(z),body:J,mode:"no-cors"};try{P(!0);const ie=await fetch("".concat(Gt,"/account.php?action=save_new_return"),te);ie.status===200&&ie.url.includes("saved_new_return")?ce.success(I("purchasedProducts.success.successfulApplication")):ce.error("purchasedProducts.error.failedApplication"),P(!1),N()}catch(ie){At.error(ie)}},L=()=>{b(G=>{M(G,U,u)})()},l=(G,K)=>{let z=!0;return K.forEach(ee=>{const J=(G||[]).find(Re=>Re.variantSku.toUpperCase()===ee.toUpperCase()),te=T.find(Re=>Re.sku===ee);if(!J||!te)return;const{maxQuantity:ie=0,minQuantity:fe=0,stock:Ee=0,isStock:Be="0"}=J,Ne=(te==null?void 0:te.editQuantity)||1;Be==="1"&&Ne>Ee?(te.helperText=I("purchasedProducts.outOfStock"),z=!1):fe!==0&&Ne<fe?(te.helperText=I("purchasedProducts.minQuantity",{minQuantity:fe}),z=!1):ie!==0&&Ne>ie?(te.helperText=I("purchasedProducts.maxQuantity",{maxQuantity:ie}),z=!1):te.helperText=""}),z||B([...T]),z},d=async()=>{P(!0);try{const G=[],K=[];if(T.forEach(J=>{O.includes(J.variant_id)&&(G.push({quantity:parseInt("".concat(J.editQuantity),10)||1,productId:J.product_id,variantId:J.variant_id,optionSelections:(J.product_options||[]).map(te=>({optionId:te.product_option_id,optionValue:te.value})),allOptions:J.product_options}),K.push(J.sku))}),K.length<=0)return;if(!l(y,K)){ce.error(I("purchasedProducts.error.fillCorrectQuantity"));return}const z=await Bn(G);z&&(z.data.cart.createCart||z.data.cart.addCartLineItems)?(i(!1),ce.success("",{jsx:Zt({message:I("orderDetail.reorder.productsAdded"),link:Nn,linkText:I("orderDetail.viewCart"),isOutLink:!0,isCustomEvent:!0}),isClose:!0}),ui()):z.errors&&ce.error(z.errors[0].message,{isClose:!0})}catch(G){ce.error(G==null?void 0:G.detail,{isClose:!0})}finally{P(!1)}},v=()=>{if(O.length===0&&ce.error(I("purchasedProducts.error.selectOneItem")),t==="shoppingList"){if(O.length===0)return;N(),A(!0)}t==="reOrder"&&d(),t==="return"&&L()},$=()=>{_(!1),A(!0)},Y=()=>{A(!1)},Oe=async G=>{P(!0);try{const z=T.map(J=>{const{product_id:te,variant_id:ie,editQuantity:fe,product_options:Ee}=J;return{productId:+te,variantId:ie,quantity:+fe,optionList:Ee.map(Be=>{const{product_option_id:Ne,value:Re}=Be;return{optionId:"attribute[".concat(Ne,"]"),optionValue:Re}})}}).filter(J=>O.includes(+J.variantId));await(c?On:En)({shoppingListId:+G,items:z}),ce.success("",{jsx:Zt({message:I("orderDetail.addToShoppingList.productsAdded"),link:"/shoppingList/".concat(G),linkText:I("orderDetail.viewShoppingList")}),isClose:!0}),A(!1)}finally{P(!1)}},xn=()=>{A(!1),_(!0)},Sn=()=>{_(!1),A(!0)};x.useEffect(()=>{if(!r)return;B(e.map(K=>{const z=p.find(ee=>K.sku===(ee==null?void 0:ee.variantSku)||+K.variant_id==+ee.variantId);return{...K,editQuantity:K.quantity,imageUrl:(z==null?void 0:z.variantImage)||K.imageUrl}})),(async()=>{const K=e.map(ee=>ee.sku),{variantSku:z=[]}=c?await sr({skus:K}):await cr({skus:K});k(z)})()},[c,r,e,p]);const Pn=G=>{B(G)};return s.jsxs(s.Fragment,{children:[s.jsx(re,{sx:{ml:3,width:"50%"},children:s.jsxs(jn,{isOpen:r,fullWidth:!0,handleLeftClick:N,handRightClick:v,title:(n==null?void 0:n.dialogTitle)||"",rightSizeBtn:(n==null?void 0:n.confirmText)||"Save",maxWidth:"md",loading:D,children:[s.jsx(Q,{sx:{margin:j?"0 0 1rem":"1rem 0"},children:(n==null?void 0:n.description)||""}),s.jsx(Oi,{products:T,onProductChange:Pn,setCheckedArr:W,setReturnArr:f,textAlign:j?"left":"right",type:t}),t==="return"&&s.jsxs(s.Fragment,{children:[s.jsx(Q,{variant:"body1",sx:{margin:"20px 0"},children:I("purchasedProducts.orderDialog.aditionalInformation")}),s.jsx(ai,{formFields:g,errors:H,control:C,getValues:q,setValue:X})]})]})}),a==="order-summary"&&s.jsx(si,{isOpen:h,dialogTitle:I("purchasedProducts.orderDialog.addToShoppingList"),onClose:Y,onConfirm:Oe,onCreate:xn,isLoading:D,setLoading:P}),a==="order-summary"&&s.jsx(oi,{open:m,onChange:$,onClose:Sn})]})}const Ni=pe("div")(()=>({})),Ri=pe("div")(r=>({flexWrap:"wrap",padding:r.isShowButtons?"0 1rem 1rem 1rem":0,"& button":{marginLeft:"0",marginRight:"8px",margin:"8px 8px 0 0"}})),Wi=pe("div")(r=>({display:"flex",justifyContent:"space-between",fontWeight:r.nameKey==="Grand total"?700:400,"& p":{marginTop:0,marginBottom:r.nameKey==="Grand total"?"0":"12px",lineHeight:1}})),Mi=pe("div")(()=>({display:"flex",justifyContent:"space-between",fontWeight:400}));function qi(r){const{header:e,subtitle:t,buttons:n,infos:i,products:a,itemKey:u,orderId:c,role:p,invoiceId:m,ipStatus:_}=r,h=ve(),A=ge(({b2bFeatures:b})=>b.masqueradeCompany.isAgenting),T=[{dialogTitle:h("orderDetail.orderCard.reorder"),type:"reOrder",description:h("orderDetail.orderCard.reorderDescription"),confirmText:h("orderDetail.orderCard.reorderConfirmText")},{dialogTitle:h("orderDetail.orderCard.return"),type:"return",description:h("orderDetail.orderCard.returnDescription"),confirmText:h("orderDetail.orderCard.returnConfirmText")},{dialogTitle:h("orderDetail.orderCard.addToShoppingList"),type:"shoppingList",description:h("orderDetail.orderCard.addToShoppingListDescription"),confirmText:h("orderDetail.orderCard.addToShoppingListConfirmText")}],B=dr(),[y,k]=x.useState(!1),[D,P]=x.useState(""),[O,W]=x.useState(),U=n.filter(b=>b.isCanShow).length>0;let f=[],g=[];if(typeof i!="string"){const{info:b}=i;f=Object.keys(b),g=Object.values(b)}const j=b=>{if(b==="viewInvoice")_!==0?B("/invoice?invoiceId=".concat(m)):di(c,"b2b_print_invoice");else if(b==="printInvoice")window.open("/account.php?action=print_invoice&order_id=".concat(c));else{if(!A&&+p==3){ce.error(h("orderDetail.orderCard.errorMasquerade"));return}k(!0),P(b);const q=T.find(H=>H.type===b);W(q)}};let C=g==null?void 0:g.map(b=>s.jsx(Mi,{children:b},b));return typeof i=="string"?C=i:i!=null&&i.money&&(C=f==null?void 0:f.map((b,q)=>s.jsxs(x.Fragment,{children:[b==="Grand total"&&s.jsx(An,{sx:{marginBottom:"1rem",marginTop:"0.5rem"}}),s.jsxs(Wi,{nameKey:b,children:[s.jsx("p",{children:b}),s.jsx("p",{children:i!=null&&i.money?"".concat(Mn(i.money,g[q])):bt(g[q])})]},b)]},b))),s.jsxs(rt,{sx:{marginBottom:"1rem"},children:[s.jsxs(re,{sx:{padding:"1rem 1rem 0 1rem"},children:[s.jsx(Q,{variant:"h5",children:e}),t&&s.jsx("div",{children:t})]}),s.jsx(nt,{children:s.jsx(re,{children:C})}),s.jsx(Ri,{isShowButtons:U,children:n&&n.map(b=>s.jsx(x.Fragment,{children:b.isCanShow&&s.jsx(qn,{value:b.value,name:b.name,variant:b.variant,onClick:ni(()=>{j(b.name)},2e3),children:b.value},b.key)},b.key))}),s.jsx(Bi,{open:y,products:a,currentDialogData:O,type:D,setOpen:k,itemKey:u,orderId:+c})]})}function zi(r){const{detailsData:e}=r,t=ve(),n=ge(it),i=ge(({company:I})=>I.customer.emailAddress),a=ge(({company:I})=>I.customer.role),u=ge(Wn),{state:{addressLabelPermission:c,createdEmail:p}}=x.useContext(Se),{money:m,orderSummary:{createAt:_,name:h,priceData:A}={},payment:{billingAddress:T,paymentMethod:B,dateCreateAt:y}={},orderComments:k="",products:D,orderId:P,ipStatus:O=0,invoiceId:W}=e;if(!P)return null;const{purchasabilityPermission:U,shoppingListActionsPermission:f,getInvoicesPermission:g}=u,j=I=>{if(c)return I;const N=I.indexOf("/");return I.substring(N+1,I.length)},C=I=>{if(!I)return{};const{first_name:N,last_name:M,company:L,street_1:l,state:d,zip:v,country:$,city:Y}=I||{};return{paymentMethod:t("orderDetail.paymentMethod",{paymentMethod:B!=null?B:""}),name:t("orderDetail.customerName",{firstName:N,lastName:M}),company:j(L),street:l,address:t("orderDetail.customerAddress",{city:Y,state:d,zip:v,country:$})}},b=I=>{const N=I.split(/\n/g),M={},L=["-------------------------------------"];return N.forEach((l,d)=>{if(l.trim().length>0){let $=l.trim().includes(":")?l:t("orderDetail.itemComments",{item:l});L.includes(l)&&($=l),M["mes".concat(d)]=$}}),M},q=[{value:t("orderDetail.reorder"),key:"Re-Order",name:"reOrder",variant:"outlined",isCanShow:n?U:!0},{value:t("orderDetail.return"),key:"Return",name:"return",variant:"outlined",isCanShow:!1},{value:t("orderDetail.addToShoppingList"),key:"add-to-shopping-list",name:"shoppingList",variant:"outlined",isCanShow:n?f:!0}],H=+O!=0||p===i,X=[{header:t("orderDetail.summary"),key:"order-summary",subtitle:y&&h?t("orderDetail.purchaseDetails",{name:h,updatedAt:Kt(+y)}):"",buttons:q,infos:{money:m,info:A||{}}},{header:t("orderDetail.payment"),key:"payment",subtitle:_?t("orderDetail.paidInFull",{paidDate:Kt(_,!0)}):"",buttons:[{value:t(n?"orderDetail.viewInvoice":"orderDetail.printInvoice"),key:"aboutInvoice",name:n?"viewInvoice":"printInvoice",variant:"outlined",isCanShow:n?H&&g:H}],infos:{info:C(T)}},{header:t("orderDetail.comments"),key:"order-comments",subtitle:"",buttons:[],infos:{info:b(k)}}];return s.jsx(Ni,{children:X&&X.map(I=>x.createElement(qi,{products:D,orderId:P.toString(),...I,itemKey:I.key,role:a,ipStatus:O,invoiceId:W,key:I.key}))})}function Ui(){const{state:{billings:r=[],addressLabelPermission:e,orderId:t,orderIsDigital:n}}=x.useContext(Se),[i]=xe(),a=p=>{const{billingAddress:m}=p;if(m){const{first_name:_,last_name:h}=m;return"".concat(_," ").concat(h)}return""},u=p=>{const{billingAddress:m}=p;if(m){const{street_1:_,city:h,state:A,zip:T,country:B}=m;return"".concat(_,", ").concat(h,", ").concat(A," ").concat(T,", ").concat(B)}return""},c=p=>{if(e)return p;const m=p.indexOf("/");return p.substring(m+1,p.length)};return n?s.jsx(Ct,{spacing:2,children:r.map(p=>s.jsx(rt,{children:s.jsxs(nt,{children:[s.jsxs(re,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[s.jsxs(Q,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[a(p)," – ",c(p.billingAddress.company||"")]}),s.jsx(Q,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:u(p)})]}),s.jsx(xt,{products:p.products,totalText:"Total",canToProduct:!0,textAlign:i?"left":"right"})]})},"billing-".concat(t)))}):null}const Fi=pe("div")(()=>({"& > .MuiPaper-root":{boxShadow:"none"},"& table":{"& td, & th":{"&:first-of-type":{paddingLeft:0}}}}));function Gi(){const r=ve(),{state:{history:e=[],orderStatus:t=[],customStatus:n}}=x.useContext(Se),[i]=xe(),a=p=>ci(new Date(p*1e3),new Date,{locale:Un}),u=p=>{const m=t.find(h=>h.systemLabel===p);let _=(m==null?void 0:m.customLabel)||n;if(m){const h=pr[m.systemLabel];_=h&&r(h)!==m.systemLabel?r(h):_}return _},c=[{key:"time",title:r("orderDetail.history.dateHeader"),render:p=>a(p.createdAt),width:i?" 100px":"150px"},{key:"code",title:r("orderDetail.history.statusHeader"),render:p=>s.jsx(lr,{code:p.status,text:u(p.status)})}];return e.length>0?s.jsx(rt,{children:s.jsxs(nt,{sx:{paddingBottom:"50px"},children:[s.jsx(Q,{variant:"h5",children:r("orderDetail.history.title")}),s.jsx(Fi,{children:s.jsx(zn,{columnItems:c,listItems:e,showPagination:!1})})]})}):null}var vr={};const Ki="Amazon",Zi="amazon",Vi=[{name:"Amazon Logistics",id:"amazon_logistics",regex:["\\s*T\\s*B\\s*A\\s*(?<SerialNumber>([0-9]\\s*){12,12})\\s*"],validation:{},test_numbers:{valid:["TBA000000000000","TBA010000000000","TBA 000000000000","TBA502887274000"],invalid:["TBA50288727400A","000000000000000","000000000000","TBB000000000000"]}},{name:"Amazon International",id:"amazon_international",regex:["\\s*[AFC]\\s*(?<SerialNumber>([0-9]\\s*){10,10})\\s*"],validation:{},test_numbers:{valid:["C1004444443","C1004444444"],invalid:["D1234567890"]}}],Hi={name:Ki,courier_code:Zi,tracking_numbers:Vi},Xi="DHL",Ji="dhl",Qi=[{name:"DHL Express",id:"dhl_express",regex:"\\s*(?<SerialNumber>([0-9]\\s*){9,10})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod7"}},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["3318810025","73891051146","8487135506","1099255990","3821724944","3318810036","3318810014"],invalid:["3318810010","3318810034","3318810011"]}},{name:"DHL Express (Piece ID)",id:"dhl_express_piece_id",regex:"\\s*(J[A-Z]{2,3})(?<SerialNumber>([0-9]\\s*){9,10})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["JJD0099999999","JVGL0999999990"],invalid:["XJD0099999998"]}},{name:"DHL E-Commerce",id:"dhl_ecommerce",regex:"\\s*((GM)|(LX)|(RX)|(UV)|(CN)|(SG)|(TH)|(IN)|(HK)|(MY))\\s*(?<SerialNumber>([0-9]\\s*){10,39})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["GM2951173225174494","GM 2 9 5 117 32 25 1 7 44 9 4","GM295117494011169042"],invalid:["GS295117494011169041","GR295117494011169045"]}}],Yi={name:Xi,courier_code:Ji,tracking_numbers:Qi},ea="FedEx",ta="fedex",ra=[{name:"FedEx Express (12)",id:"fedex_12",regex:"\\s*(?<SerialNumber>([0-9]\\s*){11})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["986578788855","477179081230","799531274483","790535312317"," 7 9 0 5 3 5 3 1 2 3 1 7 ","974367662710"],invalid:["996578788855"]}},{name:"FedEx Express (34)",id:"fedex_34",regex:["\\s*1\\s*0\\s*[0-9]\\s*[0-9]\\s*[0-9]\\s*","([0-9]\\s*){10}","(?<DestinationZip>([0-9]\\s*){5})","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["1001921334250001000300779017972697","1001921380360001000300639585804382","1001901781990001000300617767839437"," 1 0 0 1 9 0 1 7 8 1 9 9 0 0 0 1 0 0 0 3 0 0 6 1 7 7 6 7 8 3 9 4 3 7 ","1002297871540001000300790695517286","1027590111820004833500785458233610"],invalid:["1001901781990001000300617767839438"]}},{name:"FedEx SmartPost",id:"fedex_smartpost",description:"Shipped by FedEx, Delivered by USPS",regex:["\\s*(?:","(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<ApplicationIdentifier>9\\s*2\\s*)",")?","(?<SerialNumber>","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>2\\s*9\\s*)","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>([0-9]\\s*))"],additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches_regex:".",name:"Delivered by USPS"}]}],partners:[{partner_id:"usps_91",partner_type:"carrier",description:"FedEx SmartPost is a shipping service that utilizes FedEx for the initial transport and the United States Postal Service for final delivery."}],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!92).+",content:"92"}}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["61299998820821171811","9261292700768711948021","420 11213 92 6129098349792366623 8","92 6129098349792366623 8","6129098349792366623 8"],invalid:["9261292700768711948020","92001903060085300042901077","420 11213 61290983497923666231","92 6129098349792366623 5","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95"]}},{name:"FedEx Ground",id:"fedex_ground",regex:"\\s*(?<SerialNumber>([0-9]\\s*){14})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["0414 4176 0228 964","5682 8361 0012 000"," 5 6 8 2   8 3 6 1   0 0 1 2   0 0 0 ","5682 8361 0012 734"],invalid:["5682 8361 0012 732"]}},{name:"FedEx Ground (SSCC-18)",id:"fedex_ground_sscc_18",regex:"\\s*(?<ShippingContainerType>([0-9]\\s*){2})(?<SerialNumber>([0-9]\\s*){15})(?<CheckDigit>[0-9]\\s*)",tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["00 0123 4500 0000 0027"," 0 0   0 1 2 3   4 5 0 0   0 0 0 0   0 0 2 7 "],invalid:["000000000000000001"]},additional:[{name:"Container Type",regex_group_name:"ShippingContainerType",lookup:[{matches:"00",name:"case/carton"},{matches:"01",name:"pallet"},{matches:"02",name:"larger than a pallet"},{matches:"04",name:"internally defined for intra-company use"}]}]},{name:"FedEx Ground 96 (22)",id:"fedex_ground_96",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){3})","(?<SerialNumber>(?<ShipperId>([0-9]\\s*){7})(?<PackageId>([0-9]\\s*){7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9611020987654312345672"," 9 6 1 1 0 2 0 9 8 7 6 5 4 3 1 2 3 4 5 6 7 2 "],invalid:["9600000000000000000001"]}},{name:"FedEx Ground GSN",id:"fedex_ground_gsn",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","([0-9]\\s*){5}","(?<GSN>([0-9]\\s*){10})","[0-9]\\s*","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9622001900000000000000776632517510","9622001560000000000000794808390594","9622001560001234567100794808390594"," 9 6 2 2 0 0 1 5 6 0 0 0 1 2 3 4 5 6 7 1 0 0 7 9 4 8 0 8 3 9 0 5 9 4 ","9632001560123456789900794808390594"],invalid:["9622001560001234567100794808390595","9622001560001234567100794808390597"]}}],na={name:ea,courier_code:ta,tracking_numbers:ra},ia="OnTrac",aa="ontrac",ua=[{name:"OnTrac",id:"ontrac_c",regex:"\\s*C\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!4).+$",content:"4"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["C11031500001879","C 110 31 500 00187 9","C10999911320231","C11121552953069","C11121553156000","C11121552829468"],invalid:["C10000000000000","C11031500001889"]}},{name:"OnTrac D",id:"ontrac_d",regex:"\\s*D\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!5).+$",content:"5"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["D10011354453707","D10011345983010","D 100 113 459 830 10","D10011342332145"],invalid:["D10011345983012","D10011342332144"]}}],oa={name:ia,courier_code:aa,tracking_numbers:ua},sa="S10 International Standard",ca="s10",la=[{id:"s10",name:"S10",validation:{checksum:{name:"s10"},additional:{exists:["Courier"]}},regex:"\\s*(?<ServiceType>([A-Z]\\s*){2})(?<SerialNumber>([0-9]\\s*){8})(?<CheckDigit>([0-9]\\s*))(?<CountryCode>([A-Z]\\s*){2})",tracking_url:null,test_numbers:{valid:["RB123456785GB","RB123456785US","RB123456785CV","RB123456785CF"],invalid:["RB123456786US","RB123456785XX"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{name:"EMS",matches_regex:"E[A-Z]",description:"International Express Mail Service"},{name:"Letter Post Express",matches_regex:"L[A-Z]",description:""},{name:"Letter Post M-bag",matches_regex:"M[A-Z]",description:"Direct sacks of printed matter sent to a single foreign addressee at a single address"},{name:"Letter Post IBRS",matches_regex:"Q[A-M]",description:"International Business Reply Service"},{name:"Letter Post Registered",matches_regex:"R[A-Z]",description:"Prepaid first-class mail that is recorded by the post office before being sent and at each point along its route to safeguard against loss, theft, or damage."},{name:"Letter Post Misc",matches_regex:"U[A-Z]",description:""},{name:"Letter Post Insured",matches_regex:"V[A-Z]",description:""},{name:"Parcel Post",matches_regex:"C[A-Z]",description:""},{name:"Parcel Post (e-commerce)",matches_regex:"H[A-Z]",description:""},{name:"Domestic",matches_regex:"([BDNPZ][A-Z]|A[V-Z]|G[AD])",description:"Mail designated for domestic, bilateral, or multilateral use"}]},{name:"Courier",regex_group_name:"CountryCode",lookup:[{matches:"AF",country:"Afghanistan",courier:"Afghan Post",courier_url:"http://postalcode.afghanpost.gov.af/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/afghanistan.html"},{matches:"AL",country:"Albania",courier:"Posta Shqiptare",courier_url:"http://www.postashqiptare.al/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/albania.html"},{matches:"DZ",country:"Algeria",courier:"Algérie Poste",courier_url:"http://www.poste.dz/codepostal/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/algeria.html"},{matches:"AO",country:"Angola",courier:"Correios de Angola",courier_url:"http://www.correiosdeangola.co.ao/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/angola.html"},{country:"Antigua and Barbuda",matches:"AG",courier:"Antigua Postal Services",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/antigua-and-barbuda.html"},{matches:"AR",country:"Argentina",courier:"Correo Argentino",courier_url:"http://www.correoargentino.com.ar/formularios/cpa",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/argentina.html"},{matches:"AM",country:"Armenia",courier:"Haypost - Armenian Postal Service",courier_url:"http://www.haypost.am/view-lang-eng-page-25.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/armenia.html"},{matches:"AU",country:"Australia",courier:"Australia Post",courier_url:"http://www1.auspost.com.au/postcodes/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/australia.html"},{matches:"AT",country:"Austria",courier:"Österreichische Post AG",courier_url:"http://www.post.at/en/index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/austria.html"},{matches:"AZ",country:"Azerbaijan",courier:"Azarpoçt",courier_url:"http://www.azerpost.az/?options=content&id=188&language=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/azerbaijan.html"},{matches:"BS",country:"Bahamas",courier:"Bahamas Postal Service",courier_url:"http://www.bahamas.gov.bs/postalservice",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/bahamas.html"},{matches:"BH",country:"Bahrain",courier:"Bahrain Post",courier_url:"http://www.transportation.gov.bh/en/modules.php?name=Content&pa=showpage&pid=97",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bahrain.html"},{matches:"BD",country:"Bangladesh",courier:"Bangladesh Post Office",courier_url:"http://www.bangladeshpost.gov.bd/PostCode.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bangladesh.html"},{matches:"BB",country:"Barbados",courier:"Barbados Postal Service",courier_url:"http://www.bps.gov.bb/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/barbados.html"},{matches:"BY",country:"Belarus",courier:"Belpochta",courier_url:"http://zip.belpost.by/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/belarus.html"},{matches:"BE",country:"Belgium",courier:"bpost",courier_url:"http://www.bpost.be/site/fr/residential/customerservice/search/postal_codes.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/belgium.html"},{matches:"BZ",country:"Belize",courier:"Belize Postal Service",courier_url:"http://www.belizepostalservice.gov.bz/site/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/belize.html"},{matches:"BJ",country:"Benin",courier:"La Poste du Bénin",courier_url:"http://www.laposte.bj/index1.php?id_page=1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/benin.html"},{matches:"BT",country:"Bhutan",courier:"Bhutan Post",courier_url:"http://www.bhutanpost.com.bt/postcode/postcode.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bhutan.html"},{matches:"BO",country:"Bolivia",courier:"ECOBOL – Empresa de Correos de Bolivia",courier_url:"http://www.correosbolivia.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/bolivia.html"},{matches:"BA",country:"Bosnia and Herzegovina",courier:"JP BH POŠTA d.o.o. Sarajevo",courier_url:"http://www.post.ba/postanski_brojevi_bih.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bosnia-and-herzegovina.html"},{matches:"BW",country:"Botswana",courier:"BotswanaPost",courier_url:"http://www.botspost.co.bw/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/botswana.html"},{matches:"BR",country:"Brazil",courier:"CORREIOS",courier_url:"http://www.buscacep.correios.com.br/servicos/dnec/index.do",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/brazil.html"},{matches:"BN",country:"Brunei Darussalam",courier:"Brunei Postal Services",courier_url:"http://www.post.gov.bn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/brunei-darussalam.html"},{matches:"BG",country:"Bulgaria (Rep.)",courier:"Bulgarian Posts",courier_url:"http://www.bgpost.bg/?cid=131",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bulgaria-rep.html"},{matches:"BF",country:"Burkina Faso",courier:"SONAPOST",courier_url:"http://www.sonapost.bf/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/burkina-faso.html"},{matches:"BI",country:"Burundi",courier:"RNP – Régie nationale des postes",courier_url:"http://www.poste.bi/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/burundi.html"},{matches:"KH",country:"Cambodia",courier:"Ministry of Posts and Telecommunications",courier_url:"http://www.mptc.gov.kh/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/cambodia.html"},{matches:"CM",country:"Cameroon",courier:"CAMPOST – Cameroon Postal Services",courier_url:"http://campostonline.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cameroon.html"},{matches:"CA",country:"Canada",courier:"Canada Post",courier_url:"http://www.canadapost.ca/cpotools/apps/fpc/personal/findByCity?execution=e1s1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/canada.html"},{country:"Cape Verde",matches:"CV",courier:"Correios de Cabo Verde",courier_url:"http://www.correios.cv/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cape-verde.html"},{country:"Central African Rep.",matches:"CF",courier:"Direction des services postaux de l'Office National des Postes et de l'Épargne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/central-african-rep.html"},{matches:"TD",country:"Chad",courier:"Société tchadienne des postes et de l'épargne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/chad.html"},{matches:"CL",country:"Chile",courier:"Correos de Chile",courier_url:"http://www.correos.cl/SitePages/home.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/chile.html"},{matches:"CN",country:"China (People's Rep.)",courier:"China Post",courier_url:"http://www.cpdc.com.cn/web/index.php?m=postsearch&c=index&a=init&t=addr",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/china-peoples-rep.html"},{matches:"HK",country:"China",courier:"Hong Kong Post",courier_url:"http://www.hongkongpost.hk",upu_reference_url:""},{matches:"CO",country:"Colombia",courier:"4-72 La Red Postal de Colombia",courier_url:"http://visor.codigopostal.gov.co/472/visor/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/colombia.html"},{matches:"KM",country:"Comoros",courier:"Societé Nationale des Postes et des Services Financiers",courier_url:"http://www.lapostecomores.com/bureaux.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/comoros.html"},{matches:"CG",country:"Congo (Rep.)",courier:"Congolese Posts and Savings Company",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/congo-rep.html"},{country:"Costa Rica",matches:"CR",courier:"Correos de Costa Rica",courier_url:"https://www.correos.go.cr/nosotros/codigopostal/busqueda.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/costa-rica.html"},{matches:"HR",country:"Croatia",courier:"Hrvatska Posta - Croatian Post",courier_url:"http://www.posta.hr/default.aspx?pretpum&id=3417",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/croatia.html"},{matches:"CU",country:"Cuba",courier:"Ministerio de la Informática y las comunicaciones de Cuba",courier_url:"http://www.mic.gov.cu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/cuba.html"},{matches:"CY",country:"Cyprus",courier:"Cyprus Post",courier_url:"http://www.mcw.gov.cy/mcw/dps/dps.nsf/index_en/index_en?OpenDocument",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/cyprus.html"},{matches:"CZ",country:"Czech Rep.",courier:"Česká Pošta",courier_url:"http://psc.cpost.cz/CleanForm.action?request_locale=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/czech-rep.html"},{matches:"CI",country:"Côte d'Ivoire (Rep.)",courier:"La Poste de Côte d’Ivoire",courier_url:"http://www.laposte.ci/bureau.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cote-divoire-rep.html"},{matches:"KP",country:"Dem People's Rep. of Korea",courier:"Korea Post and Telecommunications Corporation",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/dem-peoples-rep-of-korea.html"},{matches:"CD",country:"Democratic Republic of the Congo",courier:"Congolese Posts and Telecommunications Corporation",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/democratic-republic-of-the-congo.html"},{matches:"DK",country:"Denmark",courier:"Post Danmark",courier_url:"http://www.postdanmark.dk/en/find_postcode/Pages/home.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/denmark.html"},{matches:"DJ",country:"Djibouti",courier:"La Poste de Djibouti",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/djibouti.html"},{matches:"DM",country:"Dominica",courier:"General Post Office",courier_url:"http://publicworks.gov.dm/index.php/divisions/general-post-office/20-gpo-about-us",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/dominica.html"},{matches:"DO",country:"Dominican Republic",courier:"INPOSDOM – Instituto Postal Dominicano",courier_url:"http://www.inposdom.gob.do/servicios/codigo-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/dominican-republic.html"},{matches:"EC",country:"Ecuador",courier:"Correos del Ecuador",courier_url:"http://www.codigopostal.gob.ec/#",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/ecuador.html"},{matches:"EG",country:"Egypt",courier:"Egypt Post",courier_url:"http://www.egyptpost.org/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/egypt.html"},{matches:"SV",country:"El Salvador",courier:"Correos de El Salvador",courier_url:"http://www.correos.gob.sv/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/el-salvador.html"},{matches:"GQ",country:"Equatorial Guinea",courier:"Equatorial Guinea Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/equatorial-guinea.html"},{matches:"ER",country:"Eritrea",courier:"Eritrean Postal Service",courier_url:"http://www.eriposta.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/eritrea.html"},{matches:"EE",country:"Estonia",courier:"Eesti Post",courier_url:"http://www.post.ee/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/estonia.html"},{matches:"ET",country:"Ethiopia",courier:"Ethiopian postal service",courier_url:"http://www.ethiopostal.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/ethiopia.html"},{matches:"FJ",country:"Fiji",courier:"Post Fiji",courier_url:"http://www.postfiji.com.fj/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/fiji.html"},{matches:"FI",country:"Finland (including the Åland Islands)",courier:"Posti Ltd",courier_url:"http://www.verkkoposti.com/e3/english/postalcodecatalog",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/finland-including-the-aaland-islands.html"},{matches:"FR",country:"France",courier:"La Poste",courier_url:"http://www.laposte.fr/Entreprise/Outils-Indispensables/Outils/Trouvez-un-code-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/france.html"},{matches:"GA",country:"Gabon",courier:"La Poste SA",courier_url:"http://www.laposte.ga/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/gabon.html"},{matches:"GM",country:"Gambia",courier:"Gambia Postal services Corporation",courier_url:"http://www.gampost.gm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/gambia.html"},{matches:"GE",country:"Georgia",courier:"Georgian Post",courier_url:"http://www.georgianpost.ge/?site-lang=en&site-path=help/zipcodes/&letter=A",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/georgia.html"},{matches:"DE",country:"Germany",courier:"Deutsche Post",courier_url:"http://www.postdirekt.de/plzserver/PlzSearchServlet?lang=en_GB&id=viewstreet",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/germany.html"},{matches:"GH",country:"Ghana",courier:"Ghana Post",courier_url:"http://www.ghanapostgh.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/ghana.html"},{country:"Great Britain",matches:"GB",courier:"Royal Mail Group plc",courier_url:"http://www.royalmail.com/postcode-finder?gear=postcode&campaignid=postcodefinder_redirect",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/great-britain.html"},{matches:"GR",country:"Greece",courier:"Hellenic Post ELTA",courier_url:"http://www.elta.gr/en-us/findapostcode.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/greece.html"},{matches:"GD",country:"Grenada",courier:"Grenada Postal Corporation",courier_url:"http://www.grenadapostal.com/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/grenada.html"},{matches:"GT",country:"Guatemala",courier:"El Correo",courier_url:"http://www.elcorreo.com.gt/cdgcorreo/index.php?option=com_content&view=article&id=104&Itemid=233",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/guatemala.html"},{matches:"GN",country:"Guinea",courier:"Office de la poste guinéenne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/guinea.html"},{country:"Guinea-Bissau",matches:"GW",courier:"Correios da Guiné-Bissau",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/guinea-bissau.html"},{matches:"GY",country:"Guyana",courier:"Guyana Post Office Corporation",courier_url:"http://guypost.gy/gpoc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/guyana.html"},{matches:"HT",country:"Haiti",courier:"Office des Postes d’Haiti",courier_url:"http://postehaiti.gouv.ht/notre-reseau-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/haiti.html"},{matches:"HN",country:"Honduras (Rep.)",courier:"Honducor",courier_url:"http://honducor.gob.hn/codpost/consulta.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/honduras-rep.html"},{matches:"HU",country:"Hungary",courier:"Magyar Posta",courier_url:"http://www.posta.hu/ugyfelszolgalat/iranyitoszam_kereso",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/hungary.html"},{matches:"IS",country:"Iceland",courier:"Íslandspóstur hf",courier_url:"http://www.postur.is/en/desktopdefault.aspx/tabid-450/700_read-1715/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/iceland.html"},{matches:"IN",country:"India",courier:"India Post",courier_url:"http://www.indiapost.gov.in/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/india.html"},{matches:"ID",country:"Indonesia",courier:"Pos Indonesia",courier_url:"http://kodepos.indonesiaweb.info/en/street/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/indonesia.html"},{matches:"IR",country:"Iran (Islamic Rep.)",courier:"Islamic Republic of Iran Post Co.",courier_url:"http://www.post.ir/Homepage.aspx?site=PostPortal&lang=fa-IR&tabid=0",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iran-islamic-rep.html"},{matches:"IQ",country:"Iraq",courier:"Iraqi Post",courier_url:"http://www.iraqipost.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iraq.html"},{matches:"IE",country:"Ireland",courier:"AN Post - regulatory and International affairs Unit",courier_url:"http://locator.anpost.ie/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/ireland.html"},{matches:"IL",country:"Israel",courier:"Israel Post",courier_url:"http://www.israelpost.co.il/zipcode.nsf/demozip?openform",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/israel.html"},{matches:"IT",country:"Italy",courier:"Poste Italiane",courier_url:"http://www.poste.it/online/cercacap/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/italy.html"},{matches:"JM",country:"Jamaica",courier:"Jamaica Post",courier_url:"http://www.jamaicapost.gov.jm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/jamaica.html"},{matches:"JP",country:"Japan",courier:"Japan Post",courier_url:"http://www.post.japanpost.jp/zipcode/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/japan.html"},{matches:"JO",country:"Jordan",courier:"Jordan Post",courier_url:"http://www.jordanpost.com.jo/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/jordan.html"},{matches:"KZ",country:"Kazakhstan",courier:"Kazpost",courier_url:"http://www.kazpost.kz/ru/poisk-pochtovogo-indeksa-0",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kazakhstan.html"},{matches:"KE",country:"Kenya",courier:"Posta Kenya",courier_url:"http://www.posta.co.ke/postOfficeFind.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/kenya.html"},{matches:"KI",country:"Kiribati",courier:"Kiribati Public Service Public",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kiribati.html"},{matches:"KR",country:"Korea (Rep.)",courier:"Korea Post",courier_url:"http://www.epost.go.kr/roadAreaCdEng.retrieveRdEngAreaCdList.comm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/korea-rep.html"},{matches:"KW",country:"Kuwait",courier:"Kuwait Ministry of Communications",courier_url:"http://moc.kw/English/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kuwait.html"},{matches:"KG",country:"Kyrgyzstan",courier:"Kyrgyz Post",courier_url:"http://kyrgyzpost.kg/ru/news.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kyrgyzstan.html"},{matches:"LA",country:"Laos",courier:"Entreprise des Postes Lao",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lao-peoples-dem-rep.html"},{matches:"LV",country:"Latvia",courier:"Latvia Post",courier_url:"http://www.pasts.lv/lv/uzzinas/parbaudit-adresi/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/latvia.html"},{matches:"LB",country:"Lebanon",courier:"LibanPost",courier_url:"http://www.libanpost.com.lb/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lebanon.html"},{matches:"LS",country:"Lesotho",courier:"Lesotho Post",courier_url:"http://lesothopost.org.ls/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/lesotho.html"},{matches:"LR",country:"Liberia",courier:"Ministry of Posts and Telecommunications",courier_url:"http://www.mopt.gov.lr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/liberia.html"},{matches:"LY",country:"Libya",courier:"Libya Post",courier_url:"http://libyapost.ly/en/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/libya.html"},{matches:"LI",country:"Liechtenstein",courier:"Liechtensteinische Post AG",courier_url:"http://www.post.li/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/liechtenstein.html"},{matches:"LT",country:"Lithuania",courier:"Lietuvos Pastas",courier_url:"http://www.post.lt/en/help/postal-code-search",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/lithuania.html"},{matches:"LU",country:"Luxembourg",courier:"Post",courier_url:"http://www.post.lu/en/particuliers/courrier/rechercher-un-code-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/luxembourg.html"},{matches:"MG",country:"Madagascar",courier:"PAOSITRA MALAGASY",courier_url:"http://www.mtpc.gov.mg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/madagascar.html"},{matches:"MW",country:"Malawi",courier:"Malawi Posts Corporation",courier_url:"http://www.malawiposts.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/malawi.html"},{matches:"MY",country:"Malaysia",courier:"Pos Malaysia",courier_url:"http://www.pos.com.my/pos/homepage.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/malaysia.html"},{matches:"MV",country:"Maldives",courier:"Maldives Post",courier_url:"http://www.maldivespost.com/index.php?lid=10",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/maldives.html"},{matches:"ML",country:"Mali",courier:"Office national des postes",courier_url:"http://www.laposte.ml/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mali.html"},{matches:"MT",country:"Malta",courier:"Malta Post",courier_url:"http://postcodes.maltapost.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/malta.html"},{matches:"MR",country:"Mauritania",courier:"MAURIPOST – Société Mauritanienne des Postes",courier_url:"http://www.mauripost.mr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mauritania.html"},{matches:"MU",country:"Mauritius",courier:"Mauritius Post",courier_url:"http://www.mauritiuspost.mu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mauritius.html"},{matches:"MX",country:"Mexico",courier:"Correos de México",courier_url:"http://www.correosdemexico.gob.mx/ServiciosLinea/Paginas/ccpostales.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/mexico.html"},{matches:"MD",country:"Moldova",courier:"Posta Moldovei",courier_url:"http://www.posta.md/ro/postal_code.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/moldova.html"},{matches:"MC",country:"Monaco",courier:"La Poste Monaco",courier_url:"http://www.lapostemonaco.mc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/monaco.html"},{matches:"MN",country:"Mongolia",courier:"Mongol Post - Монгол шуудан компани",courier_url:"http://www.zipcode.mn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/mongolia.html"},{country:"Montenegro (Rep.)",matches:"ME",courier:"Pošta Crne Gore",courier_url:"http://www.postacg.me/main.php?idstr=177",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/montenegro-rep.html"},{matches:"MA",country:"Morocco",courier:"Barid Al-Maghrib – Poste Maroc",courier_url:"http://www.codepostal.ma/search_mot.aspx?keyword=",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/morocco.html"},{matches:"MZ",country:"Mozambique",courier:"Correios de Moçambique",courier_url:"http://www.correios.co.mz/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mozambique.html"},{matches:"MM",country:"Myanmar",courier:"Myanmar Post and Telecommunications Department",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/myanmar.html"},{matches:"NA",country:"Namibia",courier:"NAM Post",courier_url:"https://www.nampost.com.na/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/namibia.html"},{matches:"NR",country:"Nauru",courier:"Nauru General Post Office",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nauru.html"},{matches:"NP",country:"Nepal",courier:"Nepal Postal Services",courier_url:"http://www.gpo.gov.np/postalcode.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nepal.html"},{matches:"NL",country:"Netherlands",courier:"PostNL",courier_url:"http://www.postnl.nl/voorthuis/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/netherlands.html"},{matches:"NZ",country:"New Zealand (including the Ross Dependency)",courier:"New Zealand Post",courier_url:"http://www.nzpost.co.nz/Cultures/en-NZ/OnlineTools/PostCodeFinder/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/new-zealand-including-the-ross-dependency.html"},{matches:"NI",country:"Nicaragua",courier:"Correos de Nicaragua",courier_url:"http://www.correos.gob.ni/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/nicaragua.html"},{matches:"NE",country:"Niger",courier:"Niger Poste",courier_url:"http://www.nigerposte.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/niger.html"},{matches:"NG",country:"Nigeria",courier:"Nigerian Postal Service",courier_url:"http://www.nigeriapostcodes.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/nigeria.html"},{matches:"NO",country:"Norway",courier:"Posten",courier_url:"http://adressesok.posten.no/en/postal_codes/search",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/norway.html"},{matches:"OM",country:"Oman",courier:"Oman Post",courier_url:"http://www.omanpost.om/Portals/2/Skins/skins//tabid/64/Default.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/oman.html"},{matches:"PK",country:"Pakistan",courier:"Pakistan Post",courier_url:"http://www.pakpost.gov.pk/postcode/postcode.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/pakistan.html"},{matches:"PA",country:"Panama (Rep.)",courier:"Correos de Panamá",courier_url:"http://www.correospanama.gob.pa/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/panama-rep.html"},{matches:"PG",country:"Papua New Guinea",courier:"Post PNG",courier_url:"http://www.postpng.com.pg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/papua-new-guinea.html"},{matches:"PY",country:"Paraguay",courier:"Correo Paraguayo",courier_url:"http://www.correoparaguayo.gov.py/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/paraguay.html"},{matches:"PE",country:"Peru",courier:"SERPOST – Servicios Postales del Perú",courier_url:"http://www.mtc.gob.pe/portal/CPOSTAL/Listado_codigo_postal.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/peru.html"},{matches:"PH",country:"Philippines",courier:"PHLPOST – Philippine Postal Corporation",courier_url:"https://www.phlpost.gov.ph/zip-code-search.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/philippines.html"},{matches:"PL",country:"Poland",courier:"Poczta Polska",courier_url:"http://kody.poczta-polska.pl/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/poland.html"},{matches:"PT",country:"Portugal",courier:"CTT - Correios",courier_url:"http://www.ctt.pt/feapl_2/app/open/tools.jspx?tool=1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/portugal.html"},{matches:"QA",country:"Qatar",courier:"Qatar Post",courier_url:"http://www.qpost.com.qa/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/qatar.html"},{matches:"RO",country:"Romania",courier:"Posta Romana",courier_url:"http://www.posta-romana.ro/postal_codes",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/romania.html"},{matches:"RU",country:"Russian Federation",courier:"Russian Post",courier_url:"http://www.russianpost.ru/rp/servise/ru/home/postuslug/searchops",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/russian-federation.html"},{matches:"RW",country:"Rwanda",courier:"National Post Office (Iposita)",courier_url:"http://i-posita.rw/spip.php?article1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/rwanda.html"},{matches:"KN",country:"Saint Christopher (Saint Kitts) and Nevis",courier:"St. Kitts & Nevis Postal Services",courier_url:"http://www.post.gov.kn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-christopher-saint-kitts-and-nevis.html"},{matches:"LC",country:"Saint Lucia",courier:"Saint Lucia Postal Service",courier_url:"http://www.stluciapostal.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-lucia.html"},{matches:"VC",country:"Saint Vincent and the Grenadines",courier:"SVG Postal Corporation",courier_url:"http://www.svgpost.gov.vc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-vincent-and-the-grenadines.html"},{matches:"WS",country:"Samoa",courier:"Samoa Post",courier_url:"http://www.samoapost.ws/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/samoa.html"},{matches:"SM",country:"San Marino",courier:"Poste San Marino",courier_url:"http://www.poste.sm/on-line/home.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/san-marino.html"},{matches:"ST",country:"Sao Tome and Principe",courier:"Correios de São Tomé e Príncipe",courier_url:"http://www.inh.st/correios.st.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sao-tome-and-principe.html"},{matches:"SA",country:"Saudi Arabia",courier:"Saudi Post",courier_url:"http://maps.address.gov.sa",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/saudi-arabia.html"},{matches:"SN",country:"Senegal",courier:"La Poste Senegal",courier_url:"http://www.laposte.sn/laposte/trouver_codepostal.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/senegal.html"},{matches:"RS",country:"Serbia (Rep.)",courier:'PTT Communications "Srbija"',courier_url:"http://www.posta.rs/struktura/eng/aplikacije/pronadji/nadji-pak-rezultat.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/serbia-rep.html"},{matches:"SC",country:"Seychelles",courier:"Seychelles Postal Service",courier_url:"http://www.seychellespost.gov.sc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/seychelles.html"},{matches:"SL",country:"Sierra Leone",courier:"Sierra Leone Postal Services",courier_url:"http://www.salpost.sl/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sierra-leone.html"},{matches:"SG",country:"Singapore",courier:"SingPost",courier_url:"http://www.singpost.com.sg/quick_services/index.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/singapore.html"},{matches:"SK",country:"Slovakia",courier:"Slovenská Posta",courier_url:"http://psc.posta.sk/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/slovakia.html"},{matches:"SI",country:"Slovenia",courier:"Posta Slovenije d.o.o.",courier_url:"http://www.posta.si/postne-stevilke-doma",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/slovenia.html"},{matches:"SB",country:"Solomon Islands",courier:"Solomon Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/solomon-islands.html"},{matches:"SO",country:"Somalia",courier:"Somali Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/somalia.html"},{matches:"ZA",country:"South Africa",courier:"South African Post Office",courier_url:"http://www.postoffice.co.za/ContactUs/postalcode.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/south-africa.html"},{matches:"SS",country:"South Sudan (Rep.)",courier:"Minister of Telecommunication and Postal Services",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/south-sudan-rep.html"},{matches:"ES",country:"Spain",courier:"Correos y Telégrafos",courier_url:"http://www.correos.es/ss/Satellite/site/pagina-buscador_codigos_postales/sidioma=es_ES",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/spain.html"},{matches:"LK",country:"Sri Lanka",courier:"Sri Lanka Post",courier_url:"http://www.slpost.gov.lk/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/sri-lanka.html"},{matches:"SD",country:"Sudan",courier:"Sudapost",courier_url:"http://sudapost.sd/index.php/en/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sudan.html"},{matches:"SR",country:"Suriname",courier:"SURPOST",courier_url:"http://www.surpost.com/surpost2/index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/suriname.html"},{matches:"SZ",country:"Swaziland",courier:"Swaziland Posts & Telecommunications Corporation",courier_url:"http://www.sptc.co.sz/swazipost/codes.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/swaziland.html"},{matches:"SE",country:"Sweden",courier:"Posten Sweden Post",courier_url:"http://www.posten.se/oldurls/old_postnummersok.jspv",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/sweden.html"},{matches:"CH",country:"Switzerland",courier:"La Poste Suisse",courier_url:"http://www.swisspost.ch/post-startseite.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/switzerland.html"},{matches:"SY",country:"Syrian Arab Rep.",courier:"Syrian Post",courier_url:"http://www.syrianpost.gov.sy/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/syrian-arab-rep.html"},{matches:"TJ",country:"Tajikistan",courier:"Tajikistan’s communications service agency",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/tajikistan.html"},{matches:"TZ",country:"Tanzania (United Rep.)",courier:"Tanzania Posts Corporation",courier_url:"http://www.posta.co.tz/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/tanzania-united-rep.html"},{matches:"TH",country:"Thailand",courier:"Thailand Post",courier_url:"http://www.thailandpost.com/search.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/thailand.html"},{matches:"MK",country:"The former Yugoslav Republic of Macedonia",courier:"Macedonian Post & Telecommunications",courier_url:"http://www.posta.mk/pravilno_adresiranje.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/the-former-yugoslav-republic-of-macedonia.html"},{matches:"TL",country:"Timor-Leste (Dem. Rep.)",courier:"Correios de Timor Leste",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/timor-leste-dem-rep.html"},{matches:"TG",country:"Togo",courier:"La Poste du Togo",courier_url:"http://www.laposte.tg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/togo.html"},{matches:"TO",country:"Tonga (including Niuafo'ou)",courier:"Tonga Post",courier_url:"http://tongapost.to/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tonga-including-niuafoou.html"},{matches:"TT",country:"Trinidad and Tobago",courier:"Trinidad and Tobago Postal Corporation",courier_url:"http://www.ttpost.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/trinidad-and-tobago.html"},{matches:"TN",country:"Tunisia",courier:"La Poste Tunisienne",courier_url:"http://www.poste.tn/codes.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/tunisia.html"},{matches:"TR",country:"Turkey",courier:"Turkey Post",courier_url:"http://postakodu.ptt.gov.tr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/turkey.html"},{matches:"TM",country:"Turkmenistan",courier:"Turkmenpost",courier_url:"http://www.turkmenpost.gov.tm/about_index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/turkmenistan.html"},{matches:"TV",country:"Tuvalu",courier:"Tuvalu Philatelic Bureau",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tuvalu.html"},{matches:"UG",country:"Uganda",courier:"Posta Uganda",courier_url:"http://www.ugapost.co.ug/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/uganda.html"},{matches:"UA",country:"Ukraine",courier:"Ukrposhta",courier_url:"http://services.ukrposhta.com/postindex_new/default.aspx?lang=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/ukraine.html"},{matches:"AE",country:"United Arab Emirates",courier:"Emirates Post",courier_url:"http://www.emiratespost.com/content/english/index.jsp;jsessionid=35fbe352a6c441a491929d81d54fa0c6",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/united-arab-emirates.html"},{matches:"US",country:"United States of America",courier:"United States Postal Service",courier_url:"http://zip4.usps.com/zip4/welcome.jsp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/united-states-of-america.html"},{matches:"UY",country:"Uruguay",courier:"Correo Uruguayo",courier_url:"http://www.correo.com.uy/index.asp?codPag=codPost&switchMapa=codPost",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/uruguay.html"},{matches:"UZ",country:"Uzbekistan",courier:"Post of Uzbekistan",courier_url:"http://www.pochta.uz/index.php/en/postal-indexes/9",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/uzbekistan.html"},{matches:"VU",country:"Vanuatu",courier:"Vanuatu Post",courier_url:"http://www.vanuatupost.vu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/vanuatu.html"},{matches:"VA",country:"Vatican",courier:"Vatican post",courier_url:"http://www.vaticanstate.va/EN/Services/Philatelic_and_Numismatic_Office/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/vatican.html"},{matches:"VE",country:"Venezuela",courier:"IPOSTEL – Instituto Postal Telegráfico de Venezuela",courier_url:"http://www.ipostel.gob.ve/nlinea/codigo_postal.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/venezuela.html"},{matches:"VN",country:"Viet Nam",courier:"VNPT – Vietnam Posts and Telecommunications Group",courier_url:"http://postcode.vnpost.vn/services/search.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/viet-nam.html"},{matches:"YE",country:"Yemen",courier:"Yemen Post",courier_url:"http://www.post.ye/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/yemen.html"},{matches:"ZM",country:"Zambia",courier:"Zambia Postal Services Corporation (ZAMPOST)",courier_url:"http://www.zampost.com.zm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/zambia.html"},{matches:"ZW",country:"Zimbabwe",courier:"Zimpost – Zimbabwe Posts",courier_url:"http://www.zimpost.co.zw/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/zimbabwe.html"}]}]}],pa={name:sa,courier_code:ca,tracking_numbers:la},ha="UPS",da="ups",ma=[{name:"UPS",id:"ups",regex:["\\s*1\\s*Z\\s*(?<SerialNumber>","(?<ShipperId>(?:[A-Z0-9]\\s*){6,6})","(?<ServiceType>(?:[A-Z0-9]\\s*){2,2})","(?<PackageId>(?:[A-Z0-9]\\s*){7,7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"01",name:"UPS United States Next Day Air (Red)"},{matches:"02",name:"UPS United States Second Day Air (Blue)"},{matches:"03",name:"UPS United States Ground"},{matches:"12",name:"UPS United States Third Day Select"},{matches:"13",name:"UPS United States Next Day Air Saver (Red Saver)"},{matches:"15",name:"UPS United States Next Day Air Early A.M."},{matches:"22",name:"UPS United States Ground - Returns Plus - Three Pickup Attempts"},{matches:"32",name:"UPS United States Next Day Air Early A.M. - COD"},{matches:"33",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, COD"},{matches:"41",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery"},{matches:"42",name:"UPS United States Ground - Signature Required"},{matches:"44",name:"UPS United States Next Day Air - Saturday Delivery"},{matches:"66",name:"UPS United States Worldwide Express"},{matches:"72",name:"UPS United States Ground - Collect on Delivery"},{matches:"78",name:"UPS United States Ground - Returns Plus - One Pickup Attempt"},{matches:"90",name:"UPS United States Ground - Returns - UPS Prints and Mails Label"},{matches:"A0",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required"},{matches:"A1",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required"},{matches:"A2",name:"UPS United States Next Day Air - Adult Signature Required"},{matches:"A8",name:"UPS United States Ground - Adult Signature Required"},{matches:"A9",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required, COD"},{matches:"AA",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required, COD"},{matches:"YW",name:"UPS SurePost - Delivered by the USPS"}]}],test_numbers:{valid:["1Z5R89390357567127","1Z879E930346834440","1Z410E7W0392751591","1Z8V92A70367203024"," 1 Z 8 V 9 2 A 7 0 3 6 7 2 0 3 0 2 4 ","1ZXX3150YW44070023"],invalid:["2Z5R89390357567127","1A5R89390357567127","1Z1111111111111111"]}},{name:"UPS Waybill",regex:["\\s*(?<ServiceType>([AHJKTV]\\s*){1})","(?<SerialNumber>(?:[0-9]\\s*){9})","(?<CheckDigit>[0-9]\\s*){1}"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"J",name:"UPS Next Day Express"},{matches:"K",name:"UPS Ground"},{matches:"V",name:"UPS WorldWide Express Saver"}]}],tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",test_numbers:{valid:["K1506235620","K 150 623 562 0","K2479825491","J4603636537","V0490119172","V0431105627"],invalid:["K1506235622","K2479825492","J4603636538","V0411335627","V0423305841"]}}],fa={name:ha,courier_code:da,tracking_numbers:ma},wa="United States Postal Service",ga="usps",va=[{tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",name:"USPS 20",id:"usps_20",description:"20 digit USPS numbers",regex:["\\s*(?<SerialNumber>","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){9})","(?<PackageId>([0-9]\\s*){8})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["0307 1790 0005 2348 3741"," 0 3 0 7   1 7 9 0   0 0 0 5   2 3 4 8   3 7 4 1 ","7112 3456 7891 2345 6787"],invalid:["0307 1790 0005 2348 3742"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"71",name:"Certified Mail"},{matches:"73",name:"Insured Mail"},{matches:"77",name:"Registered Mail"},{matches:"81",name:"Return Receipt For Merchanise"}]}]},{name:"USPS 34v2",id:"usps_32V2",description:"variation on 34 digit USPS IMpd numbers",regex:["\\s*(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5})","(?<RoutingNumber>([0-9]\\s*){4})","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[2345]\\s*)?","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["4201002334249200190132607600833457","4201028200009261290113185417468510"," 4 2 0 1 0 2 8 2 0 0 0 0 9 2 6 1 2 9 0 1 1 3 1 8 5 4 1 7 4 6 8 5 1 0 "],invalid:["4201028200009261290113185417468511"]}},{name:"USPS 91",id:"usps_91",description:"USPS now calls this the IMpd barcode format",regex:["\\s*(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[12345]\\s*)?","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!9[1-5]).+",content:"91"}}},partners:[{description:"FedEx SmartPost uses USPS for last mile delivery, but not all USPS91 numbers are SmartPosts",partner_type:"shipper",partner_id:"fedex_smartpost",validation:{matches_all:[{regex_group_name:"ServiceType",matches:"29"},{matches:"61",regex_group_name:"SCNC"}]}}],tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["420 22153 9101026837331000039521","7196 9010 7560 0307 7385","9505 5110 6960 5048 6006 24","9101 1234 5678 9000 0000 13","92748931507708513018050063","92001903060085300042901077","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95","9405803699300124287899"],invalid:["61299998820821171811","9200000000000000000000","420000000000000000000000000000","420000009200000000000000000000"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"11",name:"First Class (R)"},{matches:"29",name:"Fedex Smart Post"}]}]}],ya={name:wa,courier_code:ga,tracking_numbers:va};var _a=function(){return!1};const ba=_a;var xa=function(){return!0};const Sa=xa,Pa={"@@functional/placeholder":!0};function R(r){return r!=null&&typeof r=="object"&&r["@@functional/placeholder"]===!0}function w(r){return function e(t){return arguments.length===0||R(t)?e:r.apply(this,arguments)}}function o(r){return function e(t,n){switch(arguments.length){case 0:return e;case 1:return R(t)?e:w(function(i){return r(t,i)});default:return R(t)&&R(n)?e:R(t)?w(function(i){return r(i,n)}):R(n)?w(function(i){return r(t,i)}):r(t,n)}}}var ka=o(function(e,t){return Number(e)+Number(t)});const at=ka;function he(r,e){r=r||[],e=e||[];var t,n=r.length,i=e.length,a=[];for(t=0;t<n;)a[a.length]=r[t],t+=1;for(t=0;t<i;)a[a.length]=e[t],t+=1;return a}function de(r,e){switch(r){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,i){return e.apply(this,arguments)};case 4:return function(t,n,i,a){return e.apply(this,arguments)};case 5:return function(t,n,i,a,u){return e.apply(this,arguments)};case 6:return function(t,n,i,a,u,c){return e.apply(this,arguments)};case 7:return function(t,n,i,a,u,c,p){return e.apply(this,arguments)};case 8:return function(t,n,i,a,u,c,p,m){return e.apply(this,arguments)};case 9:return function(t,n,i,a,u,c,p,m,_){return e.apply(this,arguments)};case 10:return function(t,n,i,a,u,c,p,m,_,h){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function ze(r,e,t){return function(){for(var n=[],i=0,a=r,u=0;u<e.length||i<arguments.length;){var c;u<e.length&&(!R(e[u])||i>=arguments.length)?c=e[u]:(c=arguments[i],i+=1),n[u]=c,R(c)||(a-=1),u+=1}return a<=0?t.apply(this,n):de(a,ze(r,n,t))}}var Ca=o(function(e,t){return e===1?w(t):de(e,ze(e,[],t))});const Z=Ca;var Aa=w(function(e){return Z(e.length,function(){var t=0,n=arguments[0],i=arguments[arguments.length-1],a=Array.prototype.slice.call(arguments,0);return a[0]=function(){var u=n.apply(this,he(arguments,[t,i]));return t+=1,u},e.apply(this,a)})});const Ia=Aa;function S(r){return function e(t,n,i){switch(arguments.length){case 0:return e;case 1:return R(t)?e:o(function(a,u){return r(t,a,u)});case 2:return R(t)&&R(n)?e:R(t)?o(function(a,u){return r(a,n,u)}):R(n)?o(function(a,u){return r(t,a,u)}):w(function(a){return r(t,n,a)});default:return R(t)&&R(n)&&R(i)?e:R(t)&&R(n)?o(function(a,u){return r(a,u,i)}):R(t)&&R(i)?o(function(a,u){return r(a,n,u)}):R(n)&&R(i)?o(function(a,u){return r(t,a,u)}):R(t)?w(function(a){return r(a,n,i)}):R(n)?w(function(a){return r(t,a,i)}):R(i)?w(function(a){return r(t,n,a)}):r(t,n,i)}}}var $a=S(function(e,t,n){if(e>=n.length||e<-n.length)return n;var i=e<0?n.length:0,a=i+e,u=he(n);return u[a]=t(n[a]),u});const yr=$a,le=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function Tt(r){return r!=null&&typeof r["@@transducer/step"]=="function"}function F(r,e,t){return function(){if(arguments.length===0)return t();var n=Array.prototype.slice.call(arguments,0),i=n.pop();if(!le(i)){for(var a=0;a<r.length;){if(typeof i[r[a]]=="function")return i[r[a]].apply(i,n);a+=1}if(Tt(i)){var u=e.apply(null,n);return u(i)}}return t.apply(this,arguments)}}function ye(r){return r&&r["@@transducer/reduced"]?r:{"@@transducer/value":r,"@@transducer/reduced":!0}}const E={init:function(){return this.xf["@@transducer/init"]()},result:function(r){return this.xf["@@transducer/result"](r)}};var Ta=function(){function r(e,t){this.xf=t,this.f=e,this.all=!0}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=ye(this.xf["@@transducer/step"](e,!1))),e},r}(),La=o(function(e,t){return new Ta(e,t)}),Da=o(F(["all"],La,function(e,t){for(var n=0;n<t.length;){if(!e(t[n]))return!1;n+=1}return!0}));const _r=Da;var ja=o(function(e,t){return t>e?t:e});const De=ja;function Ae(r,e){for(var t=0,n=e.length,i=Array(n);t<n;)i[t]=r(e[t]),t+=1;return i}function $e(r){return Object.prototype.toString.call(r)==="[object String]"}var Ue=w(function(e){return le(e)?!0:!e||typeof e!="object"||$e(e)?!1:e.nodeType===1?!!e.length:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),Oa=function(){function r(e){this.f=e}return r.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},r.prototype["@@transducer/result"]=function(e){return e},r.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},r}();function br(r){return new Oa(r)}var Ea=o(function(e,t){return de(e.length,function(){return e.apply(t,arguments)})});const xr=Ea;function Ba(r,e,t){for(var n=0,i=t.length;n<i;){if(e=r["@@transducer/step"](e,t[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return r["@@transducer/result"](e)}function Ht(r,e,t){for(var n=t.next();!n.done;){if(e=r["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=t.next()}return r["@@transducer/result"](e)}function Xt(r,e,t,n){return r["@@transducer/result"](t[n](xr(r["@@transducer/step"],r),e))}var Jt=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function ne(r,e,t){if(typeof r=="function"&&(r=br(r)),Ue(t))return Ba(r,e,t);if(typeof t["fantasy-land/reduce"]=="function")return Xt(r,e,t,"fantasy-land/reduce");if(t[Jt]!=null)return Ht(r,e,t[Jt]());if(typeof t.next=="function")return Ht(r,e,t);if(typeof t.reduce=="function")return Xt(r,e,t,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Na=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},r}(),Ra=o(function(e,t){return new Na(e,t)});function V(r,e){return Object.prototype.hasOwnProperty.call(e,r)}var Qt=Object.prototype.toString,Sr=function(){return Qt.call(arguments)==="[object Arguments]"?function(e){return Qt.call(e)==="[object Arguments]"}:function(e){return V("callee",e)}}(),Wa=!{toString:null}.propertyIsEnumerable("toString"),Yt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],er=function(){return arguments.propertyIsEnumerable("length")}(),Ma=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},qa=w(typeof Object.keys=="function"&&!er?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var t,n,i=[],a=er&&Sr(e);for(t in e)V(t,e)&&(!a||t!=="length")&&(i[i.length]=t);if(Wa)for(n=Yt.length-1;n>=0;)t=Yt[n],V(t,e)&&!Ma(i,t)&&(i[i.length]=t),n-=1;return i});const ae=qa;var se=o(F(["fantasy-land/map","map"],Ra,function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return Z(t.length,function(){return e.call(this,t.apply(this,arguments))});case"[object Object]":return ne(function(n,i){return n[i]=e(t[i]),n},{},ae(t));default:return Ae(e,t)}}));const _e=Number.isInteger||function(e){return e<<0===e};var je=o(function(e,t){var n=e<0?t.length+e:e;return $e(t)?t.charAt(n):t[n]}),za=o(function(e,t){return e.map(function(n){for(var i=t,a=0,u;a<n.length;){if(i==null)return;u=n[a],i=_e(u)?je(u,i):i[u],a+=1}return i})});const Pr=za;var Ua=o(function(e,t){return Pr([e],t)[0]});const Pe=Ua;var Fa=o(function(e,t){return Pe([e],t)});const Lt=Fa;var Ga=o(function(e,t){return se(Lt(e),t)});const Fe=Ga;var me=S(ne),Ka=w(function(e){return Z(me(De,0,Fe("length",e)),function(){for(var t=0,n=e.length;t<n;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0})});const Za=Ka;var Va=w(function(e){return function(){return e}});const ut=Va;var Ha=o(function(e,t){return e&&t});const kr=Ha;var Xa=function(){function r(e,t){this.xf=t,this.f=e,this.any=!1}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=ye(this.xf["@@transducer/step"](e,!0))),e},r}(),Ja=o(function(e,t){return new Xa(e,t)}),Qa=o(F(["any"],Ja,function(e,t){for(var n=0;n<t.length;){if(e(t[n]))return!0;n+=1}return!1}));const Ya=Qa;var eu=w(function(e){return Z(me(De,0,Fe("length",e)),function(){for(var t=0,n=e.length;t<n;){if(e[t].apply(this,arguments))return!0;t+=1}return!1})});const tu=eu;var ru=o(function(e,t){return typeof t["fantasy-land/ap"]=="function"?t["fantasy-land/ap"](e):typeof e.ap=="function"?e.ap(t):typeof e=="function"?function(n){return e(n)(t(n))}:ne(function(n,i){return he(n,se(i,t))},[],e)});const Dt=ru;function nu(r,e){for(var t=0,n=e.length-(r-1),i=new Array(n>=0?n:0);t<n;)i[t]=Array.prototype.slice.call(e,t,t+r),t+=1;return i}var iu=function(){function r(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},r.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},r.prototype.getCopy=function(){return he(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},r}(),au=o(function(e,t){return new iu(e,t)}),uu=o(F([],au,nu));const ou=uu;var su=o(function(e,t){return he(t,[e])});const cu=su;var lu=o(function(e,t){return e.apply(this,t)});const Cr=lu;var pu=w(function(e){for(var t=ae(e),n=t.length,i=[],a=0;a<n;)i[a]=e[t[a]],a+=1;return i});const Ar=pu;function tr(r,e){return ae(e).reduce(function(t,n){return t[n]=r(e[n]),t},{})}var hu=w(function r(e){return e=tr(function(t){return typeof t=="function"?t:r(t)},e),Z(me(De,0,Fe("length",Ar(e))),function(){var t=arguments;return tr(function(n){return Cr(n,t)},e)})});const du=hu;var mu=o(function(e,t){return t(e)});const fu=mu;var wu=S(function(e,t,n){var i=e(t),a=e(n);return i<a?-1:i>a?1:0});const gu=wu;var vu=S(function(e,t,n){var i={};for(var a in n)i[a]=n[a];return i[e]=t,i});const ot=vu;var yu=w(function(e){return e==null});const Qe=yu;var _u=S(function r(e,t,n){if(e.length===0)return t;var i=e[0];if(e.length>1){var a=!Qe(n)&&V(i,n)?n[i]:_e(e[1])?[]:{};t=r(Array.prototype.slice.call(e,1),t,a)}if(_e(i)&&le(n)){var u=[].concat(n);return u[i]=t,u}else return ot(i,t,n)});const Ir=_u;var bu=o(function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(n){return t.call(this,n)};case 2:return function(n,i){return t.call(this,n,i)};case 3:return function(n,i,a){return t.call(this,n,i,a)};case 4:return function(n,i,a,u){return t.call(this,n,i,a,u)};case 5:return function(n,i,a,u,c){return t.call(this,n,i,a,u,c)};case 6:return function(n,i,a,u,c,p){return t.call(this,n,i,a,u,c,p)};case 7:return function(n,i,a,u,c,p,m){return t.call(this,n,i,a,u,c,p,m)};case 8:return function(n,i,a,u,c,p,m,_){return t.call(this,n,i,a,u,c,p,m,_)};case 9:return function(n,i,a,u,c,p,m,_,h){return t.call(this,n,i,a,u,c,p,m,_,h)};case 10:return function(n,i,a,u,c,p,m,_,h,A){return t.call(this,n,i,a,u,c,p,m,_,h,A)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}});const st=bu;var xu=w(function(e){return st(2,e)});const Su=xu;function Te(r){var e=Object.prototype.toString.call(r);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}var Pu=o(function(e,t){var n=Z(e,t);return Z(e,function(){return ne(Dt,se(n,arguments[0]),Array.prototype.slice.call(arguments,1))})});const $r=Pu;var ct=w(function(e){return $r(e.length,e)}),ku=o(function(e,t){return Te(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:ct(kr)(e,t)});const Cu=ku;var jt=w(function(e){return Z(e.length,e)}),Au=jt(function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))});const Iu=Au;function Tr(r){return function e(t){for(var n,i,a,u=[],c=0,p=t.length;c<p;){if(Ue(t[c]))for(n=r?e(t[c]):t[c],a=0,i=n.length;a<i;)u[u.length]=n[a],a+=1;else u[u.length]=t[c];c+=1}return u}}function $u(r){return{"@@transducer/value":r,"@@transducer/reduced":!0}}var Tu=function(r){return{"@@transducer/init":E.init,"@@transducer/result":function(e){return r["@@transducer/result"](e)},"@@transducer/step":function(e,t){var n=r["@@transducer/step"](e,t);return n["@@transducer/reduced"]?$u(n):n}}},Lu=function(e){var t=Tu(e);return{"@@transducer/init":E.init,"@@transducer/result":function(n){return t["@@transducer/result"](n)},"@@transducer/step":function(n,i){return Ue(i)?ne(t,n,i):ne(t,n,[i])}}},Du=o(function(e,t){return se(e,Lu(t))}),ju=o(F(["fantasy-land/chain","chain"],Du,function(e,t){return typeof t=="function"?function(n){return e(t(n))(n)}:Tr(!1)(se(e,t))}));const Ot=ju;var Ou=S(function(e,t,n){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<e?e:n>t?t:n});const Eu=Ou;function Lr(r){return new RegExp(r.source,(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.sticky?"y":"")+(r.unicode?"u":""))}var Bu=w(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});const Ye=Bu;function lt(r,e,t,n){var i=function(u){for(var c=e.length,p=0;p<c;){if(r===e[p])return t[p];p+=1}e[p+1]=r,t[p+1]=u;for(var m in r)u[m]=n?lt(r[m],e,t,!0):r[m];return u};switch(Ye(r)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(r.valueOf());case"RegExp":return Lr(r);default:return r}}var Nu=w(function(e){return e!=null&&typeof e.clone=="function"?e.clone():lt(e,[],[],!0)});const Ru=Nu;var Wu=w(function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}});const Mu=Wu;var qu=w(function(e){return!e});const Dr=qu;var zu=ct(Dr);const Uu=zu;function Fu(r,e){return function(){return e.call(this,r.apply(this,arguments))}}function Ge(r,e){return function(){var t=arguments.length;if(t===0)return e();var n=arguments[t-1];return le(n)||typeof n[r]!="function"?e.apply(this,arguments):n[r].apply(n,Array.prototype.slice.call(arguments,0,t-1))}}var oe=S(Ge("slice",function(e,t,n){return Array.prototype.slice.call(n,e,t)})),pt=w(Ge("tail",oe(1,1/0)));function jr(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return de(arguments[0].length,me(Fu,arguments[0],pt(arguments)))}var Ke=w(function(e){return $e(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});function et(){if(arguments.length===0)throw new Error("compose requires at least one argument");return jr.apply(this,Ke(arguments))}function Or(){if(arguments.length===0)throw new Error("composeK requires at least one argument");var r=Array.prototype.slice.call(arguments),e=r.pop();return et(et.apply(this,se(Ot,r)),e)}function Gu(r,e){return function(){var t=this;return r.apply(t,arguments).then(function(n){return e.call(t,n)})}}function Er(){if(arguments.length===0)throw new Error("pipeP requires at least one argument");return de(arguments[0].length,me(Gu,arguments[0],pt(arguments)))}function Ku(){if(arguments.length===0)throw new Error("composeP requires at least one argument");return Er.apply(this,Ke(arguments))}var Zu=je(0);const Br=Zu;function Ze(r){return r}var Vu=w(Ze);const ht=Vu;var Hu=o(function(e,t){if(t.length<=0)return ht;var n=Br(t),i=pt(t);return de(n.length,function(){return ne(function(a,u){return e.call(this,u,a)},n.apply(this,arguments),i)})});const Nr=Hu;var Xu=o(function(e,t){return Nr.apply(this,[e,Ke(t)])});const Ju=Xu;function rr(r){for(var e=[],t;!(t=r.next()).done;)e.push(t.value);return e}function Le(r,e,t){for(var n=0,i=t.length;n<i;){if(r(e,t[n]))return!0;n+=1}return!1}function Qu(r){var e=String(r).match(/^function (\w*)/);return e==null?"":e[1]}function Yu(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}const Je=typeof Object.is=="function"?Object.is:Yu;function nr(r,e,t,n){var i=rr(r),a=rr(e);function u(c,p){return Et(c,p,t.slice(),n.slice())}return!Le(function(c,p){return!Le(u,p,c)},a,i)}function Et(r,e,t,n){if(Je(r,e))return!0;var i=Ye(r);if(i!==Ye(e)||r==null||e==null)return!1;if(typeof r["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof r["fantasy-land/equals"]=="function"&&r["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](r);if(typeof r.equals=="function"||typeof e.equals=="function")return typeof r.equals=="function"&&r.equals(e)&&typeof e.equals=="function"&&e.equals(r);switch(i){case"Arguments":case"Array":case"Object":if(typeof r.constructor=="function"&&Qu(r.constructor)==="Promise")return r===e;break;case"Boolean":case"Number":case"String":if(!(typeof r==typeof e&&Je(r.valueOf(),e.valueOf())))return!1;break;case"Date":if(!Je(r.valueOf(),e.valueOf()))return!1;break;case"Error":return r.name===e.name&&r.message===e.message;case"RegExp":if(!(r.source===e.source&&r.global===e.global&&r.ignoreCase===e.ignoreCase&&r.multiline===e.multiline&&r.sticky===e.sticky&&r.unicode===e.unicode))return!1;break}for(var a=t.length-1;a>=0;){if(t[a]===r)return n[a]===e;a-=1}switch(i){case"Map":return r.size!==e.size?!1:nr(r.entries(),e.entries(),t.concat([r]),n.concat([e]));case"Set":return r.size!==e.size?!1:nr(r.values(),e.values(),t.concat([r]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u=ae(r);if(u.length!==ae(e).length)return!1;var c=t.concat([r]),p=n.concat([e]);for(a=u.length-1;a>=0;){var m=u[a];if(!(V(m,e)&&Et(e[m],r[m],c,p)))return!1;a-=1}return!0}var eo=o(function(e,t){return Et(e,t,[],[])});const ue=eo;function Rr(r,e,t){var n,i;if(typeof r.indexOf=="function")switch(typeof e){case"number":if(e===0){for(n=1/e;t<r.length;){if(i=r[t],i===0&&1/i===n)return t;t+=1}return-1}else if(e!==e){for(;t<r.length;){if(i=r[t],typeof i=="number"&&i!==i)return t;t+=1}return-1}return r.indexOf(e,t);case"string":case"boolean":case"function":case"undefined":return r.indexOf(e,t);case"object":if(e===null)return r.indexOf(e,t)}for(;t<r.length;){if(ue(r[t],e))return t;t+=1}return-1}function be(r,e){return Rr(e,r,0)>=0}function _t(r){var e=r.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var Me=function(e){return(e<10?"0":"")+e},to=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+Me(e.getUTCMonth()+1)+"-"+Me(e.getUTCDate())+"T"+Me(e.getUTCHours())+":"+Me(e.getUTCMinutes())+":"+Me(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function Wr(r){return function(){return!r.apply(this,arguments)}}function Bt(r,e){for(var t=0,n=e.length,i=[];t<n;)r(e[t])&&(i[i.length]=e[t]),t+=1;return i}function tt(r){return Object.prototype.toString.call(r)==="[object Object]"}var ro=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},r}(),no=o(function(e,t){return new ro(e,t)}),io=o(F(["filter"],no,function(r,e){return tt(e)?ne(function(t,n){return r(e[n])&&(t[n]=e[n]),t},{},ae(e)):Bt(r,e)}));const Nt=io;var ao=o(function(e,t){return Nt(Wr(e),t)});const dt=ao;function Rt(r,e){var t=function(u){var c=e.concat([r]);return be(u,c)?"<Circular>":Rt(u,c)},n=function(a,u){return Ae(function(c){return _t(c)+": "+t(a[c])},u.slice().sort())};switch(Object.prototype.toString.call(r)){case"[object Arguments]":return"(function() { return arguments; }("+Ae(t,r).join(", ")+"))";case"[object Array]":return"["+Ae(t,r).concat(n(r,dt(function(a){return/^\d+$/.test(a)},ae(r)))).join(", ")+"]";case"[object Boolean]":return typeof r=="object"?"new Boolean("+t(r.valueOf())+")":r.toString();case"[object Date]":return"new Date("+(isNaN(r.valueOf())?t(NaN):_t(to(r)))+")";case"[object Null]":return"null";case"[object Number]":return typeof r=="object"?"new Number("+t(r.valueOf())+")":1/r===-1/0?"-0":r.toString(10);case"[object String]":return typeof r=="object"?"new String("+t(r.valueOf())+")":_t(r);case"[object Undefined]":return"undefined";default:if(typeof r.toString=="function"){var i=r.toString();if(i!=="[object Object]")return i}return"{"+n(r,ae(r)).join(", ")+"}"}}var uo=w(function(e){return Rt(e,[])});const Ie=uo;var oo=o(function(e,t){if(le(e)){if(le(t))return e.concat(t);throw new TypeError(Ie(t)+" is not an array")}if($e(e)){if($e(t))return e+t;throw new TypeError(Ie(t)+" is not a string")}if(e!=null&&Te(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(e!=null&&Te(e.concat))return e.concat(t);throw new TypeError(Ie(e)+' does not have a method named "concat" or "fantasy-land/concat"')});const Wt=oo;var so=w(function(e){var t=me(De,0,se(function(n){return n[0].length},e));return de(t,function(){for(var n=0;n<e.length;){if(e[n][0].apply(this,arguments))return e[n][1].apply(this,arguments);n+=1}})});const co=so;var lo=o(function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return e===0?function(){return new t}:jt(st(e,function(n,i,a,u,c,p,m,_,h,A){switch(arguments.length){case 1:return new t(n);case 2:return new t(n,i);case 3:return new t(n,i,a);case 4:return new t(n,i,a,u);case 5:return new t(n,i,a,u,c);case 6:return new t(n,i,a,u,c,p);case 7:return new t(n,i,a,u,c,p,m);case 8:return new t(n,i,a,u,c,p,m,_);case 9:return new t(n,i,a,u,c,p,m,_,h);case 10:return new t(n,i,a,u,c,p,m,_,h,A)}}))});const Mr=lo;var po=w(function(e){return Mr(e.length,e)});const ho=po;var mo=o(be);const fo=mo;var wo=o(function(e,t){return Z(me(De,0,Fe("length",t)),function(){var n=arguments,i=this;return e.apply(i,Ae(function(a){return a.apply(i,n)},t))})});const qr=wo;var go=function(){function r(e,t,n,i){this.valueFn=e,this.valueAcc=t,this.keyFn=n,this.xf=i,this.inputs={}}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(V(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]),e["@@transducer/reduced"])){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){var n=this.keyFn(t);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],t),e},r}(),vo=ze(4,[],function(e,t,n,i){return new go(e,t,n,i)}),mt=ze(4,[],F([],vo,function(e,t,n,i){return ne(function(a,u){var c=n(u);return a[c]=e(V(c,a)?a[c]:lt(t,[],[],!1),u),a},{},i)})),yo=mt(function(r,e){return r+1},0);const _o=yo;var bo=at(-1);const xo=bo;var So=o(function(e,t){return t==null||t!==t?e:t});const zr=So;var Po=S(function(e,t,n){var i=e(t),a=e(n);return i>a?-1:i<a?1:0});const ko=Po;var Ur=function(){function r(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return r.prototype.add=function(e){return!ir(e,!0,this)},r.prototype.has=function(e){return ir(e,!1,this)},r}();function ir(r,e,t){var n=typeof r,i,a;switch(n){case"string":case"number":return r===0&&1/r===-1/0?t._items["-0"]?!0:(e&&(t._items["-0"]=!0),!1):t._nativeSet!==null?e?(i=t._nativeSet.size,t._nativeSet.add(r),a=t._nativeSet.size,a===i):t._nativeSet.has(r):n in t._items?r in t._items[n]?!0:(e&&(t._items[n][r]=!0),!1):(e&&(t._items[n]={},t._items[n][r]=!0),!1);case"boolean":if(n in t._items){var u=r?1:0;return t._items[n][u]?!0:(e&&(t._items[n][u]=!0),!1)}else return e&&(t._items[n]=r?[!1,!0]:[!0,!1]),!1;case"function":return t._nativeSet!==null?e?(i=t._nativeSet.size,t._nativeSet.add(r),a=t._nativeSet.size,a===i):t._nativeSet.has(r):n in t._items?be(r,t._items[n])?!0:(e&&t._items[n].push(r),!1):(e&&(t._items[n]=[r]),!1);case"undefined":return t._items[n]?!0:(e&&(t._items[n]=!0),!1);case"object":if(r===null)return t._items.null?!0:(e&&(t._items.null=!0),!1);default:return n=Object.prototype.toString.call(r),n in t._items?be(r,t._items[n])?!0:(e&&t._items[n].push(r),!1):(e&&(t._items[n]=[r]),!1)}}var Co=o(function(e,t){for(var n=[],i=0,a=e.length,u=t.length,c=new Ur,p=0;p<u;p+=1)c.add(t[p]);for(;i<a;)c.add(e[i])&&(n[n.length]=e[i]),i+=1;return n});const St=Co;var Ao=S(function(e,t,n){for(var i=[],a=0,u=t.length;a<u;)!Le(e,t[a],n)&&!Le(e,t[a],i)&&i.push(t[a]),a+=1;return i});const Pt=Ao;var Io=o(function(e,t){var n={};for(var i in t)n[i]=t[i];return delete n[e],n});const Fr=Io;var $o=S(function(e,t,n){var i=Array.prototype.slice.call(n,0);return i.splice(e,t),i});const Gr=$o;var To=S(function(e,t,n){return yr(e,ut(t),n)});const Mt=To;var Lo=o(function r(e,t){switch(e.length){case 0:return t;case 1:return _e(e[0])&&le(t)?Gr(e[0],1,t):Fr(e[0],t);default:var n=e[0],i=Array.prototype.slice.call(e,1);return t[n]==null?t:_e(n)&&le(t)?Mt(n,r(i,t[n]),t):ot(n,r(i,t[n]),t)}});const Do=Lo;var jo=o(function(e,t){return e/t});const Oo=jo;var Eo=function(){function r(e,t){this.xf=t,this.n=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},r}(),Bo=o(function(e,t){return new Eo(e,t)}),No=o(F(["drop"],Bo,function(e,t){return oe(Math.max(0,e),1/0,t)}));const Kr=No;var Ro=function(){function r(e,t){this.xf=t,this.n=e,this.i=0}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){this.i+=1;var n=this.n===0?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?ye(n):n},r}(),Wo=o(function(e,t){return new Ro(e,t)}),Mo=o(F(["take"],Wo,function(e,t){return oe(0,e<0?1/0:e,t)}));const qt=Mo;function qo(r,e){return qt(r<e.length?e.length-r:0,e)}var zo=function(){function r(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},r.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},r}(),Uo=o(function(e,t){return new zo(e,t)}),Fo=o(F([],Uo,qo));const Go=Fo;function Ko(r,e){for(var t=e.length-1;t>=0&&r(e[t]);)t-=1;return oe(0,t+1,e)}var Zo=function(){function r(e,t){this.f=e,this.retained=[],this.xf=t}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},r.prototype.flush=function(e,t){return e=ne(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},r.prototype.retain=function(e,t){return this.retained.push(t),e},r}(),Vo=o(function(e,t){return new Zo(e,t)}),Ho=o(F([],Vo,Ko));const Xo=Ho;var Jo=function(){function r(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(n=!0):this.seenFirstValue=!0,this.lastValue=t,n?e:this.xf["@@transducer/step"](e,t)},r}(),Zr=o(function(e,t){return new Jo(e,t)}),Qo=je(-1);const Vr=Qo;var Yo=o(F([],Zr,function(e,t){var n=[],i=1,a=t.length;if(a!==0)for(n[0]=t[0];i<a;)e(Vr(n),t[i])||(n[n.length]=t[i]),i+=1;return n}));const Hr=Yo;var es=w(F([],Zr(ue),Hr(ue)));const ts=es;var rs=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},r}(),ns=o(function(e,t){return new rs(e,t)}),is=o(F(["dropWhile"],ns,function(e,t){for(var n=0,i=t.length;n<i&&e(t[n]);)n+=1;return oe(n,1/0,t)}));const as=is;var us=o(function(e,t){return e||t});const Xr=us;var os=o(function(e,t){return Te(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:ct(Xr)(e,t)});const ss=os;var cs=w(function(e){return e!=null&&typeof e["fantasy-land/empty"]=="function"?e["fantasy-land/empty"]():e!=null&&e.constructor!=null&&typeof e.constructor["fantasy-land/empty"]=="function"?e.constructor["fantasy-land/empty"]():e!=null&&typeof e.empty=="function"?e.empty():e!=null&&e.constructor!=null&&typeof e.constructor.empty=="function"?e.constructor.empty():le(e)?[]:$e(e)?"":tt(e)?{}:Sr(e)?function(){return arguments}():void 0});const Jr=cs;var ls=o(function(e,t){return Kr(e>=0?t.length-e:0,t)});const Qr=ls;var ps=o(function(r,e){return ue(Qr(r.length,e),r)});const hs=ps;var ds=S(function(e,t,n){return ue(e(t),e(n))});const ms=ds;var fs=S(function(e,t,n){return ue(t[e],n[e])});const ws=fs;var gs=o(function r(e,t){var n=t instanceof Array?[]:{},i,a,u;for(a in t)i=e[a],u=typeof i,n[a]=u==="function"?i(t[a]):i&&u==="object"?r(i,t[a]):t[a];return n});const vs=gs;var ys=function(){function r(e,t){this.xf=t,this.f=e,this.found=!1}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=ye(this.xf["@@transducer/step"](e,t))),e},r}(),_s=o(function(e,t){return new ys(e,t)}),bs=o(F(["find"],_s,function(e,t){for(var n=0,i=t.length;n<i;){if(e(t[n]))return t[n];n+=1}}));const xs=bs;var Ss=function(){function r(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=ye(this.xf["@@transducer/step"](e,this.idx))),e},r}(),Ps=o(function(e,t){return new Ss(e,t)}),ks=o(F([],Ps,function(e,t){for(var n=0,i=t.length;n<i;){if(e(t[n]))return n;n+=1}return-1}));const Cs=ks;var As=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e},r}(),Is=o(function(e,t){return new As(e,t)}),$s=o(F([],Is,function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return t[n];n-=1}}));const Ts=$s;var Ls=function(){function r(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},r.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},r}(),Ds=o(function(e,t){return new Ls(e,t)}),js=o(F([],Ds,function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return n;n-=1}return-1}));const Os=js;var Es=w(Tr(!0));const Bs=Es;var Ns=w(function(e){return Z(e.length,function(t,n){var i=Array.prototype.slice.call(arguments,0);return i[0]=n,i[1]=t,e.apply(this,i)})});const ft=Ns;var Rs=o(Ge("forEach",function(e,t){for(var n=t.length,i=0;i<n;)e(t[i]),i+=1;return t}));const Ws=Rs;var Ms=o(function(e,t){for(var n=ae(t),i=0;i<n.length;){var a=n[i];e(t[a],a,t),i+=1}return t});const qs=Ms;var zs=w(function(e){for(var t={},n=0;n<e.length;)t[e[n][0]]=e[n][1],n+=1;return t});const Us=zs;var Fs=o(Ge("groupBy",mt(function(r,e){return r==null&&(r=[]),r.push(e),r},null)));const Gs=Fs;var Ks=o(function(r,e){for(var t=[],n=0,i=e.length;n<i;){for(var a=n+1;a<i&&r(e[a-1],e[a]);)a+=1;t.push(e.slice(n,a)),n=a}return t});const Zs=Ks;var Vs=o(function(e,t){return e>t});const Hs=Vs;var Xs=o(function(e,t){return e>=t});const Js=Xs;var Qs=o(function(e,t){if(e.length===0||Qe(t))return!1;for(var n=t,i=0;i<e.length;)if(!Qe(n)&&V(e[i],n))n=n[e[i]],i+=1;else return!1;return!0});const Yr=Qs;var Ys=o(function(e,t){return Yr([e],t)});const ec=Ys;var tc=o(function(e,t){return e in t});const rc=tc;var nc=o(Je);const ic=nc;var ac=S(function(e,t,n){return Z(Math.max(e.length,t.length,n.length),function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)})});const uc=ac;var oc=at(1);const sc=oc;var cc=o(be);const lc=cc;var pc=mt(function(r,e){return e},null);const hc=pc;var dc=o(function(e,t){return typeof t.indexOf=="function"&&!le(t)?t.indexOf(e):Rr(t,e,0)});const mc=dc;var fc=oe(0,-1);const wc=fc;var gc=S(function(e,t,n){return Bt(function(i){return Le(e,i,n)},t)});const vc=gc;var yc=S(function(e,t,n){e=e<n.length&&e>=0?e:n.length;var i=Array.prototype.slice.call(n,0);return i.splice(e,0,t),i});const _c=yc;var bc=S(function(e,t,n){return e=e<n.length&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),t,Array.prototype.slice.call(n,e))});const xc=bc;var en=o(function(e,t){for(var n=new Ur,i=[],a=0,u,c;a<t.length;)c=t[a],u=e(c),n.add(u)&&i.push(c),a+=1;return i}),Sc=en(ht);const zt=Sc;var Pc=o(function(e,t){var n,i;return e.length>t.length?(n=e,i=t):(n=t,i=e),zt(Bt(ft(be)(n),i))});const kc=Pc;var Cc=o(Ge("intersperse",function(e,t){for(var n=[],i=0,a=t.length;i<a;)i===a-1?n.push(t[i]):n.push(t[i],e),i+=1;return n}));const Ac=Cc;function Ic(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),t=1,n=arguments.length;t<n;){var i=arguments[t];if(i!=null)for(var a in i)V(a,i)&&(e[a]=i[a]);t+=1}return e}const Ve=typeof Object.assign=="function"?Object.assign:Ic;var $c=o(function(e,t){var n={};return n[e]=t,n});const tn=$c;var Tc={"@@transducer/init":Array,"@@transducer/step":function(r,e){return r.push(e),r},"@@transducer/result":Ze},Lc={"@@transducer/init":String,"@@transducer/step":function(r,e){return r+e},"@@transducer/result":Ze},Dc={"@@transducer/init":Object,"@@transducer/step":function(r,e){return Ve(r,Ue(e)?tn(e[0],e[1]):e)},"@@transducer/result":Ze};function jc(r){if(Tt(r))return r;if(Ue(r))return Tc;if(typeof r=="string")return Lc;if(typeof r=="object")return Dc;throw new Error("Cannot create transformer for "+r)}var Oc=S(function(e,t,n){return Tt(e)?ne(t(e),e["@@transducer/init"](),n):ne(t(jc(e)),lt(e,[],[],!1),n)});const Ec=Oc;var Bc=w(function(e){for(var t=ae(e),n=t.length,i=0,a={};i<n;){var u=t[i],c=e[u],p=V(c,a)?a[c]:a[c]=[];p[p.length]=u,i+=1}return a});const Nc=Bc;var Rc=w(function(e){for(var t=ae(e),n=t.length,i=0,a={};i<n;){var u=t[i];a[e[u]]=u,i+=1}return a});const Wc=Rc;var Mc=o(function(e,t){return Z(e+1,function(){var n=arguments[e];if(n!=null&&Te(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(Ie(n)+' does not have a method named "'+t+'"')})});const He=Mc;var qc=o(function(e,t){return t!=null&&t.constructor===e||t instanceof e});const rn=qc;var zc=w(function(e){return e!=null&&ue(e,Jr(e))});const Uc=zc;var Fc=He(1,"join");const Gc=Fc;var Kc=w(function(e){return qr(function(){return Array.prototype.slice.call(arguments,0)},e)});const nn=Kc;var Zc=w(function(e){var t,n=[];for(t in e)n[n.length]=t;return n});const Vc=Zc;var Hc=o(function(e,t){if(typeof t.lastIndexOf=="function"&&!le(t))return t.lastIndexOf(e);for(var n=t.length-1;n>=0;){if(ue(t[n],e))return n;n-=1}return-1});const Xc=Hc;function kt(r){return Object.prototype.toString.call(r)==="[object Number]"}var Jc=w(function(e){return e!=null&&kt(e.length)?e.length:NaN});const an=Jc;var Qc=o(function(e,t){return function(n){return function(i){return se(function(a){return t(a,i)},n(e(i)))}}});const wt=Qc;var Yc=w(function(e){return wt(je(e),Mt(e))});const el=Yc;var tl=w(function(e){return wt(Pe(e),Ir(e))});const rl=tl;var nl=w(function(e){return wt(Lt(e),ot(e))});const il=nl;var al=o(function(e,t){return e<t});const ul=al;var ol=o(function(e,t){return e<=t});const sl=ol;var cl=S(function(e,t,n){for(var i=0,a=n.length,u=[],c=[t];i<a;)c=e(c[0],n[i]),u[i]=c[1],i+=1;return[c[0],u]});const ll=cl;var pl=S(function(e,t,n){for(var i=n.length-1,a=[],u=[t];i>=0;)u=e(u[0],n[i]),a[i]=u[1],i-=1;return[u[0],a]});const hl=pl;var dl=o(function(e,t){return ne(function(n,i){return n[i]=e(t[i],i,t),n},{},ae(t))});const ml=dl;var fl=o(function(e,t){return t.match(e)||[]});const wl=fl;var gl=o(function(e,t){return _e(e)?!_e(t)||t<1?NaN:(e%t+t)%t:NaN});const vl=gl;var yl=S(function(e,t,n){return e(n)>e(t)?n:t});const _l=yl;var bl=me(at,0);const un=bl;var xl=w(function(e){return un(e)/e.length});const on=xl;var Sl=w(function(e){var t=e.length;if(t===0)return NaN;var n=2-t%2,i=(t-n)/2;return on(Array.prototype.slice.call(e,0).sort(function(a,u){return a<u?-1:a>u?1:0}).slice(i,i+n))});const Pl=Sl;var kl=o(function(e,t){var n={};return de(t.length,function(){var i=e.apply(this,arguments);return V(i,n)||(n[i]=t.apply(this,arguments)),n[i]})});const Cl=kl;var Al=o(function(e,t){return Ve({},e,t)});const Il=Al;var $l=w(function(e){return Ve.apply(null,[{}].concat(e))});const Tl=$l;var Ll=S(function(e,t,n){var i={},a;for(a in t)V(a,t)&&(i[a]=V(a,n)?e(a,t[a],n[a]):t[a]);for(a in n)V(a,n)&&!V(a,i)&&(i[a]=n[a]);return i});const Ut=Ll;var Dl=S(function r(e,t,n){return Ut(function(i,a,u){return tt(a)&&tt(u)?r(e,a,u):e(i,a,u)},t,n)});const gt=Dl;var jl=o(function(e,t){return gt(function(n,i,a){return i},e,t)});const Ol=jl;var El=o(function(e,t){return gt(function(n,i,a){return a},e,t)});const Bl=El;var Nl=S(function(e,t,n){return gt(function(i,a,u){return e(a,u)},t,n)});const Rl=Nl;var Wl=o(function(e,t){return Ve({},t,e)});const Ml=Wl;var ql=o(function(e,t){return Ve({},e,t)});const zl=ql;var Ul=S(function(e,t,n){return Ut(function(i,a,u){return e(a,u)},t,n)});const Fl=Ul;var Gl=o(function(e,t){return t<e?t:e});const Kl=Gl;var Zl=S(function(e,t,n){return e(n)<e(t)?n:t});const Vl=Zl;var Hl=o(function(e,t){return e%t});const Xl=Hl;var Jl=S(function(r,e,t){var n=t.length,i=t.slice(),a=r<0?n+r:r,u=e<0?n+e:e,c=i.splice(a,1);return a<0||a>=t.length||u<0||u>=t.length?t:[].concat(i.slice(0,u)).concat(c).concat(i.slice(u,t.length))});const Ql=Jl;var Yl=o(function(e,t){return e*t});const sn=Yl;var ep=w(function(e){return-e});const tp=ep;var rp=o(function(e,t){return _r(Wr(e),t)});const np=rp;var ip=w(function(e){var t=e<0?1:e+1;return Z(t,function(){return je(e,arguments)})});const ap=ip;var up=S(function(e,t,n){return e(t(n))});const op=up;function sp(r){return[r]}var cp=w(sp);const lp=cp;var pp=o(function(e,t){for(var n={},i={},a=0,u=e.length;a<u;)i[e[a]]=1,a+=1;for(var c in t)i.hasOwnProperty(c)||(n[c]=t[c]);return n});const hp=pp;var dp=w(function(e){var t=!1,n;return de(e.length,function(){return t||(t=!0,n=e.apply(this,arguments)),n})});const mp=dp;function cn(r,e){if(e==null||!Te(e.then))throw new TypeError("`"+r+"` expected a Promise, received "+Rt(e,[]))}var fp=o(function(e,t){return cn("otherwise",t),t.then(null,e)});const wp=fp;var ln=function(r){return{value:r,map:function(e){return ln(e(r))}}},gp=S(function(e,t,n){return e(function(i){return ln(t(i))})(n).value});const pn=gp;var vp=o(function(e,t){return[e,t]});const yp=vp;function hn(r){return o(function(e,t){return de(Math.max(0,e.length-t.length),function(){return e.apply(this,r(t,arguments))})})}var _p=hn(he);const bp=_p;var xp=hn(ft(he));const Sp=xp;var Pp=nn([Nt,dt]);const kp=Pp;var Cp=S(function(e,t,n){return ue(Pe(e,n),t)});const Ap=Cp;var Ip=S(function(e,t,n){return zr(e,Pe(t,n))});const dn=Ip;var $p=S(function(e,t,n){return e(Pe(t,n))});const Tp=$p;var Lp=o(function(e,t){for(var n={},i=0;i<e.length;)e[i]in t&&(n[e[i]]=t[e[i]]),i+=1;return n});const Dp=Lp;var jp=o(function(e,t){for(var n={},i=0,a=e.length;i<a;){var u=e[i];n[u]=t[u],i+=1}return n});const mn=jp;var Op=o(function(e,t){var n={};for(var i in t)e(t[i],i,t)&&(n[i]=t[i]);return n});const Ep=Op;function Bp(){if(arguments.length===0)throw new Error("pipeK requires at least one argument");return Or.apply(this,Ke(arguments))}var Np=o(function(e,t){return he([e],t)});const fn=Np;var Rp=me(sn,1);const Wp=Rp;var wn=o(function(e,t){return Z(t.length,function(){for(var n=[],i=0;i<t.length;)n.push(t[i].call(this,arguments[i])),i+=1;return e.apply(this,n.concat(Array.prototype.slice.call(arguments,t.length)))})}),Mp=wn(Ae,[mn,ht]);const qp=Mp;var zp=S(function(e,t,n){return ue(t,n[e])});const Up=zp;var Fp=S(function(e,t,n){return rn(e,n[t])});const Gp=Fp;var Kp=S(function(e,t,n){return dn(e,[t],n)});const Zp=Kp;var Vp=S(function(e,t,n){return e(n[t])});const Hp=Vp;var Xp=o(function(e,t){return e.map(function(n){return Pe([n],t)})});const Jp=Xp;var Qp=o(function(e,t){if(!(kt(e)&&kt(t)))throw new TypeError("Both arguments to range must be numbers");for(var n=[],i=e;i<t;)n.push(i),i+=1;return n});const Yp=Qp;var eh=S(function(e,t,n){for(var i=n.length-1;i>=0;)t=e(n[i],t),i-=1;return t});const gn=eh;var th=ze(4,[],function(e,t,n,i){return ne(function(a,u){return e(a,u)?t(a,u):ye(a)},n,i)});const rh=th;var nh=w(ye);const ih=nh;var ah=o(function(e,t){var n=Number(t),i=0,a;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(a=new Array(n);i<n;)a[i]=e(i),i+=1;return a});const vn=ah;var uh=o(function(e,t){return vn(ut(e),t)});const oh=uh;var sh=S(function(e,t,n){return n.replace(e,t)});const ch=sh;var lh=S(function(e,t,n){for(var i=0,a=n.length,u=[t];i<a;)t=e(t,n[i]),u[i+1]=t,i+=1;return u});const ph=lh;var hh=o(function(e,t){return typeof t.sequence=="function"?t.sequence(e):gn(function(n,i){return Dt(se(fn,n),i)},e([]),t)});const yn=hh;var dh=S(function(e,t,n){return pn(e,ut(t),n)});const mh=dh;var fh=o(function(e,t){return Array.prototype.slice.call(t,0).sort(e)});const wh=fh;var gh=o(function(e,t){return Array.prototype.slice.call(t,0).sort(function(n,i){var a=e(n),u=e(i);return a<u?-1:a>u?1:0})});const vh=gh;var yh=o(function(e,t){return Array.prototype.slice.call(t,0).sort(function(n,i){for(var a=0,u=0;a===0&&u<e.length;)a=e[u](n,i),u+=1;return a})});const _h=yh;var bh=He(1,"split");const xh=bh;var Sh=o(function(e,t){return[oe(0,e,t),oe(e,an(t),t)]});const Ph=Sh;var kh=o(function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],i=0;i<t.length;)n.push(oe(i,i+=e,t));return n});const Ch=kh;var Ah=o(function(e,t){for(var n=0,i=t.length,a=[];n<i&&!e(t[n]);)a.push(t[n]),n+=1;return[a,Array.prototype.slice.call(t,n)]});const Ih=Ah;var $h=o(function(r,e){return ue(qt(r.length,e),r)});const Th=$h;var Lh=o(function(e,t){return Number(e)-Number(t)});const Dh=Lh;var jh=o(function(e,t){return Wt(St(e,t),St(t,e))});const Oh=jh;var Eh=S(function(e,t,n){return Wt(Pt(e,t,n),Pt(e,n,t))});const Bh=Eh;var Nh=o(function(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return oe(n+1,1/0,t)});const Rh=Nh;var Wh=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):ye(e)},r}(),Mh=o(function(e,t){return new Wh(e,t)}),qh=o(F(["takeWhile"],Mh,function(e,t){for(var n=0,i=t.length;n<i&&e(t[n]);)n+=1;return oe(0,n,t)}));const zh=qh;var Uh=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},r}(),Fh=o(function(e,t){return new Uh(e,t)}),Gh=o(F([],Fh,function(e,t){return e(t),t}));const Kh=Gh;function Zh(r){return Object.prototype.toString.call(r)==="[object RegExp]"}var Vh=o(function(e,t){if(!Zh(e))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+Ie(e));return Lr(e).test(t)});const Hh=Vh;var Xh=o(function(e,t){return cn("andThen",t),t.then(e)});const Jh=Xh;var Qh=He(0,"toLowerCase");const Yh=Qh;var ed=w(function(e){var t=[];for(var n in e)V(n,e)&&(t[t.length]=[n,e[n]]);return t});const td=ed;var rd=w(function(e){var t=[];for(var n in e)t[t.length]=[n,e[n]];return t});const nd=rd;var id=He(0,"toUpperCase");const ad=id;var ud=Z(4,function(e,t,n,i){return ne(e(typeof t=="function"?br(t):t),n,i)});const od=ud;var sd=w(function(e){for(var t=0,n=[];t<e.length;){for(var i=e[t],a=0;a<i.length;)typeof n[a]>"u"&&(n[a]=[]),n[a].push(i[a]),a+=1;t+=1}return n});const cd=sd;var ld=S(function(e,t,n){return typeof n["fantasy-land/traverse"]=="function"?n["fantasy-land/traverse"](t,e):yn(e,se(t,n))});const pd=ld;var qe="	\n\v\f\r                　\u2028\u2029\uFEFF",hd="​",dd=typeof String.prototype.trim=="function",md=w(!dd||qe.trim()||!hd.trim()?function(e){var t=new RegExp("^["+qe+"]["+qe+"]*"),n=new RegExp("["+qe+"]["+qe+"]*$");return e.replace(t,"").replace(n,"")}:function(e){return e.trim()});const fd=md;var wd=o(function(e,t){return de(e.length,function(){try{return e.apply(this,arguments)}catch(n){return t.apply(this,he([n],arguments))}})});const gd=wd;var vd=w(function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}});const yd=vd;var _d=w(function(e){return st(1,e)});const bd=_d;var xd=o(function(e,t){return Z(e,function(){for(var n=1,i=t,a=0,u;n<=e&&typeof i=="function";)u=n===e?arguments.length:a+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,a,u)),n+=1,a=u;return i})});const Sd=xd;var Pd=o(function(e,t){for(var n=e(t),i=[];n&&n.length;)i[i.length]=n[0],n=e(n[1]);return i});const kd=Pd;var Cd=o(et(zt,he));const Ad=Cd;var Id=o(function(e,t){for(var n=0,i=t.length,a=[],u;n<i;)u=t[n],Le(e,u,a)||(a[a.length]=u),n+=1;return a});const _n=Id;var $d=S(function(e,t,n){return _n(e,he(t,n))});const Td=$d;var Ld=S(function(e,t,n){return e(n)?n:t(n)});const Dd=Ld;var jd=Ot(Ze);const Od=jd;var Ed=S(function(e,t,n){for(var i=n;!e(i);)i=t(i);return i});const Bd=Ed;var Nd=w(function(e){var t,n=[];for(t in e)n[n.length]=e[t];return n});const Rd=Nd;var Wd=function(r){return{value:r,"fantasy-land/map":function(){return this}}},Md=o(function(e,t){return e(Wd)(t).value});const qd=Md;var zd=S(function(e,t,n){return e(n)?t(n):n});const Ud=zd;var Fd=o(function(e,t){for(var n in e)if(V(n,e)&&!e[n](t[n]))return!1;return!0});const bn=Fd;var Gd=o(function(e,t){return bn(se(ue,e),t)});const Kd=Gd;var Zd=o(function(r,e){return dt(ft(be)(r),e)});const Vd=Zd;var Hd=o(function(e,t){return!!(!e^!t)});const Xd=Hd;var Jd=o(function(e,t){for(var n=0,i=e.length,a,u=t.length,c=[];n<i;){for(a=0;a<u;)c[c.length]=[e[n],t[a]],a+=1;n+=1}return c});const Qd=Jd;var Yd=o(function(e,t){for(var n=[],i=0,a=Math.min(e.length,t.length);i<a;)n[i]=[e[i],t[i]],i+=1;return n});const em=Yd;var tm=o(function(e,t){for(var n=0,i=Math.min(e.length,t.length),a={};n<i;)a[e[n]]=t[n],n+=1;return a});const rm=tm;var nm=S(function(e,t,n){for(var i=[],a=0,u=Math.min(t.length,n.length);a<u;)i[a]=e(t[a],n[a]),a+=1;return i});const im=nm;var am=w(function(e){return Z(e.length,function(){var n=arguments;return function(){return e.apply(this,n)}})});const um=am,om=Object.freeze(Object.defineProperty({__proto__:null,F:ba,T:Sa,__:Pa,add:at,addIndex:Ia,adjust:yr,all:_r,allPass:Za,always:ut,and:kr,andThen:Jh,any:Ya,anyPass:tu,ap:Dt,aperture:ou,append:cu,apply:Cr,applySpec:du,applyTo:fu,ascend:gu,assoc:ot,assocPath:Ir,binary:Su,bind:xr,both:Cu,call:Iu,chain:Ot,clamp:Eu,clone:Ru,comparator:Mu,complement:Uu,compose:et,composeK:Or,composeP:Ku,composeWith:Ju,concat:Wt,cond:co,construct:ho,constructN:Mr,contains:fo,converge:qr,countBy:_o,curry:jt,curryN:Z,dec:xo,defaultTo:zr,descend:ko,difference:St,differenceWith:Pt,dissoc:Fr,dissocPath:Do,divide:Oo,drop:Kr,dropLast:Go,dropLastWhile:Xo,dropRepeats:ts,dropRepeatsWith:Hr,dropWhile:as,either:ss,empty:Jr,endsWith:hs,eqBy:ms,eqProps:ws,equals:ue,evolve:vs,filter:Nt,find:xs,findIndex:Cs,findLast:Ts,findLastIndex:Os,flatten:Bs,flip:ft,forEach:Ws,forEachObjIndexed:qs,fromPairs:Us,groupBy:Gs,groupWith:Zs,gt:Hs,gte:Js,has:ec,hasIn:rc,hasPath:Yr,head:Br,identical:ic,identity:ht,ifElse:uc,inc:sc,includes:lc,indexBy:hc,indexOf:mc,init:wc,innerJoin:vc,insert:_c,insertAll:xc,intersection:kc,intersperse:Ac,into:Ec,invert:Nc,invertObj:Wc,invoker:He,is:rn,isEmpty:Uc,isNil:Qe,join:Gc,juxt:nn,keys:ae,keysIn:Vc,last:Vr,lastIndexOf:Xc,length:an,lens:wt,lensIndex:el,lensPath:rl,lensProp:il,lift:ct,liftN:$r,lt:ul,lte:sl,map:se,mapAccum:ll,mapAccumRight:hl,mapObjIndexed:ml,match:wl,mathMod:vl,max:De,maxBy:_l,mean:on,median:Pl,memoizeWith:Cl,merge:Il,mergeAll:Tl,mergeDeepLeft:Ol,mergeDeepRight:Bl,mergeDeepWith:Rl,mergeDeepWithKey:gt,mergeLeft:Ml,mergeRight:zl,mergeWith:Fl,mergeWithKey:Ut,min:Kl,minBy:Vl,modulo:Xl,move:Ql,multiply:sn,nAry:st,negate:tp,none:np,not:Dr,nth:je,nthArg:ap,o:op,objOf:tn,of:lp,omit:hp,once:mp,or:Xr,otherwise:wp,over:pn,pair:yp,partial:bp,partialRight:Sp,partition:kp,path:Pe,pathEq:Ap,pathOr:dn,pathSatisfies:Tp,paths:Pr,pick:Dp,pickAll:mn,pickBy:Ep,pipe:jr,pipeK:Bp,pipeP:Er,pipeWith:Nr,pluck:Fe,prepend:fn,product:Wp,project:qp,prop:Lt,propEq:Up,propIs:Gp,propOr:Zp,propSatisfies:Hp,props:Jp,range:Yp,reduce:me,reduceBy:mt,reduceRight:gn,reduceWhile:rh,reduced:ih,reject:dt,remove:Gr,repeat:oh,replace:ch,reverse:Ke,scan:ph,sequence:yn,set:mh,slice:oe,sort:wh,sortBy:vh,sortWith:_h,split:xh,splitAt:Ph,splitEvery:Ch,splitWhen:Ih,startsWith:Th,subtract:Dh,sum:un,symmetricDifference:Oh,symmetricDifferenceWith:Bh,tail:pt,take:qt,takeLast:Qr,takeLastWhile:Rh,takeWhile:zh,tap:Kh,test:Hh,thunkify:um,times:vn,toLower:Yh,toPairs:td,toPairsIn:nd,toString:Ie,toUpper:ad,transduce:od,transpose:cd,traverse:pd,trim:fd,tryCatch:gd,type:Ye,unapply:yd,unary:bd,uncurryN:Sd,unfold:kd,union:Ad,unionWith:Td,uniq:zt,uniqBy:en,uniqWith:_n,unless:Dd,unnest:Od,until:Bd,update:Mt,useWith:wn,values:Ar,valuesIn:Rd,view:qd,when:Ud,where:bn,whereEq:Kd,without:Vd,xor:Xd,xprod:Qd,zip:em,zipObj:rm,zipWith:im},Symbol.toStringTag,{value:"Module"})),sm=$n(om);(function(r){var e=Ce&&Ce.__createBinding||(Object.create?function(l,d,v,$){$===void 0&&($=v),Object.defineProperty(l,$,{enumerable:!0,get:function(){return d[v]}})}:function(l,d,v,$){$===void 0&&($=v),l[$]=d[v]}),t=Ce&&Ce.__setModuleDefault||(Object.create?function(l,d){Object.defineProperty(l,"default",{enumerable:!0,value:d})}:function(l,d){l.default=d}),n=Ce&&Ce.__importStar||function(l){if(l&&l.__esModule)return l;var d={};if(l!=null)for(var v in l)v!=="default"&&Object.hasOwnProperty.call(l,v)&&e(d,l,v);return t(d,l),d};Object.defineProperty(r,"__esModule",{value:!0}),r.findTracking=r.getTracking=r.allCouriers=r.usps=r.ups=r.s10=r.ontrac=r.fedex=r.dhl=r.amazon=void 0;const i=n(Hi);r.amazon=i;const a=n(Yi);r.dhl=a;const u=n(na);r.fedex=u;const c=n(oa);r.ontrac=c;const p=n(pa);r.s10=p;const m=n(fa);r.ups=m;const _=n(ya);r.usps=_;const h=sm;r.allCouriers=[i,a,u,c,p,m,_];const A=l=>d=>d.regex_group_name==="ServiceType"?d.lookup.some(v=>v.matches_regex?new RegExp(v.matches_regex).test(l.groups[d.regex_group_name]):!0):d.regex_group_name==="CountryCode"||d.regex_group_name==="ShippingContainerType"?d.lookup.some(v=>v.matches===l.groups[d.regex_group_name]):!0,T=(l,d)=>{const v=h.is(String,d)?d:d.join(""),$=new RegExp("\\b".concat(v,"\\b")).exec(l.replace(/[^a-zA-Z\d]/g,""));return $&&{serial:$.groups.SerialNumber.replace(/\s/g,""),checkDigit:$.groups.CheckDigit,groups:$.groups}||{}},B=(l,d)=>d.additional?d.additional.every(A(T(l,d.regex))):!0,y=l=>!0,k=l=>h.pipe(h.split(""),h.map(d=>isNaN(d)?(d.charCodeAt(0)-3)%10:parseInt(d)))(l),D=l=>Object.assign({},l),P=(l,d)=>d%2===0,O=h.complement(P),W=(l,d)=>h.pipe(D,h.pickBy(l),h.values,h.sum)(d),U=({serial:l,checkDigit:d,checksum:v})=>{const $=k(l.replace(/[^\da-zA-Z]/g,""));return(10-h.sum([W(P,$)*(v.evens_multiplier||1),W(O,$)*(v.odds_multiplier||1)])%10)%10===parseInt(d)},f=({serial:l,checkDigit:d})=>parseInt(l)%7===parseInt(d),g=(l,d)=>h.sum(h.zip(d.split("").map(v=>parseInt(v)),l||[]).map(v=>v.reduce(h.multiply))),j=({serial:l,checkDigit:d})=>{const v=g([8,6,4,2,3,5,9,7],l)%11;return(v===1?0:v===0?5:11-v)===parseInt(d)},C=({serial:l,checkDigit:d,checksum:v})=>g(v.weightings,l)%v.modulo1%v.modulo2===parseInt(d),b=({validation:{checksum:l}})=>(l==null?void 0:l.name)==="mod10"?U:(l==null?void 0:l.name)==="sum_product_with_weightings_and_modulo"?C:(l==null?void 0:l.name)==="mod7"?f:(l==null?void 0:l.name)==="s10"?j:y,q=(l,d)=>d.prepend_if&&new RegExp(d.prepend_if.matches_regex).test(l)?"".concat(d.prepend_if.content).concat(l):l,H=(l,{regex:d,validation:{serial_number_format:v,checksum:$}})=>{const Y=T(l,d);return Y&&Y.serial?{serial:v?q(Y.serial,v):Y.serial,checkDigit:Y.checkDigit,checksum:$}:null},X=(l,d,v)=>({name:l.name,trackingUrl:l.tracking_url||null,description:l.description||null,trackingNumber:v.replace(/[^a-zA-Z\d]/g,""),courier:{name:d.name,code:d.courier_code}}),I=l=>d=>h.pipe(h.prop("regex"),h.ifElse(h.is(String),h.identity,h.join("")),v=>new RegExp(v,"g"),h.flip(h.match)(l),h.map(h.replace(/[^a-zA-Z\d\n\r]/g,"")),h.uniq)(d),N=(l,d)=>d.map(h.pipe(h.prop("tracking_numbers"),h.chain(h.pipe(I(l),h.flatten)))),M=(l,d)=>h.pipe(h.flatten,h.uniq,v=>h.filter($=>h.none(h.test(new RegExp("([a-zA-Z0-9 ]+)".concat($,"$"))),v))(v),v=>h.filter($=>h.none(h.test(new RegExp("^".concat($,"([a-zA-Z0-9 ]+)"))),v))(v))(N(l,d)),L=l=>h.reduce((d,v)=>d||h.reduce(($,Y)=>{const Oe=H(l,Y);return Oe&&b(Y)(Oe)&&B(l,Y)?h.reduced(X(Y,v,l)):void 0},void 0,v.tracking_numbers),void 0);r.getTracking=(l,d=r.allCouriers)=>L(l)(d),r.findTracking=(l,d)=>M(l,d||r.allCouriers).map(v=>r.getTracking(v,d||r.allCouriers)).filter(h.complement(h.isNil))})(vr);const ar=pe("span")(()=>({fontWeight:"bold",color:"#313440"}));function cm(){const{state:{shippings:r=[],addressLabelPermission:e,orderIsDigital:t,money:n,variantImages:i=[]}}=x.useContext(Se),[a]=xe(),u=ve(),[c,p]=x.useState([]);x.useEffect(()=>{r.length&&(r.forEach(y=>{const{shipmentItems:k,notShip:{itemsInfo:D=[]}}=y;if(i.length>0&&D.length>0){const P=D.map(O=>{const W=i.find(U=>O.sku===(U==null?void 0:U.variantSku)||+O.variant_id==+U.variantId);return{...O,imageUrl:(W==null?void 0:W.variantImage)||O.imageUrl}});y.notShip.itemsInfo=P}k.length&&k.forEach(P=>{const{itemsInfo:O}=P;if(i.length>0){const f=O.map(g=>{const j=i.find(C=>g.sku===(C==null?void 0:C.variantSku)||+g.variant_id==+C.variantId);return{...g,imageUrl:(j==null?void 0:j.variantImage)||g.imageUrl}});P.itemsInfo=f}const W=P.tracking_number;if(P!=null&&P.generated_tracking_link&&W){P.tracking_link=P.generated_tracking_link;return}const U=vr.getTracking(W);if(U){const{trackingUrl:f="",trackingNumber:g}=U,j=P;f&&(j.tracking_link=f.includes("=%s")?f.replace("=%s","=".concat(g)):f)}})}),p([...r]))},[r,i]);const m=y=>{const{first_name:k,last_name:D}=y;return"".concat(k," ").concat(D)},_=y=>{const{street_1:k,city:D,state:P,zip:O,country:W}=y;return"".concat(k,", ").concat(D,", ").concat(P," ").concat(O,", ").concat(W)};let h=0;const A=()=>(h+=1,h),T=y=>{const{date_created:k,shipping_method:D,shipping_provider:P}=y,O=li(new Date(k),"LLLL, d");return"shipped on ".concat(O,", by ").concat(P,", ").concat(D)},B=y=>{if(e)return y;const k=y.indexOf("/");return y.substring(k+1,y.length)};return t?null:s.jsx(Ct,{spacing:2,children:c.map(y=>s.jsx(rt,{children:s.jsxs(nt,{children:[s.jsxs(re,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[s.jsxs(Q,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[m(y)," – ",B(y.company||"")]}),s.jsx(Q,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:_(y)})]}),(y.shipmentItems||[]).map(k=>k.itemsInfo.length>0?s.jsxs(x.Fragment,{children:[s.jsxs(re,{sx:{margin:"20px 0 2px"},children:[s.jsx(Q,{variant:"body1",children:s.jsxs(s.Fragment,{children:[s.jsx(ar,{children:"".concat(u("orderDetail.shipment.shipment")," ").concat(A()," – ")}),T(k)]})}),k.tracking_link?s.jsx(In,{href:k.tracking_link,target:"_blank",children:k.tracking_number}):s.jsx(Q,{variant:"body1",children:k.tracking_number})]}),s.jsx(xt,{quantityKey:"current_quantity_shipped",products:k.itemsInfo,money:n,totalText:"Total",canToProduct:!0,textAlign:"right"})]},"shipment-".concat(k.id)):null),y.notShip.itemsInfo.length>0?s.jsxs(x.Fragment,{children:[s.jsx(re,{sx:{margin:"20px 0 2px"},children:s.jsx(Q,{variant:"body1",children:s.jsx(ar,{children:u("orderDetail.shipment.notShippedYet")})})}),s.jsx(xt,{quantityKey:"not_shipping_number",products:y.notShip.itemsInfo,money:n,totalText:"Total",canToProduct:!0,textAlign:a?"left":"right"})]},"shipment-notShip-".concat(y.id)):null]})},"shipping-".concat(y.id)))})}const lm=fr;function pm(){const r=ge(it),e=ri(),t=dr(),n=ve(),{state:{addressConfig:i},dispatch:a}=x.useContext(Fn),{state:{poNumber:u,status:c="",customStatus:p,orderSummary:m,orderStatus:_=[],variantImages:h=[]},state:A,dispatch:T}=x.useContext(Se),{state:{portalStyle:{backgroundColor:B="#FEF9F5"}}}=x.useContext(Gn),y=Kn(B),k=hr(),[D]=xe(),[P,O]=x.useState(""),[W,U]=x.useState(""),[f,g]=x.useState(""),[j,C]=x.useState(!1),[b,q]=x.useState(!1);x.useEffect(()=>{g(e.id||"")},[e]);const H=()=>{t("".concat(k.state.isCompanyOrder?"/company-orders":"/orders"))};x.useEffect(()=>{if(f){const N=async()=>{const L=parseInt(f,10);if(L){C(!0);try{const l=r?await Qn(L):await Yn(L);if(console.log(l),l){const d=r?fr(l,n):lm(l,n);T({type:"all",payload:d}),O(f),U(d.createdEmail),T({type:"variantImages",payload:{variantImages:[]}}),q(!0)}}catch(l){l==="order does not exist"&&setTimeout(()=>{window.location.hash="/orderDetail/".concat(P)},1e3)}finally{C(!1)}}},M=async()=>{const L=r?await ei():await ti();T({type:"statusType",payload:{orderStatus:L}})};N(),M()}},[r,f,P,W]);const X=N=>{g(N.toString())};x.useEffect(()=>{(async()=>{var M;try{let L=i;if(!L){const{addressConfig:d}=await Hn();L=d,a({type:"common",payload:{addressConfig:L}})}const l=((M=(L||[]).find(d=>d.key==="address_label"))==null?void 0:M.isEnabled)==="1";T({type:"addressLabel",payload:{addressLabelPermission:l}})}catch(L){At.error(L)}})()},[]);const I=N=>{const M=_.find(l=>l.systemLabel===N);let L=(M==null?void 0:M.customLabel)||p;if(M){const l=pr[M.systemLabel];L=l&&n(l)!==M.systemLabel?n(l):L}return L};return x.useEffect(()=>{const N=async()=>{const L=(A.products||[]).map(l=>l.sku);if(L.length>0){const l=r?sr:cr,{variantSku:d=[]}=await l({skus:L}),v=d.map($=>({variantId:$.variantId,variantSku:$.variantSku,variantImage:$.imageUrl}));T({type:"variantImages",payload:{variantImages:v}}),q(!1)}};h.length===0&&b&&N()},[b]),s.jsx(Zn,{isSpinning:j,background:"rgba(255,255,255,0.2)",children:s.jsxs(re,{sx:{overflow:"auto",flex:1},children:[s.jsx(re,{sx:{marginBottom:"10px",width:"fit-content"},children:s.jsx(re,{sx:{color:"primary.main",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center"},onClick:H,children:k.state!==null?s.jsxs(s.Fragment,{children:[s.jsx(pi,{sx:{fontSize:"13px",margin:"0 8px"}}),s.jsx("span",{children:n("orderDetail.backToOrders")})]}):""})}),s.jsxs(ke,{container:!0,spacing:2,children:[s.jsxs(ke,{item:!0,xs:D?12:8,sx:{display:"flex",alignItems:"center",gap:"15px",order:D?1:0},children:[s.jsxs(Q,{variant:"h4",sx:{color:Vn(y,.87)||"#263238"},children:[n("orderDetail.orderId",{orderId:f}),n("orderDetail.purchaseOrderNumber",{purchaseOrderNumber:u!=null?u:""})]}),s.jsx(Q,{children:n("orderDetail.erpOrderId",{erpOrderId:W})}),s.jsx(lr,{code:c,text:I(c)})]}),s.jsx(ke,{container:!0,item:!0,xs:D?12:4,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(k==null?void 0:k.state)&&s.jsx(Ii,{onChange:N=>X(N),color:y})})]}),s.jsxs(ke,{container:!0,spacing:2,sx:{marginTop:"0",overflow:"auto",flexWrap:D?"wrap":"nowrap",paddingBottom:"20px"},children:[s.jsx(ke,{item:!0,sx:D?{flexBasis:"100%"}:{flexBasis:"690px",flexGrow:1},children:s.jsxs(Ct,{spacing:3,children:[s.jsx(cm,{}),s.jsx(Ui,{}),s.jsx(Gi,{})]})}),s.jsx(ke,{item:!0,sx:D?{flexBasis:"100%"}:{flexBasis:"340px"},children:JSON.stringify(m)==="{}"?null:s.jsx(zi,{detailsData:A})})]})]})})}function Wm(){return s.jsx(wi,{children:s.jsx(pm,{})})}export{Wm as default};
